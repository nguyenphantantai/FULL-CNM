{"ast":null,"code":"// src/pages/Home.jsx\n\"use client\";\n\n// Keep this if using Next.js App Router\nvar _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\Nhom12_Zalo_Web\\\\FE-WebAppZola\\\\src\\\\pages\\\\Home.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\"; // Import React\nimport { Modal, Spinner, Toast, ToastContainer } from \"react-bootstrap\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"bootstrap-icons/font/bootstrap-icons.css\";\nimport \"../styles/home.css\"; // Your specific styles\nimport useChat from \"../hooks/useChat\"; // Import the custom hook\nimport CreateGroupModal from \"../components/CreateGroupModal\";\nimport GroupInfoModal from \"../components/GroupInfoModal\";\n\n// --- Presentational Component ---\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  var _user$name, _selectedContact$name, _selectedContact$name2, _profileData$fullName, _user$name2;\n  const {\n    // State\n    user,\n    contacts,\n    // Use full list for counts or specific checks if needed\n    groups,\n    // Use full list for counts or specific checks if needed\n    selectedContact,\n    messages,\n    newMessage,\n    isConnected,\n    showEmojiPicker,\n    searchQuery,\n    mediaFiles,\n    documents,\n    showMedia,\n    showFiles,\n    activeTab,\n    showProfileModal,\n    profileData,\n    loading,\n    // Use loading state for spinners etc.\n    showAddFriendModal,\n    friendEmail,\n    error,\n    showToast,\n    friendRequests,\n    showCreateGroupModal,\n    showGroupInfoModal,\n    selectedGroup,\n    // Pass selectedGroup to GroupInfoModal\n\n    // Setters\n    setNewMessage,\n    setShowEmojiPicker,\n    setSearchQuery,\n    setShowProfileModal,\n    setProfileData,\n    setShowAddFriendModal,\n    setFriendEmail,\n    setShowToast,\n    setShowCreateGroupModal,\n    setShowGroupInfoModal,\n    // Refs\n    messagesEndRef,\n    fileInputRef,\n    imageInputRef,\n    videoInputRef,\n    // Handlers\n    handleContactSelect,\n    handleSendMessage,\n    handleSendFile,\n    // Use the consolidated handler\n    handleEmojiSelect,\n    handleMessageAction,\n    toggleMediaView,\n    toggleFilesView,\n    handleTabChange,\n    handleProfileClick,\n    handleCloseProfileModal,\n    handleAvatarChange,\n    // Pass the file directly\n    handleUpdateProfile,\n    handleAddFriend,\n    handleCloseAddFriendModal,\n    handleSubmitAddFriend,\n    handleRespondToFriendRequest,\n    handleRemoveFriend,\n    handleCreateGroup,\n    handleGroupCreated,\n    handleGroupInfo,\n    handleGroupUpdated,\n    handleLeaveGroup,\n    handleDeleteGroup,\n    // showError, // Not called directly from JSX\n\n    // Derived Data\n    filteredContacts,\n    filteredGroups,\n    emojis,\n    token // Get token from hook\n  } = useChat();\n\n  // Specific handlers for file inputs that call the main handler\n  const handleFileSelectEvent = e => {\n    const file = e.target.files[0];\n    if (file) {\n      handleSendFile(file, \"file\");\n    }\n    if (fileInputRef.current) fileInputRef.current.value = null; // Reset input\n  };\n  const handleImageSelectEvent = e => {\n    const file = e.target.files[0];\n    if (file) {\n      handleSendFile(file, \"image\");\n    }\n    if (imageInputRef.current) imageInputRef.current.value = null; // Reset input\n  };\n  const handleVideoSelectEvent = e => {\n    const file = e.target.files[0];\n    if (file) {\n      handleSendFile(file, \"video\");\n    }\n    if (videoInputRef.current) videoInputRef.current.value = null; // Reset input\n  };\n  const handleAvatarChangeEvent = e => {\n    const file = e.target.files[0];\n    if (file) {\n      handleAvatarChange(file); // Pass file to hook handler\n    }\n    // No need to reset avatar input usually\n    if (e.target) e.target.value = null; // Reset file input\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-app\",\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {\n      position: \"top-end\",\n      className: \"p-3\",\n      style: {\n        zIndex: 1056\n      },\n      children: [\" \", /*#__PURE__*/_jsxDEV(Toast, {\n        onClose: () => setShowToast(false),\n        show: showToast,\n        delay: 3000,\n        autohide: true,\n        bg: error !== null && error !== void 0 && error.includes(\"thành công\") ? 'success' : 'danger',\n        children: [\" \", /*#__PURE__*/_jsxDEV(Toast.Header, {\n          closeButton: true,\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            className: \"me-auto\",\n            children: error !== null && error !== void 0 && error.includes(\"thành công\") ? 'Thành công' : 'Thông báo'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Toast.Body, {\n          className: error !== null && error !== void 0 && error.includes(\"thành công\") ? 'text-white' : '',\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar left-sidebar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-avatar\",\n        onClick: handleProfileClick,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"avatar-circle pointer\",\n          children: user.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: user.avatar || \"/placeholder.svg\",\n            alt: \"Avatar\",\n            className: \"avatar-img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            children: ((_user$name = user.name) === null || _user$name === void 0 ? void 0 : _user$name.charAt(0).toUpperCase()) || \"U\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 15\n          }, this) // Add fallback\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar-taskbar\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `taskbar-btn ${activeTab === \"chat\" ? \"active\" : \"\"}`,\n          onClick: () => handleTabChange(\"chat\"),\n          title: \"Tin nh\\u1EAFn\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `taskbar-btn ${activeTab === \"contacts\" ? \"active\" : \"\"}`,\n          onClick: () => handleTabChange(\"contacts\"),\n          style: {\n            position: \"relative\"\n          },\n          title: \"Danh b\\u1EA1\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-people\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), friendRequests.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"request-badge\",\n            children: friendRequests.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 43\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"setting-btn\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `taskbar-btn ${activeTab === \"settings\" ? \"active\" : \"\"}`,\n          onClick: () => handleTabChange(\"settings\"),\n          title: \"C\\xE0i \\u0111\\u1EB7t\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-gear\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-list-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-input-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"T\\xECm ki\\u1EBFm\",\n            value: searchQuery,\n            onChange: e => setSearchQuery(e.target.value),\n            className: \"search-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"user-button\",\n            onClick: handleAddFriend,\n            title: \"Th\\xEAm b\\u1EA1n\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-person-plus\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"user-button\",\n            onClick: handleCreateGroup,\n            title: \"T\\u1EA1o nh\\xF3m\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-people-fill\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), activeTab === \"chat\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contact-list\",\n        children: loading && contacts.length === 0 && groups.length === 0 ?\n        /*#__PURE__*/\n        // Show spinner only on initial load\n        _jsxDEV(\"div\", {\n          className: \"d-flex justify-content-center p-3\",\n          children: /*#__PURE__*/_jsxDEV(Spinner, {\n            animation: \"border\",\n            variant: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 18\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [filteredGroups.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"groups-section mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"section-title\",\n              children: [\"Nh\\xF3m (\", filteredGroups.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 21\n            }, this), filteredGroups.map(group => {\n              var _group$name;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `contact-item ${(selectedContact === null || selectedContact === void 0 ? void 0 : selectedContact.id) === group.groupId && (selectedContact === null || selectedContact === void 0 ? void 0 : selectedContact.type) === \"group\" ? \"active\" : \"\"}`,\n                onClick: () => handleContactSelect(group),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-avatar\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"avatar-circle\",\n                    children: group.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: group.avatar || \"/placeholder.svg\",\n                      alt: \"Avatar\",\n                      className: \"avatar-img\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 225,\n                      columnNumber: 31\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: ((_group$name = group.name) === null || _group$name === void 0 ? void 0 : _group$name.charAt(0)) || \"G\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 227,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-details\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"contact-name\",\n                    children: group.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 232,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"contact-status small text-muted\",\n                    children: [group.memberCount || 0, \" th\\xE0nh vi\\xEAn\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 233,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-actions ms-auto\",\n                  onClick: e => e.stopPropagation(),\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-sm btn-light\",\n                    onClick: () => handleGroupInfo(group),\n                    title: \"Th\\xF4ng tin nh\\xF3m\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi bi-info-circle\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 242,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 26\n                }, this)]\n              }, group.groupId, true, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 23\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 19\n          }, this), filteredContacts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"contacts-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"section-title\",\n              children: [\"B\\u1EA1n b\\xE8 (\", filteredContacts.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 21\n            }, this), filteredContacts.map(contact => {\n              var _contact$name;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `contact-item ${(selectedContact === null || selectedContact === void 0 ? void 0 : selectedContact.id) === contact.id && (selectedContact === null || selectedContact === void 0 ? void 0 : selectedContact.type) === \"contact\" ? \"active\" : \"\"}`,\n                onClick: () => handleContactSelect(contact),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-avatar\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"avatar-circle\",\n                    children: contact.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: contact.avatar || \"/placeholder.svg\",\n                      alt: \"Avatar\",\n                      className: \"avatar-img\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 265,\n                      columnNumber: 31\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: ((_contact$name = contact.name) === null || _contact$name === void 0 ? void 0 : _contact$name.charAt(0)) || \"C\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 267,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-details\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"contact-name\",\n                    children: contact.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"contact-last-message small text-muted\",\n                    children: contact.lastMessage ? /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-truncate\",\n                      style: {\n                        maxWidth: '150px',\n                        display: 'inline-block'\n                      },\n                      children: contact.lastMessage.type === 'text' ? contact.lastMessage.content : contact.lastMessage.type === 'image' || contact.lastMessage.type === 'imageGroup' ? 'Đã gửi ảnh' : contact.lastMessage.type === 'video' ? 'Đã gửi video' : contact.lastMessage.type === 'file' ? `Đã gửi file: ${contact.lastMessage.name || ''}` : contact.lastMessage.type === 'emoji' ? contact.lastMessage.content // Show emoji directly\n                      : 'Tệp đính kèm'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 276,\n                      columnNumber: 31\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: contact.status\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 290,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 274,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-meta ms-auto\",\n                  children: contact.unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"unread-badge\",\n                    children: contact.unreadCount\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 297,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-actions ms-auto\",\n                  onClick: e => e.stopPropagation(),\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-sm btn-light text-danger\",\n                    onClick: () => handleRemoveFriend(contact.id),\n                    title: \"X\\xF3a b\\u1EA1n\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi bi-person-dash\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 307,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 302,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 26\n                }, this)]\n              }, contact.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 23\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 19\n          }, this), !loading && filteredGroups.length === 0 && filteredContacts.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"no-content-message p-3 text-center text-muted\",\n            children: \"Kh\\xF4ng t\\xECm th\\u1EA5y cu\\u1ED9c tr\\xF2 chuy\\u1EC7n n\\xE0o.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this), activeTab === \"contacts\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contacts-panel\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-title\",\n          children: \"Danh b\\u1EA1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 13\n        }, this), friendRequests.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"friend-requests-section mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sub-section-title\",\n            children: [\"L\\u1EDDi m\\u1EDDi k\\u1EBFt b\\u1EA1n (\", friendRequests.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 17\n          }, this), loading && friendRequests.length === 0 ?\n          /*#__PURE__*/\n          // Spinner only if loading and no requests yet\n          _jsxDEV(\"div\", {\n            className: \"d-flex justify-content-center p-3\",\n            children: /*#__PURE__*/_jsxDEV(Spinner, {\n              animation: \"border\",\n              variant: \"primary\",\n              size: \"sm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 22\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 20\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"friend-requests-list\",\n            children: friendRequests.map(request => {\n              var _request$sender, _request$sender2, _request$sender3, _request$sender4;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"friend-request-item d-flex justify-content-between align-items-center p-2 border-bottom\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex align-items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"me-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"avatar-circle small\",\n                      children: (_request$sender = request.sender) !== null && _request$sender !== void 0 && _request$sender.avatarUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: request.sender.avatarUrl || \"/placeholder.svg\",\n                        alt: \"Avatar\",\n                        className: \"avatar-img\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 350,\n                        columnNumber: 33\n                      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: (_request$sender2 = request.sender) !== null && _request$sender2 !== void 0 && _request$sender2.fullName ? request.sender.fullName.charAt(0) : \"?\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 356,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 348,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 347,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"fw-bold small\",\n                      children: ((_request$sender3 = request.sender) === null || _request$sender3 === void 0 ? void 0 : _request$sender3.fullName) || ((_request$sender4 = request.sender) === null || _request$sender4 === void 0 ? void 0 : _request$sender4.email)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 361,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-muted small fst-italic\",\n                      children: request.message || \"Muốn kết bạn\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 362,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 360,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-sm btn-success me-1\",\n                    onClick: () => handleRespondToFriendRequest(request.requestId, \"accept\"),\n                    disabled: loading // Disable while processing\n                    ,\n                    title: \"Ch\\u1EA5p nh\\u1EADn\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi bi-check-lg\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 372,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 366,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-sm btn-outline-danger\",\n                    onClick: () => handleRespondToFriendRequest(request.requestId, \"reject\"),\n                    disabled: loading // Disable while processing\n                    ,\n                    title: \"T\\u1EEB ch\\u1ED1i\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi bi-x-lg\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 380,\n                      columnNumber: 30\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 374,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 25\n                }, this)]\n              }, request.requestId, true, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 23\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"contacts-list-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sub-section-title\",\n            children: [\"B\\u1EA1n b\\xE8 (\", contacts.filter(c => c.type === 'contact').length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"contact-list\",\n            children: loading && contacts.filter(c => c.type === 'contact').length === 0 ?\n            /*#__PURE__*/\n            // Spinner only if loading and no contacts yet\n            _jsxDEV(\"div\", {\n              className: \"d-flex justify-content-center p-3\",\n              children: /*#__PURE__*/_jsxDEV(Spinner, {\n                animation: \"border\",\n                variant: \"primary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 22\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 20\n            }, this) : contacts.filter(c => c.type === 'contact').length > 0 ? contacts // Map over the full contacts list, filtering inline\n            .filter(c => c.type === \"contact\").filter(contact => contact.name.toLowerCase().includes(searchQuery.toLowerCase())) // Apply search filter here\n            .map(contact => {\n              var _contact$name2;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `contact-item ${(selectedContact === null || selectedContact === void 0 ? void 0 : selectedContact.id) === contact.id && (selectedContact === null || selectedContact === void 0 ? void 0 : selectedContact.type) === 'contact' ? 'active' : ''}`,\n                onClick: () => {\n                  handleContactSelect(contact);\n                  handleTabChange('chat');\n                } // Switch to chat tab on select\n                ,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-avatar\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"avatar-circle\",\n                    children: contact.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: contact.avatar || \"/placeholder.svg\",\n                      alt: \"Avatar\",\n                      className: \"avatar-img\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 411,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: ((_contact$name2 = contact.name) === null || _contact$name2 === void 0 ? void 0 : _contact$name2.charAt(0)) || \"C\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 413,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 409,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-details\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"contact-name\",\n                    children: contact.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 418,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-actions ms-auto\",\n                  onClick: e => e.stopPropagation(),\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-sm btn-light text-danger\",\n                    onClick: () => handleRemoveFriend(contact.id),\n                    title: \"X\\xF3a b\\u1EA1n\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi bi-person-dash\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 427,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 422,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 421,\n                  columnNumber: 24\n                }, this)]\n              }, contact.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 21\n              }, this);\n            }) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"no-content-message p-3 text-center text-muted\",\n              children: \"B\\u1EA1n ch\\u01B0a c\\xF3 b\\u1EA1n b\\xE8 n\\xE0o.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 11\n      }, this), activeTab === \"settings\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"settings-section p-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-title\",\n          children: \"C\\xE0i \\u0111\\u1EB7t\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"settings-list\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-item p-2 border-bottom d-flex align-items-center\",\n            style: {\n              cursor: 'pointer'\n            },\n            onClick: handleProfileClick,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-icon me-2\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-person-circle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 52\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-details\",\n              children: \"H\\u1ED3 s\\u01A1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-item p-2 border-bottom d-flex align-items-center\",\n            style: {\n              cursor: 'pointer'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-icon me-2\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-bell\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 53\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-details\",\n              children: \"Th\\xF4ng b\\xE1o\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 18\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-item p-2 border-bottom d-flex align-items-center\",\n            style: {\n              cursor: 'pointer'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-icon me-2\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-shield-lock\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 53\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-details\",\n              children: \"B\\u1EA3o m\\u1EADt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 18\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-item p-2 text-danger d-flex align-items-center\",\n            style: {\n              cursor: 'pointer'\n            },\n            onClick: () => {\n              if (window.confirm('Bạn có chắc muốn đăng xuất?')) {\n                localStorage.clear();\n                window.location.href = '/login';\n              }\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-icon me-2\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-box-arrow-right\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 53\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-details\",\n              children: \"\\u0110\\u0103ng xu\\u1EA5t\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 18\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 16\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-chat\",\n      children: selectedContact ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-contact-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"contact-avatar me-2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"avatar-circle\",\n                children: selectedContact.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: selectedContact.avatar || \"/placeholder.svg\",\n                  alt: \"Avatar\",\n                  className: \"avatar-img\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 477,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: ((_selectedContact$name = selectedContact.name) === null || _selectedContact$name === void 0 ? void 0 : _selectedContact$name.charAt(0)) || \"?\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"contact-name\",\n                children: selectedContact.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"active-status small text-muted\",\n                children: [selectedContact.type === \"group\" ? `${selectedContact.memberCount || 0} thành viên` : selectedContact.status || \"Online\", \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"action-btn\",\n              title: \"G\\u1ECDi tho\\u1EA1i (ch\\u01B0a c\\xF3)\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-telephone\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"action-btn\",\n              title: \"G\\u1ECDi video (ch\\u01B0a c\\xF3)\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-camera-video\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 497,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 17\n            }, this), selectedContact.type === \"group\" && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"action-btn\",\n              onClick: () => handleGroupInfo(selectedContact),\n              title: \"Th\\xF4ng tin nh\\xF3m\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-info-circle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"messages-container\",\n          children: [!isConnected && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"connection-status text-center text-warning p-1 small\",\n            children: \"\\u0110ang k\\u1EBFt n\\u1ED1i l\\u1EA1i...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 32\n          }, this), loading && messages.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-center p-5\",\n            children: /*#__PURE__*/_jsxDEV(Spinner, {\n              animation: \"border\",\n              variant: \"primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 514,\n              columnNumber: 103\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 514,\n            columnNumber: 52\n          }, this), \" \", messages.map(message => {\n            var _message$sender, _message$sender2, _message$fileType, _message$fileType2;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              // Use message ID as key\n              className: `message ${message.isSystemMessage ? \"system\" : message.senderId === user.id ? \"sent\" : \"received\"}`,\n              children: [message.senderId !== user.id && !message.isSystemMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-avatar\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"avatar-circle small\",\n                  children: (selectedContact === null || selectedContact === void 0 ? void 0 : selectedContact.type) === 'contact' && selectedContact !== null && selectedContact !== void 0 && selectedContact.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: selectedContact.avatar || \"/placeholder.svg\",\n                    alt: \"Avatar\",\n                    className: \"avatar-img\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 529,\n                    columnNumber: 27\n                  }, this) : (selectedContact === null || selectedContact === void 0 ? void 0 : selectedContact.type) === 'group' ?\n                  /*#__PURE__*/\n                  // Find member avatar in group (complex, maybe skip for now or show initial)\n                  _jsxDEV(\"span\", {\n                    children: ((_message$sender = message.sender) === null || _message$sender === void 0 ? void 0 : _message$sender.charAt(0)) || '?'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 532,\n                    columnNumber: 28\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: ((_message$sender2 = message.sender) === null || _message$sender2 === void 0 ? void 0 : _message$sender2.charAt(0)) || \"?\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 534,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 526,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 525,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `message-content-wrapper ${message.senderId === user.id ? \"align-items-end\" : \"align-items-start\"}`,\n                children: [(selectedContact === null || selectedContact === void 0 ? void 0 : selectedContact.type) === 'group' && message.senderId !== user.id && !message.isSystemMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"message-sender-name small text-muted mb-1\",\n                  children: message.sender\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 542,\n                  columnNumber: 25\n                }, this), message.isSystemMessage ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"system-message-bubble\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"system-message-content small\",\n                    children: message.content\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 547,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 546,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `message-bubble ${message.isSending ? 'sending' : ''} ${message.isError ? 'error' : ''}`,\n                    children: [message.isUnsent ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"unsent-content fst-italic text-muted\",\n                      children: message.content\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 557,\n                      columnNumber: 29\n                    }, this) : message.isFile ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"file-content d-flex align-items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: `bi bi-file-earmark${(_message$fileType = message.fileType) !== null && _message$fileType !== void 0 && _message$fileType.includes('pdf') ? '-pdf' : (_message$fileType2 = message.fileType) !== null && _message$fileType2 !== void 0 && _message$fileType2.includes('word') ? '-word' : ''} fs-4 me-2`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 560,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: /*#__PURE__*/_jsxDEV(\"a\", {\n                          href: message.fileUrl,\n                          download: message.fileName,\n                          className: \"text-break\",\n                          children: message.fileName\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 562,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 561,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 559,\n                      columnNumber: 29\n                    }, this) : message.isImage ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"image-content\",\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: message.content || \"/placeholder.svg\",\n                        alt: \"Sent content\",\n                        style: {\n                          maxWidth: '250px',\n                          maxHeight: '300px',\n                          borderRadius: '8px'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 570,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 569,\n                      columnNumber: 29\n                    }, this) : message.isVideo ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"video-content position-relative\",\n                      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n                        src: message.content,\n                        controls: true,\n                        style: {\n                          maxWidth: '250px',\n                          maxHeight: '300px',\n                          borderRadius: '8px'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 574,\n                        columnNumber: 31\n                      }, this), message.duration && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"video-duration-overlay\",\n                        children: [message.duration, \"s\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 575,\n                        columnNumber: 52\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 573,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-content\",\n                      style: {\n                        whiteSpace: 'pre-wrap',\n                        wordBreak: 'break-word'\n                      },\n                      children: message.content\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 578,\n                      columnNumber: 29\n                    }, this), message.isSending && /*#__PURE__*/_jsxDEV(Spinner, {\n                      animation: \"border\",\n                      size: \"sm\",\n                      className: \"ms-2 sending-spinner\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 580,\n                      columnNumber: 50\n                    }, this), message.isError && /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi bi-exclamation-circle-fill text-danger ms-2\",\n                      title: \"G\\u1EEDi l\\u1ED7i\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 581,\n                      columnNumber: 48\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 555,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"message-time small text-muted mt-1\",\n                    children: message.time\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 583,\n                    columnNumber: 25\n                  }, this), message.senderId === user.id && !message.isUnsent && !message.isSending && !message.isSystemMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"message-actions\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn btn-sm btn-light\",\n                      onClick: () => handleMessageAction(message.id, \"delete\"),\n                      title: \"X\\xF3a tin nh\\u1EAFn\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"bi bi-trash\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 593,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 588,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 587,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 539,\n                columnNumber: 19\n              }, this)]\n            }, message.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 17\n            }, this);\n          }), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: messagesEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 603,\n            columnNumber: 15\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-input-area\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-tools\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"tool-btn\",\n              onClick: () => {\n                var _fileInputRef$current;\n                return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n              },\n              title: \"\\u0110\\xEDnh k\\xE8m file\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-paperclip\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 610,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 609,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              ref: fileInputRef,\n              style: {\n                display: \"none\"\n              },\n              onChange: handleFileSelectEvent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 612,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"tool-btn\",\n              onClick: () => {\n                var _imageInputRef$curren;\n                return (_imageInputRef$curren = imageInputRef.current) === null || _imageInputRef$curren === void 0 ? void 0 : _imageInputRef$curren.click();\n              },\n              title: \"G\\u1EEDi h\\xECnh \\u1EA3nh\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 615,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 614,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              ref: imageInputRef,\n              accept: \"image/*\",\n              style: {\n                display: \"none\"\n              },\n              onChange: handleImageSelectEvent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 617,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"tool-btn\",\n              onClick: () => {\n                var _videoInputRef$curren;\n                return (_videoInputRef$curren = videoInputRef.current) === null || _videoInputRef$curren === void 0 ? void 0 : _videoInputRef$curren.click();\n              },\n              title: \"G\\u1EEDi video\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-camera-video\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 620,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 619,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              ref: videoInputRef,\n              accept: \"video/*\",\n              style: {\n                display: \"none\"\n              },\n              onChange: handleVideoSelectEvent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 622,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"tool-btn\",\n              onClick: () => setShowEmojiPicker(!showEmojiPicker),\n              title: \"Bi\\u1EC3u c\\u1EA3m\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-emoji-smile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 625,\n                columnNumber: 20\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 624,\n              columnNumber: 18\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 608,\n            columnNumber: 15\n          }, this), showEmojiPicker && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"emoji-picker\",\n            children: emojis.map((emoji, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"emoji-btn\",\n              onClick: () => handleEmojiSelect(emoji),\n              children: emoji\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 637,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 635,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSendMessage,\n            className: \"message-form\",\n            children: [console.log('Input state:', {\n              isConnected,\n              loading,\n              selectedContact: !!selectedContact\n            }), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Nh\\u1EADp tin nh\\u1EAFn...\",\n              value: newMessage,\n              onChange: e => setNewMessage(e.target.value),\n              disabled: !isConnected || loading // Disable while loading messages too?\n              ,\n              className: \"message-input\",\n              onKeyDown: e => {\n                if (e.key === 'Enter' && !e.shiftKey) handleSendMessage(e);\n              } // Send on Enter\n              ,\n              style: {\n                pointerEvents: !isConnected || loading ? 'none' : 'auto'\n              } // Add visual feedback\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 647,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"send-btn\",\n              disabled: !isConnected || !newMessage.trim() || loading,\n              title: \"G\\u1EEDi\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-send\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 663,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 657,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 645,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 606,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-chat-selected\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center p-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-chat-dots display-1 text-muted\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 671,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-3\",\n            children: \"Ch\\u1ECDn m\\u1ED9t cu\\u1ED9c tr\\xF2 chuy\\u1EC7n \\u0111\\u1EC3 b\\u1EAFt \\u0111\\u1EA7u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 672,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 670,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 669,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 469,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `sidebar right-sidebar ${selectedContact ? 'active' : ''}`,\n      children: [\" \", selectedContact ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"contact-profile p-3 text-center border-bottom\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"avatar-circle large mx-auto mb-2\",\n            children: selectedContact.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: selectedContact.avatar || \"/placeholder.svg\",\n              alt: \"Avatar\",\n              className: \"avatar-img\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 685,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              children: ((_selectedContact$name2 = selectedContact.name) === null || _selectedContact$name2 === void 0 ? void 0 : _selectedContact$name2.charAt(0)) || \"?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 687,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 683,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"profile-name mb-1\",\n            children: selectedContact.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 690,\n            columnNumber: 15\n          }, this), selectedContact.type === \"group\" && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"group-info\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"badge bg-secondary\",\n              children: [selectedContact.memberCount || 0, \" th\\xE0nh vi\\xEAn\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 693,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 692,\n            columnNumber: 17\n          }, this), selectedContact.type === 'contact' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-sm btn-outline-danger\",\n              onClick: () => handleRemoveFriend(selectedContact.id),\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-person-dash me-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 700,\n                columnNumber: 25\n              }, this), \" X\\xF3a b\\u1EA1n\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 699,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 698,\n            columnNumber: 18\n          }, this), selectedContact.type === 'group' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-sm btn-outline-primary\",\n              onClick: () => handleGroupInfo(selectedContact),\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-info-circle me-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 707,\n                columnNumber: 25\n              }, this), \" Th\\xF4ng tin nh\\xF3m\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 706,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 705,\n            columnNumber: 18\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 682,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"additional-info p-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"media-tabs nav nav-tabs nav-fill mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: `nav-link ${showMedia ? \"active\" : \"\"}`,\n                onClick: toggleMediaView,\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"bi bi-images me-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 728,\n                  columnNumber: 22\n                }, this), \" \\u1EA2nh/Video (\", mediaFiles.length, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 727,\n                columnNumber: 20\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `nav-link ${showFiles ? \"active\" : \"\"}`,\n                onClick: toggleFilesView,\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"bi bi-file-earmark me-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 731,\n                  columnNumber: 22\n                }, this), \" File (\", documents.length, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 730,\n                columnNumber: 20\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 726,\n              columnNumber: 17\n            }, this), showFiles && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"files-list overflow-auto\",\n              style: {\n                maxHeight: 'calc(100vh - 300px)'\n              },\n              children: [\" \", documents.length > 0 ? documents.map(file => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-item d-flex align-items-center p-2 border-bottom\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"file-icon me-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: `bi bi-file-earmark${file.type === \"pdf\" ? \"-pdf text-danger\" : file.type === \"docx\" ? \"-word text-primary\" : \"\"} fs-4`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 742,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 741,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"file-info overflow-hidden\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"file-name text-truncate small fw-bold\",\n                    children: file.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 745,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"file-meta small text-muted\",\n                    children: [file.date, file.size > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"file-size\",\n                      children: [\" \\xB7 \", (file.size / (1024 * 1024)).toFixed(2), \"MB\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 748,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 746,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 744,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: file.url,\n                  download: file.name,\n                  className: \"ms-auto btn btn-sm btn-light\",\n                  title: \"T\\u1EA3i xu\\u1ED1ng\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"bi bi-download\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 752,\n                    columnNumber: 32\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 751,\n                  columnNumber: 28\n                }, this)]\n              }, file.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 740,\n                columnNumber: 25\n              }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"no-content-message text-center text-muted p-3\",\n                children: \"Ch\\u01B0a c\\xF3 file n\\xE0o.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 757,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 737,\n              columnNumber: 19\n            }, this), showMedia && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"media-grid overflow-auto\",\n              style: {\n                maxHeight: 'calc(100vh - 300px)'\n              },\n              children: [\" \", mediaFiles.length > 0 ? mediaFiles.map(file => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"media-item position-relative\",\n                children: file.type === \"image\" ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: file.url || \"/placeholder.svg\",\n                  alt: file.name,\n                  className: \"media-thumbnail\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 769,\n                  columnNumber: 29\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"video-thumbnail\",\n                  children: [/*#__PURE__*/_jsxDEV(\"video\", {\n                    src: file.url,\n                    className: \"media-thumbnail\",\n                    preload: \"metadata\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 772,\n                    columnNumber: 31\n                  }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"play-icon\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi bi-play-fill\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 773,\n                      columnNumber: 58\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 773,\n                    columnNumber: 31\n                  }, this), file.duration && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"video-duration\",\n                    children: [Math.round(file.duration), \"s\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 774,\n                    columnNumber: 49\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 771,\n                  columnNumber: 29\n                }, this)\n              }, file.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 767,\n                columnNumber: 25\n              }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"no-content-message text-center text-muted p-3\",\n                children: \"Ch\\u01B0a c\\xF3 \\u1EA3nh/video n\\xE0o.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 781,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 764,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 725,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 724,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-content-message text-center text-muted p-5\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Ch\\u1ECDn m\\u1ED9t li\\xEAn h\\u1EC7 ho\\u1EB7c nh\\xF3m \\u0111\\u1EC3 xem th\\xF4ng tin.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 790,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 789,\n        columnNumber: 14\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 679,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showProfileModal,\n      onHide: handleCloseProfileModal,\n      centered: true,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"C\\u1EADp nh\\u1EADt h\\u1ED3 s\\u01A1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 798,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 797,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"avatar-circle large mx-auto mb-2 position-relative\",\n            children: [profileData.avatarUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: profileData.avatarUrl,\n              alt: \"Avatar\",\n              className: \"avatar-img\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 804,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              children: ((_profileData$fullName = profileData.fullName) === null || _profileData$fullName === void 0 ? void 0 : _profileData$fullName.charAt(0).toUpperCase()) || ((_user$name2 = user.name) === null || _user$name2 === void 0 ? void 0 : _user$name2.charAt(0).toUpperCase()) || \"U\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 806,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"avatar-edit-button\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-pencil-fill\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 809,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                accept: \"image/*\",\n                style: {\n                  display: \"none\"\n                },\n                onChange: handleAvatarChangeEvent\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 810,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 808,\n              columnNumber: 18\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 802,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 801,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"H\\u1ECD v\\xE0 t\\xEAn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 815,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: profileData.fullName || \"\",\n            onChange: e => setProfileData({\n              ...profileData,\n              fullName: e.target.value\n            }),\n            placeholder: \"Nh\\u1EADp h\\u1ECD v\\xE0 t\\xEAn\",\n            className: \"form-control\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 816,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 814,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Ng\\xE0y sinh\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 825,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: profileData.birthdate || \"\",\n            onChange: e => setProfileData({\n              ...profileData,\n              birthdate: e.target.value\n            }),\n            className: \"form-control\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 826,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 824,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Gi\\u1EDBi t\\xEDnh\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 834,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: profileData.gender || \"\",\n            onChange: e => setProfileData({\n              ...profileData,\n              gender: e.target.value\n            }),\n            className: \"form-select\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Ch\\u1ECDn gi\\u1EDBi t\\xEDnh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 840,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Nam\",\n              children: \"Nam\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 841,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"N\\u1EEF\",\n              children: \"N\\u1EEF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 842,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Kh\\xE1c\",\n              children: \"Kh\\xE1c\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 843,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Kh\\xF4ng chia s\\u1EBB\",\n              children: \"Kh\\xF4ng mu\\u1ED1n n\\xF3i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 844,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 835,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 833,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 800,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-secondary\",\n          onClick: handleCloseProfileModal,\n          children: \"H\\u1EE7y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 849,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-primary\",\n          onClick: handleUpdateProfile,\n          disabled: loading,\n          children: loading ? /*#__PURE__*/_jsxDEV(Spinner, {\n            as: \"span\",\n            animation: \"border\",\n            size: \"sm\",\n            role: \"status\",\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 853,\n            columnNumber: 24\n          }, this) : \"Lưu thay đổi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 852,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 848,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 796,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showAddFriendModal,\n      onHide: handleCloseAddFriendModal,\n      centered: true,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Th\\xEAm b\\u1EA1n m\\u1EDBi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 861,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 860,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Nh\\u1EADp \\u0111\\u1ECBa ch\\u1EC9 email c\\u1EE7a ng\\u01B0\\u1EDDi b\\u1EA1n mu\\u1ED1n k\\u1EBFt b\\u1EA1n:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 864,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: friendEmail,\n            onChange: e => setFriendEmail(e.target.value),\n            placeholder: \"example@email.com\",\n            className: \"form-control\",\n            autoFocus: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 866,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 865,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 863,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-secondary\",\n          onClick: handleCloseAddFriendModal,\n          children: \"H\\u1EE7y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 877,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-primary\",\n          onClick: handleSubmitAddFriend,\n          disabled: loading || !friendEmail.trim(),\n          children: loading ? /*#__PURE__*/_jsxDEV(Spinner, {\n            as: \"span\",\n            animation: \"border\",\n            size: \"sm\",\n            role: \"status\",\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 881,\n            columnNumber: 25\n          }, this) : \"Gửi lời mời\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 880,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 876,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 859,\n      columnNumber: 7\n    }, this), showCreateGroupModal &&\n    /*#__PURE__*/\n    // Conditionally render modal to ensure fresh state if needed\n    _jsxDEV(CreateGroupModal, {\n      show: showCreateGroupModal,\n      onHide: () => setShowCreateGroupModal(false),\n      onGroupCreated: handleGroupCreated,\n      token: token // Pass token from hook\n      ,\n      userId: user.id // Pass userId from hook\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 888,\n      columnNumber: 11\n    }, this), showGroupInfoModal && selectedGroup &&\n    /*#__PURE__*/\n    // Conditionally render and ensure group data exists\n    _jsxDEV(GroupInfoModal, {\n      show: showGroupInfoModal,\n      onHide: () => setShowGroupInfoModal(false),\n      group: selectedGroup // Pass selected group from hook state\n      ,\n      token: token // Pass token from hook\n      ,\n      userId: user.id // Pass userId from hook\n      ,\n      onGroupUpdated: handleGroupUpdated,\n      onLeaveGroup: handleLeaveGroup,\n      onDeleteGroup: handleDeleteGroup\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 899,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 5\n  }, this);\n};\n_s(Home, \"2IQLswJSUG4N8dS5HPew5JLvATk=\", false, function () {\n  return [useChat];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","React","Modal","Spinner","Toast","ToastContainer","useChat","CreateGroupModal","GroupInfoModal","jsxDEV","_jsxDEV","Fragment","_Fragment","Home","_user$name","_selectedContact$name","_selectedContact$name2","_profileData$fullName","_user$name2","user","contacts","groups","selectedContact","messages","newMessage","isConnected","showEmojiPicker","searchQuery","mediaFiles","documents","showMedia","showFiles","activeTab","showProfileModal","profileData","loading","showAddFriendModal","friendEmail","error","showToast","friendRequests","showCreateGroupModal","showGroupInfoModal","selectedGroup","setNewMessage","setShowEmojiPicker","setSearchQuery","setShowProfileModal","setProfileData","setShowAddFriendModal","setFriendEmail","setShowToast","setShowCreateGroupModal","setShowGroupInfoModal","messagesEndRef","fileInputRef","imageInputRef","videoInputRef","handleContactSelect","handleSendMessage","handleSendFile","handleEmojiSelect","handleMessageAction","toggleMediaView","toggleFilesView","handleTabChange","handleProfileClick","handleCloseProfileModal","handleAvatarChange","handleUpdateProfile","handleAddFriend","handleCloseAddFriendModal","handleSubmitAddFriend","handleRespondToFriendRequest","handleRemoveFriend","handleCreateGroup","handleGroupCreated","handleGroupInfo","handleGroupUpdated","handleLeaveGroup","handleDeleteGroup","filteredContacts","filteredGroups","emojis","token","handleFileSelectEvent","e","file","target","files","current","value","handleImageSelectEvent","handleVideoSelectEvent","handleAvatarChangeEvent","className","children","position","style","zIndex","onClose","show","delay","autohide","bg","includes","Header","closeButton","fileName","lineNumber","columnNumber","Body","onClick","avatar","src","alt","name","charAt","toUpperCase","title","length","type","placeholder","onChange","animation","variant","map","group","_group$name","id","groupId","memberCount","stopPropagation","contact","_contact$name","lastMessage","maxWidth","display","content","status","unreadCount","size","request","_request$sender","_request$sender2","_request$sender3","_request$sender4","sender","avatarUrl","fullName","email","message","requestId","disabled","filter","c","toLowerCase","_contact$name2","cursor","window","confirm","localStorage","clear","location","href","_message$sender","_message$sender2","_message$fileType","_message$fileType2","isSystemMessage","senderId","isSending","isError","isUnsent","isFile","fileType","fileUrl","download","isImage","maxHeight","borderRadius","isVideo","controls","duration","whiteSpace","wordBreak","time","ref","_fileInputRef$current","click","_imageInputRef$curren","accept","_videoInputRef$curren","emoji","index","onSubmit","console","log","onKeyDown","key","shiftKey","pointerEvents","trim","date","toFixed","url","preload","Math","round","onHide","centered","Title","birthdate","gender","Footer","as","role","autoFocus","onGroupCreated","userId","onGroupUpdated","onLeaveGroup","onDeleteGroup","_c","$RefreshReg$"],"sources":["C:/Users/ADMIN/Desktop/Nhom12_Zalo_Web/FE-WebAppZola/src/pages/Home.jsx"],"sourcesContent":["// src/pages/Home.jsx\n\"use client\" // Keep this if using Next.js App Router\n\nimport React from \"react\" // Import React\nimport { Modal, Spinner, Toast, ToastContainer } from \"react-bootstrap\"\nimport \"bootstrap/dist/css/bootstrap.min.css\"\nimport \"bootstrap-icons/font/bootstrap-icons.css\"\nimport \"../styles/home.css\" // Your specific styles\nimport useChat from \"../hooks/useChat\" // Import the custom hook\nimport CreateGroupModal from \"../components/CreateGroupModal\"\nimport GroupInfoModal from \"../components/GroupInfoModal\"\n\n// --- Presentational Component ---\n\nconst Home = () => {\n  const {\n    // State\n    user,\n    contacts, // Use full list for counts or specific checks if needed\n    groups,   // Use full list for counts or specific checks if needed\n    selectedContact,\n    messages,\n    newMessage,\n    isConnected,\n    showEmojiPicker,\n    searchQuery,\n    mediaFiles,\n    documents,\n    showMedia,\n    showFiles,\n    activeTab,\n    showProfileModal,\n    profileData,\n    loading, // Use loading state for spinners etc.\n    showAddFriendModal,\n    friendEmail,\n    error,\n    showToast,\n    friendRequests,\n    showCreateGroupModal,\n    showGroupInfoModal,\n    selectedGroup, // Pass selectedGroup to GroupInfoModal\n\n    // Setters\n    setNewMessage,\n    setShowEmojiPicker,\n    setSearchQuery,\n    setShowProfileModal,\n    setProfileData,\n    setShowAddFriendModal,\n    setFriendEmail,\n    setShowToast,\n    setShowCreateGroupModal,\n    setShowGroupInfoModal,\n\n    // Refs\n    messagesEndRef,\n    fileInputRef,\n    imageInputRef,\n    videoInputRef,\n\n    // Handlers\n    handleContactSelect,\n    handleSendMessage,\n    handleSendFile, // Use the consolidated handler\n    handleEmojiSelect,\n    handleMessageAction,\n    toggleMediaView,\n    toggleFilesView,\n    handleTabChange,\n    handleProfileClick,\n    handleCloseProfileModal,\n    handleAvatarChange, // Pass the file directly\n    handleUpdateProfile,\n    handleAddFriend,\n    handleCloseAddFriendModal,\n    handleSubmitAddFriend,\n    handleRespondToFriendRequest,\n    handleRemoveFriend,\n    handleCreateGroup,\n    handleGroupCreated,\n    handleGroupInfo,\n    handleGroupUpdated,\n    handleLeaveGroup,\n    handleDeleteGroup,\n    // showError, // Not called directly from JSX\n\n    // Derived Data\n    filteredContacts,\n    filteredGroups,\n    emojis,\n    token, // Get token from hook\n  } = useChat()\n\n  // Specific handlers for file inputs that call the main handler\n  const handleFileSelectEvent = (e) => {\n    const file = e.target.files[0]\n    if (file) {\n      handleSendFile(file, \"file\")\n    }\n    if (fileInputRef.current) fileInputRef.current.value = null // Reset input\n  }\n  const handleImageSelectEvent = (e) => {\n    const file = e.target.files[0]\n    if (file) {\n      handleSendFile(file, \"image\")\n    }\n    if (imageInputRef.current) imageInputRef.current.value = null // Reset input\n  }\n  const handleVideoSelectEvent = (e) => {\n    const file = e.target.files[0]\n    if (file) {\n      handleSendFile(file, \"video\")\n    }\n    if (videoInputRef.current) videoInputRef.current.value = null // Reset input\n  }\n  const handleAvatarChangeEvent = (e) => {\n    const file = e.target.files[0]\n    if (file) {\n      handleAvatarChange(file) // Pass file to hook handler\n    }\n    // No need to reset avatar input usually\n     if (e.target) e.target.value = null; // Reset file input\n  }\n\n  return (\n    <div className=\"chat-app\">\n      {/* Toast Notification */}\n      <ToastContainer position=\"top-end\" className=\"p-3\" style={{ zIndex: 1056 }}> {/* Ensure high z-index, top-end is usually better */}\n        <Toast onClose={() => setShowToast(false)} show={showToast} delay={3000} autohide bg={error?.includes(\"thành công\") ? 'success' : 'danger'} > {/* Dynamic background */}\n          <Toast.Header closeButton={true}> {/* Ensure close button shows */}\n            <strong className=\"me-auto\">{error?.includes(\"thành công\") ? 'Thành công' : 'Thông báo'}</strong>\n          </Toast.Header>\n          <Toast.Body className={error?.includes(\"thành công\") ? 'text-white' : ''}>{error}</Toast.Body> {/* White text for success */}\n        </Toast>\n      </ToastContainer>\n\n      {/* Sidebar trái */}\n      <div className=\"sidebar left-sidebar\">\n        <div className=\"user-avatar\" onClick={handleProfileClick}>\n          <div className=\"avatar-circle pointer\">\n            {user.avatar ? (\n              <img src={user.avatar || \"/placeholder.svg\"} alt=\"Avatar\" className=\"avatar-img\" />\n            ) : (\n              <span>{user.name?.charAt(0).toUpperCase() || \"U\"}</span> // Add fallback\n            )}\n          </div>\n        </div>\n        <div className=\"sidebar-taskbar\">\n          <button\n            className={`taskbar-btn ${activeTab === \"chat\" ? \"active\" : \"\"}`}\n            onClick={() => handleTabChange(\"chat\")}\n            title=\"Tin nhắn\"\n          >\n            <i className=\"bi bi-chat\"></i>\n          </button>\n          <button\n            className={`taskbar-btn ${activeTab === \"contacts\" ? \"active\" : \"\"}`}\n            onClick={() => handleTabChange(\"contacts\")}\n            style={{ position: \"relative\" }}\n            title=\"Danh bạ\"\n          >\n            <i className=\"bi bi-people\"></i>\n            {friendRequests.length > 0 && <span className=\"request-badge\">{friendRequests.length}</span>}\n          </button>\n        </div>\n        <div className=\"setting-btn\">\n          <button\n            className={`taskbar-btn ${activeTab === \"settings\" ? \"active\" : \"\"}`}\n            onClick={() => handleTabChange(\"settings\")}\n            title=\"Cài đặt\"\n          >\n            <i className=\"bi bi-gear\"></i>\n          </button>\n        </div>\n      </div>\n\n      {/* Danh sách chat / Danh bạ / Cài đặt */}\n      <div className=\"chat-list-panel\">\n        <div className=\"search-container\">\n          <div className=\"search-input-wrapper\">\n            <i className=\"bi bi-search\"></i>\n            <input\n              type=\"text\"\n              placeholder=\"Tìm kiếm\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"search-input\"\n            />\n          </div>\n          <div className=\"user-buttons\">\n            <button className=\"user-button\" onClick={handleAddFriend} title=\"Thêm bạn\">\n              <i className=\"bi bi-person-plus\"></i>\n            </button>\n            <button className=\"user-button\" onClick={handleCreateGroup} title=\"Tạo nhóm\">\n              <i className=\"bi bi-people-fill\"></i>\n            </button>\n          </div>\n        </div>\n\n        {/* Chat Tab */}\n        {activeTab === \"chat\" && (\n          <div className=\"contact-list\">\n            {loading && contacts.length === 0 && groups.length === 0 ? ( // Show spinner only on initial load\n              <div className=\"d-flex justify-content-center p-3\">\n                 <Spinner animation=\"border\" variant=\"primary\" />\n              </div>\n            ) : (\n              <>\n                {/* Groups */}\n                {filteredGroups.length > 0 && (\n                  <div className=\"groups-section mb-3\">\n                    <div className=\"section-title\">Nhóm ({filteredGroups.length})</div>\n                    {filteredGroups.map((group) => (\n                      <div\n                        key={group.groupId}\n                        className={`contact-item ${\n                          selectedContact?.id === group.groupId && selectedContact?.type === \"group\" ? \"active\" : \"\"\n                        }`}\n                        onClick={() => handleContactSelect(group)}\n                      >\n                        <div className=\"contact-avatar\">\n                          <div className=\"avatar-circle\">\n                            {group.avatar ? (\n                              <img src={group.avatar || \"/placeholder.svg\"} alt=\"Avatar\" className=\"avatar-img\" />\n                            ) : (\n                              <span>{group.name?.charAt(0) || \"G\"}</span>\n                            )}\n                          </div>\n                        </div>\n                        <div className=\"contact-details\">\n                          <div className=\"contact-name\">{group.name}</div>\n                          <div className=\"contact-status small text-muted\">{group.memberCount || 0} thành viên</div>\n                        </div>\n                        {/* Optional: Add quick actions like info button */}\n                         <div className=\"contact-actions ms-auto\" onClick={(e) => e.stopPropagation()}>\n                          <button\n                            className=\"btn btn-sm btn-light\"\n                            onClick={() => handleGroupInfo(group)}\n                            title=\"Thông tin nhóm\"\n                          >\n                            <i className=\"bi bi-info-circle\"></i>\n                          </button>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n\n                {/* Contacts */}\n                {filteredContacts.length > 0 && (\n                  <div className=\"contacts-section\">\n                    <div className=\"section-title\">Bạn bè ({filteredContacts.length})</div>\n                    {filteredContacts.map((contact) => (\n                      <div\n                        key={contact.id}\n                        className={`contact-item ${\n                          selectedContact?.id === contact.id && selectedContact?.type === \"contact\" ? \"active\" : \"\"\n                        }`}\n                        onClick={() => handleContactSelect(contact)}\n                      >\n                        <div className=\"contact-avatar\">\n                          <div className=\"avatar-circle\">\n                            {contact.avatar ? (\n                              <img src={contact.avatar || \"/placeholder.svg\"} alt=\"Avatar\" className=\"avatar-img\" />\n                            ) : (\n                              <span>{contact.name?.charAt(0) || \"C\"}</span>\n                            )}\n                          </div>\n                        </div>\n                        <div className=\"contact-details\">\n                          <div className=\"contact-name\">{contact.name}</div>\n                          {/* Display last message and timestamp, or status */}\n                          <div className=\"contact-last-message small text-muted\">\n                            {contact.lastMessage ? (\n                              <span className=\"text-truncate\" style={{ maxWidth: '150px', display: 'inline-block' }}>\n                                {contact.lastMessage.type === 'text'\n                                  ? contact.lastMessage.content\n                                  : contact.lastMessage.type === 'image' || contact.lastMessage.type === 'imageGroup'\n                                  ? 'Đã gửi ảnh'\n                                  : contact.lastMessage.type === 'video'\n                                  ? 'Đã gửi video'\n                                  : contact.lastMessage.type === 'file'\n                                  ? `Đã gửi file: ${contact.lastMessage.name || ''}`\n                                  : contact.lastMessage.type === 'emoji'\n                                  ? contact.lastMessage.content // Show emoji directly\n                                  : 'Tệp đính kèm'}\n                              </span>\n                            ) : (\n                              <span>{contact.status}</span>\n                            )}\n                          </div>\n                        </div>\n                        {/* Display unread count */}\n                        <div className=\"contact-meta ms-auto\">\n                          {contact.unreadCount > 0 && (\n                            <span className=\"unread-badge\">{contact.unreadCount}</span>\n                          )}\n                        </div>\n                         {/* Optional: Add quick actions like remove friend */}\n                         <div className=\"contact-actions ms-auto\" onClick={(e) => e.stopPropagation()}>\n                          <button\n                            className=\"btn btn-sm btn-light text-danger\"\n                            onClick={() => handleRemoveFriend(contact.id)}\n                            title=\"Xóa bạn\"\n                          >\n                            <i className=\"bi bi-person-dash\"></i>\n                          </button>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n\n                {/* No Results */}\n                {!loading && filteredGroups.length === 0 && filteredContacts.length === 0 && (\n                  <div className=\"no-content-message p-3 text-center text-muted\">\n                    Không tìm thấy cuộc trò chuyện nào.\n                  </div>\n                )}\n              </>\n            )}\n          </div>\n        )}\n\n        {/* Contacts Tab */}\n        {activeTab === \"contacts\" && (\n          <div className=\"contacts-panel\"> {/* Use a different class if needed */}\n            <div className=\"section-title\">Danh bạ</div>\n\n            {/* Friend Requests */}\n            {friendRequests.length > 0 && (\n              <div className=\"friend-requests-section mb-3\">\n                <div className=\"sub-section-title\">Lời mời kết bạn ({friendRequests.length})</div>\n                {loading && friendRequests.length === 0 ? ( // Spinner only if loading and no requests yet\n                   <div className=\"d-flex justify-content-center p-3\">\n                     <Spinner animation=\"border\" variant=\"primary\" size=\"sm\"/>\n                   </div>\n                ) : (\n                  <div className=\"friend-requests-list\">\n                    {friendRequests.map((request) => (\n                      <div\n                        key={request.requestId}\n                        className=\"friend-request-item d-flex justify-content-between align-items-center p-2 border-bottom\"\n                      >\n                        <div className=\"d-flex align-items-center\">\n                          <div className=\"me-2\">\n                            <div className=\"avatar-circle small\">\n                              {request.sender?.avatarUrl ? (\n                                <img\n                                  src={request.sender.avatarUrl || \"/placeholder.svg\"}\n                                  alt=\"Avatar\"\n                                  className=\"avatar-img\"\n                                />\n                              ) : (\n                                <span>{request.sender?.fullName ? request.sender.fullName.charAt(0) : \"?\"}</span>\n                              )}\n                            </div>\n                          </div>\n                          <div>\n                            <div className=\"fw-bold small\">{request.sender?.fullName || request.sender?.email}</div>\n                            <div className=\"text-muted small fst-italic\">{request.message || \"Muốn kết bạn\"}</div>\n                          </div>\n                        </div>\n                        <div className=\"d-flex\">\n                          <button\n                            className=\"btn btn-sm btn-success me-1\"\n                            onClick={() => handleRespondToFriendRequest(request.requestId, \"accept\")}\n                            disabled={loading} // Disable while processing\n                            title=\"Chấp nhận\"\n                          >\n                            <i className=\"bi bi-check-lg\"></i>\n                          </button>\n                          <button\n                            className=\"btn btn-sm btn-outline-danger\"\n                            onClick={() => handleRespondToFriendRequest(request.requestId, \"reject\")}\n                            disabled={loading} // Disable while processing\n                            title=\"Từ chối\"\n                          >\n                             <i className=\"bi bi-x-lg\"></i>\n                          </button>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Friends List */}\n            <div className=\"contacts-list-section\">\n              <div className=\"sub-section-title\">Bạn bè ({contacts.filter(c => c.type === 'contact').length})</div> {/* Use full contacts list for count */}\n              <div className=\"contact-list\">\n                {loading && contacts.filter(c => c.type === 'contact').length === 0 ? ( // Spinner only if loading and no contacts yet\n                   <div className=\"d-flex justify-content-center p-3\">\n                     <Spinner animation=\"border\" variant=\"primary\" />\n                   </div>\n                ) : contacts.filter(c => c.type === 'contact').length > 0 ? (\n                  contacts // Map over the full contacts list, filtering inline\n                    .filter((c) => c.type === \"contact\")\n                    .filter((contact) => contact.name.toLowerCase().includes(searchQuery.toLowerCase())) // Apply search filter here\n                    .map((contact) => (\n                    <div\n                      key={contact.id}\n                      className={`contact-item ${selectedContact?.id === contact.id && selectedContact?.type === 'contact' ? 'active' : ''}`}\n                      onClick={() => { handleContactSelect(contact); handleTabChange('chat'); }} // Switch to chat tab on select\n                    >\n                      <div className=\"contact-avatar\">\n                        <div className=\"avatar-circle\">\n                          {contact.avatar ? (\n                            <img src={contact.avatar || \"/placeholder.svg\"} alt=\"Avatar\" className=\"avatar-img\" />\n                          ) : (\n                            <span>{contact.name?.charAt(0) || \"C\"}</span>\n                          )}\n                        </div>\n                      </div>\n                      <div className=\"contact-details\">\n                        <div className=\"contact-name\">{contact.name}</div>\n                        {/* <div className=\"contact-status\">{contact.status}</div> */}\n                      </div>\n                       <div className=\"contact-actions ms-auto\" onClick={(e) => e.stopPropagation()}>\n                          <button\n                            className=\"btn btn-sm btn-light text-danger\"\n                            onClick={() => handleRemoveFriend(contact.id)}\n                            title=\"Xóa bạn\"\n                          >\n                            <i className=\"bi bi-person-dash\"></i>\n                          </button>\n                        </div>\n                    </div>\n                  ))\n                ) : (\n                  <div className=\"no-content-message p-3 text-center text-muted\">Bạn chưa có bạn bè nào.</div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Settings Tab */}\n        {activeTab === \"settings\" && (\n          <div className=\"settings-section p-3\">\n            <div className=\"section-title\">Cài đặt</div>\n            <div className=\"settings-list\">\n              {/* Placeholder Settings Items */}\n              <div className=\"setting-item p-2 border-bottom d-flex align-items-center\" style={{cursor: 'pointer'}} onClick={handleProfileClick}>\n                <div className=\"setting-icon me-2\"><i className=\"bi bi-person-circle\"></i></div>\n                <div className=\"setting-details\">Hồ sơ</div>\n              </div>\n              <div className=\"setting-item p-2 border-bottom d-flex align-items-center\" style={{cursor: 'pointer'}}>\n                 <div className=\"setting-icon me-2\"><i className=\"bi bi-bell\"></i></div>\n                 <div className=\"setting-details\">Thông báo</div>\n              </div>\n              <div className=\"setting-item p-2 border-bottom d-flex align-items-center\" style={{cursor: 'pointer'}}>\n                 <div className=\"setting-icon me-2\"><i className=\"bi bi-shield-lock\"></i></div>\n                 <div className=\"setting-details\">Bảo mật</div>\n              </div>\n               <div className=\"setting-item p-2 text-danger d-flex align-items-center\" style={{cursor: 'pointer'}} onClick={() => { if(window.confirm('Bạn có chắc muốn đăng xuất?')) { localStorage.clear(); window.location.href = '/login'; } }}>\n                 <div className=\"setting-icon me-2\"><i className=\"bi bi-box-arrow-right\"></i></div>\n                 <div className=\"setting-details\">Đăng xuất</div>\n              </div>\n              {/* Add more settings later */}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Main Chat Area */}\n      <div className=\"main-chat\">\n        {selectedContact ? (\n          <>\n            <div className=\"chat-header\">\n              <div className=\"chat-contact-info\">\n                <div className=\"contact-avatar me-2\">\n                  <div className=\"avatar-circle\">\n                    {selectedContact.avatar ? (\n                      <img src={selectedContact.avatar || \"/placeholder.svg\"} alt=\"Avatar\" className=\"avatar-img\" />\n                    ) : (\n                      <span>{selectedContact.name?.charAt(0) || \"?\"}</span>\n                    )}\n                  </div>\n                </div>\n                <div>\n                  <div className=\"contact-name\">{selectedContact.name}</div>\n                  <div className=\"active-status small text-muted\">\n                    {selectedContact.type === \"group\"\n                      ? `${selectedContact.memberCount || 0} thành viên`\n                      : selectedContact.status || \"Online\"} {/* Placeholder status */}\n                  </div>\n                </div>\n              </div>\n              <div className=\"chat-actions\">\n                <button className=\"action-btn\" title=\"Gọi thoại (chưa có)\">\n                  <i className=\"bi bi-telephone\"></i>\n                </button>\n                <button className=\"action-btn\" title=\"Gọi video (chưa có)\">\n                  <i className=\"bi bi-camera-video\"></i>\n                </button>\n                {selectedContact.type === \"group\" && (\n                    <button\n                    className=\"action-btn\"\n                    onClick={() => handleGroupInfo(selectedContact)}\n                    title=\"Thông tin nhóm\"\n                    >\n                    <i className=\"bi bi-info-circle\"></i>\n                    </button>\n                )}\n                 {/* Add search in chat button? */}\n              </div>\n            </div>\n\n            <div className=\"messages-container\">\n              {!isConnected && <div className=\"connection-status text-center text-warning p-1 small\">Đang kết nối lại...</div>}\n              {loading && messages.length === 0 && <div className=\"d-flex justify-content-center p-5\"><Spinner animation=\"border\" variant=\"primary\"/></div>} {/* Loading messages */}\n\n              {messages.map((message) => (\n                <div\n                  key={message.id} // Use message ID as key\n                  className={`message ${\n                    message.isSystemMessage ? \"system\" : message.senderId === user.id ? \"sent\" : \"received\"\n                  }`}\n                >\n                  {/* Avatar for received messages */}\n                  {message.senderId !== user.id && !message.isSystemMessage && (\n                    <div className=\"message-avatar\">\n                      <div className=\"avatar-circle small\">\n                        {/* Find sender avatar (might need lookup if group message) */}\n                        {selectedContact?.type === 'contact' && selectedContact?.avatar ? (\n                          <img src={selectedContact.avatar || \"/placeholder.svg\"} alt=\"Avatar\" className=\"avatar-img\" />\n                        ) : selectedContact?.type === 'group' ? (\n                           // Find member avatar in group (complex, maybe skip for now or show initial)\n                           <span>{message.sender?.charAt(0) || '?'}</span>\n                        ) : (\n                          <span>{message.sender?.charAt(0) || \"?\"}</span>\n                        )}\n                      </div>\n                    </div>\n                  )}\n                  <div className={`message-content-wrapper ${message.senderId === user.id ? \"align-items-end\" : \"align-items-start\"}`}>\n                     {/* Sender Name for received group messages */}\n                     {selectedContact?.type === 'group' && message.senderId !== user.id && !message.isSystemMessage && (\n                        <div className=\"message-sender-name small text-muted mb-1\">{message.sender}</div>\n                     )}\n\n                    {message.isSystemMessage ? (\n                      <div className=\"system-message-bubble\">\n                        <div className=\"system-message-content small\">\n                          {/* <i className=\"bi bi-info-circle me-1\"></i> */}\n                          {message.content}\n                        </div>\n                        {/* <div className=\"message-time small\">{message.time}</div> */}\n                      </div>\n                    ) : (\n                      <>\n                        <div className={`message-bubble ${message.isSending ? 'sending' : ''} ${message.isError ? 'error' : ''}`}>\n                          {message.isUnsent ? (\n                            <div className=\"unsent-content fst-italic text-muted\">{message.content}</div>\n                          ) : message.isFile ? (\n                            <div className=\"file-content d-flex align-items-center\">\n                              <i className={`bi bi-file-earmark${message.fileType?.includes('pdf') ? '-pdf' : message.fileType?.includes('word') ? '-word' : ''} fs-4 me-2`}></i>\n                              <div>\n                                <a href={message.fileUrl} download={message.fileName} className=\"text-break\">\n                                  {message.fileName}\n                                </a>\n                                {/* Add file size? */}\n                              </div>\n                            </div>\n                          ) : message.isImage ? (\n                            <div className=\"image-content\">\n                              <img src={message.content || \"/placeholder.svg\"} alt=\"Sent content\" style={{maxWidth: '250px', maxHeight: '300px', borderRadius: '8px'}}/>\n                            </div>\n                          ) : message.isVideo ? (\n                            <div className=\"video-content position-relative\">\n                              <video src={message.content} controls style={{maxWidth: '250px', maxHeight: '300px', borderRadius: '8px'}}></video>\n                              {message.duration && <div className=\"video-duration-overlay\">{message.duration}s</div>}\n                            </div>\n                          ) : (\n                            <div className=\"text-content\" style={{ whiteSpace: 'pre-wrap', wordBreak: 'break-word' }}>{message.content}</div>\n                          )}\n                           {message.isSending && <Spinner animation=\"border\" size=\"sm\" className=\"ms-2 sending-spinner\"/>}\n                           {message.isError && <i className=\"bi bi-exclamation-circle-fill text-danger ms-2\" title=\"Gửi lỗi\"></i>}\n                        </div>\n                        <div className=\"message-time small text-muted mt-1\">{message.time}</div>\n\n                        {/* Message Actions (Delete/Recall) */}\n                        {message.senderId === user.id && !message.isUnsent && !message.isSending && !message.isSystemMessage && (\n                          <div className=\"message-actions\">\n                            <button\n                              className=\"btn btn-sm btn-light\"\n                              onClick={() => handleMessageAction(message.id, \"delete\")}\n                              title=\"Xóa tin nhắn\"\n                            >\n                              <i className=\"bi bi-trash\"></i>\n                            </button>\n                            {/* Add Recall button later */}\n                          </div>\n                        )}\n                      </>\n                    )}\n                  </div>\n                </div>\n              ))}\n              <div ref={messagesEndRef} /> {/* For scrolling */}\n            </div>\n\n            <div className=\"message-input-area\">\n              {/* Input Tools */}\n              <div className=\"input-tools\">\n                <button className=\"tool-btn\" onClick={() => fileInputRef.current?.click()} title=\"Đính kèm file\">\n                  <i className=\"bi bi-paperclip\"></i>\n                </button>\n                <input type=\"file\" ref={fileInputRef} style={{ display: \"none\" }} onChange={handleFileSelectEvent} />\n\n                <button className=\"tool-btn\" onClick={() => imageInputRef.current?.click()} title=\"Gửi hình ảnh\">\n                  <i className=\"bi bi-image\"></i>\n                </button>\n                <input type=\"file\" ref={imageInputRef} accept=\"image/*\" style={{ display: \"none\" }} onChange={handleImageSelectEvent} />\n\n                <button className=\"tool-btn\" onClick={() => videoInputRef.current?.click()} title=\"Gửi video\">\n                  <i className=\"bi bi-camera-video\"></i>\n                </button>\n                <input type=\"file\" ref={videoInputRef} accept=\"video/*\" style={{ display: \"none\" }} onChange={handleVideoSelectEvent} />\n\n                 <button className=\"tool-btn\" onClick={() => setShowEmojiPicker(!showEmojiPicker)} title=\"Biểu cảm\">\n                   <i className=\"bi bi-emoji-smile\"></i>\n                 </button>\n\n                {/* <button className=\"tool-btn\" title=\"Ghi âm (chưa có)\">\n                  <i className=\"bi bi-mic\"></i>\n                </button> */}\n              </div>\n\n              {/* Emoji Picker */}\n              {showEmojiPicker && (\n                <div className=\"emoji-picker\">\n                  {emojis.map((emoji, index) => (\n                    <button key={index} className=\"emoji-btn\" onClick={() => handleEmojiSelect(emoji)}>\n                      {emoji}\n                    </button>\n                  ))}\n                </div>\n              )}\n\n              {/* Message Form */}\n              <form onSubmit={handleSendMessage} className=\"message-form\">\n                {console.log('Input state:', { isConnected, loading, selectedContact: !!selectedContact })}\n                <input\n                  type=\"text\"\n                  placeholder=\"Nhập tin nhắn...\"\n                  value={newMessage}\n                  onChange={(e) => setNewMessage(e.target.value)}\n                  disabled={!isConnected || loading} // Disable while loading messages too?\n                  className=\"message-input\"\n                  onKeyDown={(e) => { if (e.key === 'Enter' && !e.shiftKey) handleSendMessage(e); }} // Send on Enter\n                  style={{ pointerEvents: (!isConnected || loading) ? 'none' : 'auto' }} // Add visual feedback\n                />\n                <button\n                  type=\"submit\"\n                  className=\"send-btn\"\n                  disabled={!isConnected || !newMessage.trim() || loading}\n                  title=\"Gửi\"\n                >\n                  <i className=\"bi bi-send\"></i>\n                </button>\n              </form>\n            </div>\n          </>\n        ) : (\n          <div className=\"no-chat-selected\">\n            <div className=\"text-center p-5\">\n              <i className=\"bi bi-chat-dots display-1 text-muted\"></i>\n              <p className=\"mt-3\">Chọn một cuộc trò chuyện để bắt đầu</p>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Right Sidebar (Contact/Group Info) */}\n      <div className={`sidebar right-sidebar ${selectedContact ? 'active' : ''}`}> {/* Toggle visibility */}\n        {selectedContact ? (\n          <>\n            <div className=\"contact-profile p-3 text-center border-bottom\">\n              <div className=\"avatar-circle large mx-auto mb-2\">\n                {selectedContact.avatar ? (\n                  <img src={selectedContact.avatar || \"/placeholder.svg\"} alt=\"Avatar\" className=\"avatar-img\" />\n                ) : (\n                  <span>{selectedContact.name?.charAt(0) || \"?\"}</span>\n                )}\n              </div>\n              <h5 className=\"profile-name mb-1\">{selectedContact.name}</h5>\n              {selectedContact.type === \"group\" && (\n                <div className=\"group-info\">\n                  <span className=\"badge bg-secondary\">{selectedContact.memberCount || 0} thành viên</span>\n                </div>\n              )}\n               {/* Add more profile actions/info here */}\n               {selectedContact.type === 'contact' && (\n                 <div className=\"mt-2\">\n                    <button className=\"btn btn-sm btn-outline-danger\" onClick={() => handleRemoveFriend(selectedContact.id)}>\n                        <i className=\"bi bi-person-dash me-1\"></i> Xóa bạn\n                    </button>\n                 </div>\n               )}\n                {selectedContact.type === 'group' && (\n                 <div className=\"mt-2\">\n                    <button className=\"btn btn-sm btn-outline-primary\" onClick={() => handleGroupInfo(selectedContact)}>\n                        <i className=\"bi bi-info-circle me-1\"></i> Thông tin nhóm\n                    </button>\n                 </div>\n               )}\n            </div>\n\n            {/* <div className=\"profile-actions p-2 border-bottom\">\n              <div className=\"action-item d-flex align-items-center p-2\">\n                <div className=\"action-icon me-2\"><i className=\"bi bi-bell\"></i></div>\n                <div className=\"action-text\">Tắt thông báo</div>\n              </div>\n               <div className=\"action-item d-flex align-items-center p-2\">\n                 <div className=\"action-icon me-2\"><i className=\"bi bi-pin-angle\"></i></div>\n                 <div className=\"action-text\">Ghim hội thoại</div>\n               </div>\n            </div> */}\n\n            <div className=\"additional-info p-2\">\n              <div className=\"info-section\">\n                <div className=\"media-tabs nav nav-tabs nav-fill mb-2\">\n                   <button className={`nav-link ${showMedia ? \"active\" : \"\"}`} onClick={toggleMediaView}>\n                     <i className=\"bi bi-images me-1\"></i> Ảnh/Video ({mediaFiles.length})\n                   </button>\n                   <button className={`nav-link ${showFiles ? \"active\" : \"\"}`} onClick={toggleFilesView}>\n                     <i className=\"bi bi-file-earmark me-1\"></i> File ({documents.length})\n                   </button>\n                </div>\n\n                {/* Files List */}\n                {showFiles && (\n                  <div className=\"files-list overflow-auto\" style={{maxHeight: 'calc(100vh - 300px)'}}> {/* Adjust maxHeight */}\n                    {documents.length > 0 ? (\n                      documents.map((file) => (\n                        <div key={file.id} className=\"file-item d-flex align-items-center p-2 border-bottom\">\n                          <div className=\"file-icon me-2\">\n                            <i className={`bi bi-file-earmark${file.type === \"pdf\" ? \"-pdf text-danger\" : file.type === \"docx\" ? \"-word text-primary\" : \"\"} fs-4`}></i>\n                          </div>\n                          <div className=\"file-info overflow-hidden\">\n                            <div className=\"file-name text-truncate small fw-bold\">{file.name}</div>\n                            <div className=\"file-meta small text-muted\">\n                              {file.date}\n                              {file.size > 0 && <span className=\"file-size\"> · {(file.size / (1024 * 1024)).toFixed(2)}MB</span>}\n                            </div>\n                          </div>\n                           <a href={file.url} download={file.name} className=\"ms-auto btn btn-sm btn-light\" title=\"Tải xuống\">\n                               <i className=\"bi bi-download\"></i>\n                           </a>\n                        </div>\n                      ))\n                    ) : (\n                      <div className=\"no-content-message text-center text-muted p-3\">Chưa có file nào.</div>\n                    )}\n                  </div>\n                )}\n\n                {/* Media Grid */}\n                {showMedia && (\n                  <div className=\"media-grid overflow-auto\" style={{maxHeight: 'calc(100vh - 300px)'}}> {/* Adjust maxHeight */}\n                    {mediaFiles.length > 0 ? (\n                      mediaFiles.map((file) => (\n                        <div key={file.id} className=\"media-item position-relative\">\n                          {file.type === \"image\" ? (\n                            <img src={file.url || \"/placeholder.svg\"} alt={file.name} className=\"media-thumbnail\" />\n                          ) : (\n                            <div className=\"video-thumbnail\">\n                              <video src={file.url} className=\"media-thumbnail\" preload=\"metadata\"></video> {/* Preload metadata */}\n                              <div className=\"play-icon\"><i className=\"bi bi-play-fill\"></i></div>\n                              {file.duration && <div className=\"video-duration\">{Math.round(file.duration)}s</div>} {/* Round duration */}\n                            </div>\n                          )}\n                           {/* Add overlay for info or download? */}\n                        </div>\n                      ))\n                    ) : (\n                      <div className=\"no-content-message text-center text-muted p-3\">Chưa có ảnh/video nào.</div>\n                    )}\n                  </div>\n                )}\n              </div>\n            </div>\n          </>\n        ) : (\n             <div className=\"no-content-message text-center text-muted p-5\">\n                <p>Chọn một liên hệ hoặc nhóm để xem thông tin.</p>\n             </div>\n        )}\n      </div>\n\n      {/* Modal Profile */}\n      <Modal show={showProfileModal} onHide={handleCloseProfileModal} centered>\n        <Modal.Header closeButton>\n          <Modal.Title>Cập nhật hồ sơ</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"text-center mb-3\">\n             <div className=\"avatar-circle large mx-auto mb-2 position-relative\">\n                {profileData.avatarUrl ? (\n                  <img src={profileData.avatarUrl} alt=\"Avatar\" className=\"avatar-img\" />\n                ) : (\n                  <span>{profileData.fullName?.charAt(0).toUpperCase() || user.name?.charAt(0).toUpperCase() || \"U\"}</span>\n                )}\n                 <label className=\"avatar-edit-button\">\n                    <i className=\"bi bi-pencil-fill\"></i>\n                    <input type=\"file\" accept=\"image/*\" style={{ display: \"none\" }} onChange={handleAvatarChangeEvent} />\n                 </label>\n              </div>\n          </div>\n          <div className=\"mb-3\">\n            <label className=\"form-label\">Họ và tên</label>\n            <input\n              type=\"text\"\n              value={profileData.fullName || \"\"}\n              onChange={(e) => setProfileData({ ...profileData, fullName: e.target.value })}\n              placeholder=\"Nhập họ và tên\"\n              className=\"form-control\"\n            />\n          </div>\n          <div className=\"mb-3\">\n             <label className=\"form-label\">Ngày sinh</label>\n            <input\n              type=\"date\"\n              value={profileData.birthdate || \"\"}\n              onChange={(e) => setProfileData({ ...profileData, birthdate: e.target.value })}\n              className=\"form-control\"\n            />\n          </div>\n          <div className=\"mb-3\">\n             <label className=\"form-label\">Giới tính</label>\n            <select\n              value={profileData.gender || \"\"}\n              onChange={(e) => setProfileData({ ...profileData, gender: e.target.value })}\n              className=\"form-select\"\n            >\n              <option value=\"\">Chọn giới tính</option>\n              <option value=\"Nam\">Nam</option>\n              <option value=\"Nữ\">Nữ</option>\n              <option value=\"Khác\">Khác</option>\n              <option value=\"Không chia sẻ\">Không muốn nói</option>\n            </select>\n          </div>\n        </Modal.Body>\n        <Modal.Footer>\n          <button type=\"button\" className=\"btn btn-secondary\" onClick={handleCloseProfileModal}>\n            Hủy\n          </button>\n          <button type=\"button\" className=\"btn btn-primary\" onClick={handleUpdateProfile} disabled={loading}>\n            {loading ? <Spinner as=\"span\" animation=\"border\" size=\"sm\" role=\"status\" aria-hidden=\"true\" /> : \"Lưu thay đổi\"}\n          </button>\n        </Modal.Footer>\n      </Modal>\n\n      {/* Modal Add Friend */}\n      <Modal show={showAddFriendModal} onHide={handleCloseAddFriendModal} centered>\n        <Modal.Header closeButton>\n          <Modal.Title>Thêm bạn mới</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <p>Nhập địa chỉ email của người bạn muốn kết bạn:</p>\n          <div className=\"mb-3\">\n            <input\n              type=\"email\"\n              value={friendEmail}\n              onChange={(e) => setFriendEmail(e.target.value)}\n              placeholder=\"example@email.com\"\n              className=\"form-control\"\n              autoFocus\n            />\n          </div>\n        </Modal.Body>\n         <Modal.Footer>\n           <button type=\"button\" className=\"btn btn-secondary\" onClick={handleCloseAddFriendModal}>\n             Hủy\n           </button>\n           <button type=\"button\" className=\"btn btn-primary\" onClick={handleSubmitAddFriend} disabled={loading || !friendEmail.trim()}>\n             {loading ? <Spinner as=\"span\" animation=\"border\" size=\"sm\" role=\"status\" aria-hidden=\"true\" /> : \"Gửi lời mời\"}\n           </button>\n         </Modal.Footer>\n      </Modal>\n\n      {/* Modal Create Group */}\n      {showCreateGroupModal && ( // Conditionally render modal to ensure fresh state if needed\n          <CreateGroupModal\n            show={showCreateGroupModal}\n            onHide={() => setShowCreateGroupModal(false)}\n            onGroupCreated={handleGroupCreated}\n            token={token} // Pass token from hook\n            userId={user.id} // Pass userId from hook\n          />\n      )}\n\n      {/* Modal Group Info */}\n      {showGroupInfoModal && selectedGroup && ( // Conditionally render and ensure group data exists\n          <GroupInfoModal\n            show={showGroupInfoModal}\n            onHide={() => setShowGroupInfoModal(false)}\n            group={selectedGroup} // Pass selected group from hook state\n            token={token} // Pass token from hook\n            userId={user.id} // Pass userId from hook\n            onGroupUpdated={handleGroupUpdated}\n            onLeaveGroup={handleLeaveGroup}\n            onDeleteGroup={handleDeleteGroup}\n          />\n       )}\n\n    </div>\n  )\n}\n\nexport default Home\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}