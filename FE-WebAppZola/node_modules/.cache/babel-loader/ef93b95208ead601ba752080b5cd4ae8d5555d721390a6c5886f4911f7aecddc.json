{"ast":null,"code":"// src/pages/Home.jsx\n\"use client\";\n\n// Keep this if using Next.js App Router\nvar _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\Nhom12_Zalo_Web\\\\FE-WebAppZola\\\\src\\\\pages\\\\Home.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\"; // Import React and useState\nimport { Modal, Spinner, Toast, ToastContainer } from \"react-bootstrap\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"bootstrap-icons/font/bootstrap-icons.css\";\nimport \"../styles/home.css\"; // Your specific styles\nimport useChat from \"../hooks/useChat\"; // Import the custom hook\nimport CreateGroupModal from \"../components/CreateGroupModal\";\nimport GroupInfoModal from \"../components/GroupInfoModal\";\n\n// --- Presentational Component ---\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  var _user$name, _selectedContact$name, _selectedContact$name2, _profileData$fullName, _user$name2;\n  const {\n    // State\n    user,\n    contacts,\n    // Use full list for counts or specific checks if needed\n    groups,\n    // Use full list for counts or specific checks if needed\n    selectedContact,\n    messages,\n    newMessage,\n    isConnected,\n    showEmojiPicker,\n    searchQuery,\n    mediaFiles,\n    documents,\n    showMedia,\n    showFiles,\n    activeTab,\n    showProfileModal,\n    profileData,\n    loading,\n    // Use loading state for spinners etc.\n    showAddFriendModal,\n    friendEmail,\n    error,\n    showToast,\n    friendRequests,\n    showCreateGroupModal,\n    showGroupInfoModal,\n    selectedGroup,\n    // Pass selectedGroup to GroupInfoModal\n\n    // Setters\n    setNewMessage,\n    setShowEmojiPicker,\n    setSearchQuery,\n    setShowProfileModal,\n    setProfileData,\n    setShowAddFriendModal,\n    setFriendEmail,\n    setShowToast,\n    setShowCreateGroupModal,\n    setShowGroupInfoModal,\n    // Refs\n    messagesEndRef,\n    fileInputRef,\n    imageInputRef,\n    videoInputRef,\n    // Handlers\n    handleContactSelect,\n    handleSendMessage,\n    handleSendFile,\n    // Use the consolidated handler\n    handleEmojiSelect,\n    handleMessageAction,\n    toggleMediaView,\n    toggleFilesView,\n    handleTabChange,\n    handleProfileClick,\n    handleCloseProfileModal,\n    handleAvatarChange,\n    // Pass the file directly\n    handleUpdateProfile,\n    handleAddFriend,\n    handleCloseAddFriendModal,\n    handleSubmitAddFriend,\n    handleRespondToFriendRequest,\n    handleRemoveFriend,\n    handleCreateGroup,\n    handleGroupCreated,\n    handleGroupInfo,\n    handleGroupUpdated,\n    handleLeaveGroup,\n    handleDeleteGroup,\n    // showError, // Not called directly from JSX\n\n    // Derived Data\n    filteredContacts,\n    filteredGroups,\n    emojis,\n    token // Get token from hook\n  } = useChat();\n  const [showChangePassword, setShowChangePassword] = useState(false);\n  const [oldPassword, setOldPassword] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [passwordError, setPasswordError] = useState(\"\");\n  const handleSecurityClick = () => {\n    setShowChangePassword(true);\n    setPasswordError(\"\");\n    setOldPassword(\"\");\n    setNewPassword(\"\");\n    setConfirmPassword(\"\");\n  };\n  const handleChangePassword = e => {\n    e.preventDefault();\n    setPasswordError(\"\");\n    if (!oldPassword || !newPassword || !confirmPassword) {\n      setPasswordError(\"Vui lòng nhập đầy đủ thông tin.\");\n      return;\n    }\n    if (newPassword === oldPassword) {\n      setPasswordError(\"Vui lòng nhập mật khẩu khác với mật khẩu cũ.\");\n      return;\n    }\n    if (newPassword !== confirmPassword) {\n      setPasswordError(\"Mật khẩu mới và xác nhận không khớp.\");\n      return;\n    }\n    // TODO: Gọi API đổi mật khẩu ở đây\n    alert(\"Đổi mật khẩu thành công (demo, chưa gọi API)\");\n    setShowChangePassword(false);\n  };\n\n  // Specific handlers for file inputs that call the main handler\n  const handleFileSelectEvent = e => {\n    const file = e.target.files[0];\n    if (file) {\n      handleSendFile(file, \"file\");\n    }\n    if (fileInputRef.current) fileInputRef.current.value = null; // Reset input\n  };\n  const handleImageSelectEvent = e => {\n    const file = e.target.files[0];\n    if (file) {\n      handleSendFile(file, \"image\");\n    }\n    if (imageInputRef.current) imageInputRef.current.value = null; // Reset input\n  };\n  const handleVideoSelectEvent = e => {\n    const file = e.target.files[0];\n    if (file) {\n      handleSendFile(file, \"video\");\n    }\n    if (videoInputRef.current) videoInputRef.current.value = null; // Reset input\n  };\n  const handleAvatarChangeEvent = e => {\n    const file = e.target.files[0];\n    if (file) {\n      handleAvatarChange(file); // Pass file to hook handler\n    }\n    // No need to reset avatar input usually\n    if (e.target) e.target.value = null; // Reset file input\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-app\",\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {\n      position: \"top-end\",\n      className: \"p-3\",\n      style: {\n        zIndex: 1056\n      },\n      children: [\" \", /*#__PURE__*/_jsxDEV(Toast, {\n        onClose: () => setShowToast(false),\n        show: showToast,\n        delay: 3000,\n        autohide: true,\n        bg: error !== null && error !== void 0 && error.includes(\"thành công\") ? 'success' : 'danger',\n        children: [\" \", /*#__PURE__*/_jsxDEV(Toast.Header, {\n          closeButton: true,\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            className: \"me-auto\",\n            children: error !== null && error !== void 0 && error.includes(\"thành công\") ? 'Thành công' : 'Thông báo'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Toast.Body, {\n          className: error !== null && error !== void 0 && error.includes(\"thành công\") ? 'text-white' : '',\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar left-sidebar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-avatar\",\n        onClick: handleProfileClick,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"avatar-circle pointer\",\n          children: user.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: user.avatar || \"/placeholder.svg\",\n            alt: \"Avatar\",\n            className: \"avatar-img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            children: ((_user$name = user.name) === null || _user$name === void 0 ? void 0 : _user$name.charAt(0).toUpperCase()) || \"U\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 15\n          }, this) // Add fallback\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar-taskbar\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `taskbar-btn ${activeTab === \"chat\" ? \"active\" : \"\"}`,\n          onClick: () => handleTabChange(\"chat\"),\n          title: \"Tin nh\\u1EAFn\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `taskbar-btn ${activeTab === \"contacts\" ? \"active\" : \"\"}`,\n          onClick: () => handleTabChange(\"contacts\"),\n          style: {\n            position: \"relative\"\n          },\n          title: \"Danh b\\u1EA1\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-people\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this), friendRequests.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"request-badge\",\n            children: friendRequests.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 43\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"setting-btn\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `taskbar-btn ${activeTab === \"settings\" ? \"active\" : \"\"}`,\n          onClick: () => handleTabChange(\"settings\"),\n          title: \"C\\xE0i \\u0111\\u1EB7t\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-gear\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-list-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-input-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"T\\xECm ki\\u1EBFm\",\n            value: searchQuery,\n            onChange: e => setSearchQuery(e.target.value),\n            className: \"search-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"user-button\",\n            onClick: handleAddFriend,\n            title: \"Th\\xEAm b\\u1EA1n\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-person-plus\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"user-button\",\n            onClick: handleCreateGroup,\n            title: \"T\\u1EA1o nh\\xF3m\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-people-fill\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), activeTab === \"chat\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contact-list\",\n        children: loading && contacts.length === 0 && groups.length === 0 ?\n        /*#__PURE__*/\n        // Show spinner only on initial load\n        _jsxDEV(\"div\", {\n          className: \"d-flex justify-content-center p-3\",\n          children: /*#__PURE__*/_jsxDEV(Spinner, {\n            animation: \"border\",\n            variant: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 18\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [filteredGroups.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"groups-section mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"section-title\",\n              children: [\"Nh\\xF3m (\", filteredGroups.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 21\n            }, this), filteredGroups.map(group => {\n              var _group$name;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `contact-item ${(selectedContact === null || selectedContact === void 0 ? void 0 : selectedContact.id) === group.groupId && (selectedContact === null || selectedContact === void 0 ? void 0 : selectedContact.type) === \"group\" ? \"active\" : \"\"}`,\n                onClick: () => handleContactSelect(group),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-avatar\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"avatar-circle\",\n                    children: group.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: group.avatar || \"/placeholder.svg\",\n                      alt: \"Avatar\",\n                      className: \"avatar-img\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 259,\n                      columnNumber: 31\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: ((_group$name = group.name) === null || _group$name === void 0 ? void 0 : _group$name.charAt(0)) || \"G\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 261,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 257,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-details\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"contact-name\",\n                    children: group.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 266,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"contact-status small text-muted\",\n                    children: [group.memberCount || 0, \" th\\xE0nh vi\\xEAn\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-actions ms-auto\",\n                  onClick: e => e.stopPropagation(),\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-sm btn-light\",\n                    onClick: () => handleGroupInfo(group),\n                    title: \"Th\\xF4ng tin nh\\xF3m\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi bi-info-circle\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 276,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 271,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 26\n                }, this)]\n              }, group.groupId, true, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 23\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 19\n          }, this), filteredContacts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"contacts-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"section-title\",\n              children: [\"B\\u1EA1n b\\xE8 (\", filteredContacts.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 21\n            }, this), filteredContacts.map(contact => {\n              var _contact$name;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `contact-item ${(selectedContact === null || selectedContact === void 0 ? void 0 : selectedContact.id) === contact.id && (selectedContact === null || selectedContact === void 0 ? void 0 : selectedContact.type) === \"contact\" ? \"active\" : \"\"}`,\n                onClick: () => handleContactSelect(contact),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-avatar\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"avatar-circle\",\n                    children: contact.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: contact.avatar || \"/placeholder.svg\",\n                      alt: \"Avatar\",\n                      className: \"avatar-img\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 299,\n                      columnNumber: 31\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: ((_contact$name = contact.name) === null || _contact$name === void 0 ? void 0 : _contact$name.charAt(0)) || \"C\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 301,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 297,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-details\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"contact-name\",\n                    children: contact.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 306,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"contact-last-message small text-muted\",\n                    children: contact.lastMessage ? /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-truncate\",\n                      style: {\n                        maxWidth: '150px',\n                        display: 'inline-block'\n                      },\n                      children: contact.lastMessage.type === 'text' ? contact.lastMessage.content : contact.lastMessage.type === 'image' || contact.lastMessage.type === 'imageGroup' ? 'Đã gửi ảnh' : contact.lastMessage.type === 'video' ? 'Đã gửi video' : contact.lastMessage.type === 'file' ? `Đã gửi file: ${contact.lastMessage.name || ''}` : contact.lastMessage.type === 'emoji' ? contact.lastMessage.content // Show emoji directly\n                      : 'Tệp đính kèm'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 310,\n                      columnNumber: 31\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: contact.status\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 324,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-meta ms-auto\",\n                  children: contact.unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"unread-badge\",\n                    children: contact.unreadCount\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 331,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-actions ms-auto\",\n                  onClick: e => e.stopPropagation(),\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-sm btn-light text-danger\",\n                    onClick: () => handleRemoveFriend(contact.id),\n                    title: \"X\\xF3a b\\u1EA1n\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi bi-person-dash\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 341,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 336,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 26\n                }, this)]\n              }, contact.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 23\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 19\n          }, this), !loading && filteredGroups.length === 0 && filteredContacts.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"no-content-message p-3 text-center text-muted\",\n            children: \"Kh\\xF4ng t\\xECm th\\u1EA5y cu\\u1ED9c tr\\xF2 chuy\\u1EC7n n\\xE0o.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }, this), activeTab === \"contacts\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contacts-panel\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-title\",\n          children: \"Danh b\\u1EA1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 13\n        }, this), friendRequests.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"friend-requests-section mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sub-section-title\",\n            children: [\"L\\u1EDDi m\\u1EDDi k\\u1EBFt b\\u1EA1n (\", friendRequests.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 17\n          }, this), loading && friendRequests.length === 0 ?\n          /*#__PURE__*/\n          // Spinner only if loading and no requests yet\n          _jsxDEV(\"div\", {\n            className: \"d-flex justify-content-center p-3\",\n            children: /*#__PURE__*/_jsxDEV(Spinner, {\n              animation: \"border\",\n              variant: \"primary\",\n              size: \"sm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 22\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 20\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"friend-requests-list\",\n            children: friendRequests.map(request => {\n              var _request$sender, _request$sender2, _request$sender3, _request$sender4;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"friend-request-item d-flex justify-content-between align-items-center p-2 border-bottom\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex align-items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"me-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"avatar-circle small\",\n                      children: (_request$sender = request.sender) !== null && _request$sender !== void 0 && _request$sender.avatarUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: request.sender.avatarUrl || \"/placeholder.svg\",\n                        alt: \"Avatar\",\n                        className: \"avatar-img\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 384,\n                        columnNumber: 33\n                      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: (_request$sender2 = request.sender) !== null && _request$sender2 !== void 0 && _request$sender2.fullName ? request.sender.fullName.charAt(0) : \"?\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 390,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 382,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 381,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"fw-bold small\",\n                      children: ((_request$sender3 = request.sender) === null || _request$sender3 === void 0 ? void 0 : _request$sender3.fullName) || ((_request$sender4 = request.sender) === null || _request$sender4 === void 0 ? void 0 : _request$sender4.email)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 395,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-muted small fst-italic\",\n                      children: request.message || \"Muốn kết bạn\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 396,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 394,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 380,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-sm btn-success me-1\",\n                    onClick: () => handleRespondToFriendRequest(request.requestId, \"accept\"),\n                    disabled: loading // Disable while processing\n                    ,\n                    title: \"Ch\\u1EA5p nh\\u1EADn\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi bi-check-lg\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 406,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 400,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-sm btn-outline-danger\",\n                    onClick: () => handleRespondToFriendRequest(request.requestId, \"reject\"),\n                    disabled: loading // Disable while processing\n                    ,\n                    title: \"T\\u1EEB ch\\u1ED1i\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi bi-x-lg\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 414,\n                      columnNumber: 30\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 408,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 25\n                }, this)]\n              }, request.requestId, true, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 23\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"contacts-list-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sub-section-title\",\n            children: [\"B\\u1EA1n b\\xE8 (\", contacts.filter(c => c.type === 'contact').length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"contact-list\",\n            children: loading && contacts.filter(c => c.type === 'contact').length === 0 ?\n            /*#__PURE__*/\n            // Spinner only if loading and no contacts yet\n            _jsxDEV(\"div\", {\n              className: \"d-flex justify-content-center p-3\",\n              children: /*#__PURE__*/_jsxDEV(Spinner, {\n                animation: \"border\",\n                variant: \"primary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 22\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 20\n            }, this) : contacts.filter(c => c.type === 'contact').length > 0 ? contacts // Map over the full contacts list, filtering inline\n            .filter(c => c.type === \"contact\").filter(contact => contact.name.toLowerCase().includes(searchQuery.toLowerCase())) // Apply search filter here\n            .map(contact => {\n              var _contact$name2;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `contact-item ${(selectedContact === null || selectedContact === void 0 ? void 0 : selectedContact.id) === contact.id && (selectedContact === null || selectedContact === void 0 ? void 0 : selectedContact.type) === 'contact' ? 'active' : ''}`,\n                onClick: () => {\n                  handleContactSelect(contact);\n                  handleTabChange('chat');\n                } // Switch to chat tab on select\n                ,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-avatar\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"avatar-circle\",\n                    children: contact.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: contact.avatar || \"/placeholder.svg\",\n                      alt: \"Avatar\",\n                      className: \"avatar-img\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 445,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: ((_contact$name2 = contact.name) === null || _contact$name2 === void 0 ? void 0 : _contact$name2.charAt(0)) || \"C\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 447,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 443,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 442,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-details\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"contact-name\",\n                    children: contact.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 452,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 451,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-actions ms-auto\",\n                  onClick: e => e.stopPropagation(),\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-sm btn-light text-danger\",\n                    onClick: () => handleRemoveFriend(contact.id),\n                    title: \"X\\xF3a b\\u1EA1n\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi bi-person-dash\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 461,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 456,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 455,\n                  columnNumber: 24\n                }, this)]\n              }, contact.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 21\n              }, this);\n            }) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"no-content-message p-3 text-center text-muted\",\n              children: \"B\\u1EA1n ch\\u01B0a c\\xF3 b\\u1EA1n b\\xE8 n\\xE0o.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 11\n      }, this), activeTab === \"settings\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"settings-section p-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-title\",\n          children: \"C\\xE0i \\u0111\\u1EB7t\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"settings-list\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-item p-2 border-bottom d-flex align-items-center\",\n            style: {\n              cursor: 'pointer'\n            },\n            onClick: handleProfileClick,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-icon me-2\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-person-circle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 52\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-details\",\n              children: \"H\\u1ED3 s\\u01A1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-item p-2 border-bottom d-flex align-items-center\",\n            style: {\n              cursor: 'pointer'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-icon me-2\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-bell\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 53\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-details\",\n              children: \"Th\\xF4ng b\\xE1o\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 18\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-item p-2 border-bottom d-flex align-items-center\",\n            style: {\n              cursor: 'pointer'\n            },\n            onClick: handleSecurityClick,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-icon me-2\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-shield-lock\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 488,\n                columnNumber: 53\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-details\",\n              children: \"B\\u1EA3o m\\u1EADt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 18\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 487,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-item p-2 text-danger d-flex align-items-center\",\n            style: {\n              cursor: 'pointer'\n            },\n            onClick: () => {\n              if (window.confirm('Bạn có chắc muốn đăng xuất?')) {\n                localStorage.clear();\n                window.location.href = '/login';\n              }\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-icon me-2\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-box-arrow-right\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 53\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-details\",\n              children: \"\\u0110\\u0103ng xu\\u1EA5t\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 18\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 16\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 13\n        }, this), showChangePassword && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"change-password-form mt-4 p-3 border rounded bg-light\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"\\u0110\\u1ED5i m\\u1EADt kh\\u1EA9u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleChangePassword,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"M\\u1EADt kh\\u1EA9u c\\u0169\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                className: \"form-control\",\n                value: oldPassword,\n                onChange: e => setOldPassword(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 503,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"M\\u1EADt kh\\u1EA9u m\\u1EDBi\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 506,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                className: \"form-control\",\n                value: newPassword,\n                onChange: e => setNewPassword(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"X\\xE1c nh\\u1EADn m\\u1EADt kh\\u1EA9u m\\u1EDBi\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                className: \"form-control\",\n                value: confirmPassword,\n                onChange: e => setConfirmPassword(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 511,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 19\n            }, this), passwordError && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-danger mb-2\",\n              children: passwordError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary\",\n                children: \"\\u0110\\u1ED5i m\\u1EADt kh\\u1EA9u\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-secondary\",\n                onClick: () => setShowChangePassword(false),\n                children: \"H\\u1EE7y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 516,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 514,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-chat\",\n      children: selectedContact ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-contact-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"contact-avatar me-2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"avatar-circle\",\n                children: selectedContact.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: selectedContact.avatar || \"/placeholder.svg\",\n                  alt: \"Avatar\",\n                  className: \"avatar-img\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 534,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: ((_selectedContact$name = selectedContact.name) === null || _selectedContact$name === void 0 ? void 0 : _selectedContact$name.charAt(0)) || \"?\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 536,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"contact-name\",\n                children: selectedContact.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 541,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"active-status small text-muted\",\n                children: [selectedContact.type === \"group\" ? `${selectedContact.memberCount || 0} thành viên` : selectedContact.status || \"Online\", \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 530,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"action-btn\",\n              title: \"G\\u1ECDi tho\\u1EA1i (ch\\u01B0a c\\xF3)\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-telephone\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 551,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"action-btn\",\n              title: \"G\\u1ECDi video (ch\\u01B0a c\\xF3)\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-camera-video\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 554,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 553,\n              columnNumber: 17\n            }, this), selectedContact.type === \"group\" && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"action-btn\",\n              onClick: () => handleGroupInfo(selectedContact),\n              title: \"Th\\xF4ng tin nh\\xF3m\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-info-circle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 562,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"messages-container\",\n          children: [!isConnected && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"connection-status text-center text-warning p-1 small\",\n            children: \"\\u0110ang k\\u1EBFt n\\u1ED1i l\\u1EA1i...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 32\n          }, this), loading && messages.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-center p-5\",\n            children: /*#__PURE__*/_jsxDEV(Spinner, {\n              animation: \"border\",\n              variant: \"primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 571,\n              columnNumber: 103\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 571,\n            columnNumber: 52\n          }, this), \" \", messages.map(message => {\n            var _message$sender, _message$sender2, _message$fileType, _message$fileType2;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              // Use message ID as key\n              className: `message ${message.isSystemMessage ? \"system\" : message.senderId === user.id ? \"sent\" : \"received\"}`,\n              children: [message.senderId !== user.id && !message.isSystemMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-avatar\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"avatar-circle small\",\n                  children: (selectedContact === null || selectedContact === void 0 ? void 0 : selectedContact.type) === 'contact' && selectedContact !== null && selectedContact !== void 0 && selectedContact.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: selectedContact.avatar || \"/placeholder.svg\",\n                    alt: \"Avatar\",\n                    className: \"avatar-img\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 586,\n                    columnNumber: 27\n                  }, this) : (selectedContact === null || selectedContact === void 0 ? void 0 : selectedContact.type) === 'group' ?\n                  /*#__PURE__*/\n                  // Find member avatar in group (complex, maybe skip for now or show initial)\n                  _jsxDEV(\"span\", {\n                    children: ((_message$sender = message.sender) === null || _message$sender === void 0 ? void 0 : _message$sender.charAt(0)) || '?'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 589,\n                    columnNumber: 28\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: ((_message$sender2 = message.sender) === null || _message$sender2 === void 0 ? void 0 : _message$sender2.charAt(0)) || \"?\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 591,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 583,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 582,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `message-content-wrapper ${message.senderId === user.id ? \"align-items-end\" : \"align-items-start\"}`,\n                children: [(selectedContact === null || selectedContact === void 0 ? void 0 : selectedContact.type) === 'group' && message.senderId !== user.id && !message.isSystemMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"message-sender-name small text-muted mb-1\",\n                  children: message.sender\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 599,\n                  columnNumber: 25\n                }, this), message.isSystemMessage ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"system-message-bubble\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"system-message-content small\",\n                    children: message.content\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 604,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 603,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `message-bubble ${message.isSending ? 'sending' : ''} ${message.isError ? 'error' : ''}`,\n                    children: [message.isUnsent ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"unsent-content fst-italic text-muted\",\n                      children: message.content\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 614,\n                      columnNumber: 29\n                    }, this) : message.isFile ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"file-content d-flex align-items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: `bi bi-file-earmark${(_message$fileType = message.fileType) !== null && _message$fileType !== void 0 && _message$fileType.includes('pdf') ? '-pdf' : (_message$fileType2 = message.fileType) !== null && _message$fileType2 !== void 0 && _message$fileType2.includes('word') ? '-word' : ''} fs-4 me-2`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 617,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: /*#__PURE__*/_jsxDEV(\"a\", {\n                          href: message.fileUrl,\n                          download: message.fileName,\n                          className: \"text-break\",\n                          children: message.fileName\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 619,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 618,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 616,\n                      columnNumber: 29\n                    }, this) : message.isImage ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"image-content\",\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: message.content || \"/placeholder.svg\",\n                        alt: \"Sent content\",\n                        style: {\n                          maxWidth: '250px',\n                          maxHeight: '300px',\n                          borderRadius: '8px'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 627,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 626,\n                      columnNumber: 29\n                    }, this) : message.isVideo ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"video-content position-relative\",\n                      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n                        src: message.content,\n                        controls: true,\n                        style: {\n                          maxWidth: '250px',\n                          maxHeight: '300px',\n                          borderRadius: '8px'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 631,\n                        columnNumber: 31\n                      }, this), message.duration && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"video-duration-overlay\",\n                        children: [message.duration, \"s\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 632,\n                        columnNumber: 52\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 630,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-content\",\n                      style: {\n                        whiteSpace: 'pre-wrap',\n                        wordBreak: 'break-word'\n                      },\n                      children: message.content\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 635,\n                      columnNumber: 29\n                    }, this), message.isSending && /*#__PURE__*/_jsxDEV(Spinner, {\n                      animation: \"border\",\n                      size: \"sm\",\n                      className: \"ms-2 sending-spinner\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 637,\n                      columnNumber: 50\n                    }, this), message.isError && /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi bi-exclamation-circle-fill text-danger ms-2\",\n                      title: \"G\\u1EEDi l\\u1ED7i\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 638,\n                      columnNumber: 48\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 612,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"message-time small text-muted mt-1\",\n                    children: message.time\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 640,\n                    columnNumber: 25\n                  }, this), message.senderId === user.id && !message.isUnsent && !message.isSending && !message.isSystemMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"message-actions\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn btn-sm btn-light\",\n                      onClick: () => handleMessageAction(message.id, \"delete\"),\n                      title: \"X\\xF3a tin nh\\u1EAFn\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"bi bi-trash\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 650,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 645,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 644,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 596,\n                columnNumber: 19\n              }, this)]\n            }, message.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 574,\n              columnNumber: 17\n            }, this);\n          }), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: messagesEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 660,\n            columnNumber: 15\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-input-area\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-tools\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"tool-btn\",\n              onClick: () => {\n                var _fileInputRef$current;\n                return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n              },\n              title: \"\\u0110\\xEDnh k\\xE8m file\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-paperclip\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 667,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 666,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              ref: fileInputRef,\n              style: {\n                display: \"none\"\n              },\n              onChange: handleFileSelectEvent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 669,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"tool-btn\",\n              onClick: () => {\n                var _imageInputRef$curren;\n                return (_imageInputRef$curren = imageInputRef.current) === null || _imageInputRef$curren === void 0 ? void 0 : _imageInputRef$curren.click();\n              },\n              title: \"G\\u1EEDi h\\xECnh \\u1EA3nh\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 672,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 671,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              ref: imageInputRef,\n              accept: \"image/*\",\n              style: {\n                display: \"none\"\n              },\n              onChange: handleImageSelectEvent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 674,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"tool-btn\",\n              onClick: () => {\n                var _videoInputRef$curren;\n                return (_videoInputRef$curren = videoInputRef.current) === null || _videoInputRef$curren === void 0 ? void 0 : _videoInputRef$curren.click();\n              },\n              title: \"G\\u1EEDi video\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-camera-video\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 677,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 676,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              ref: videoInputRef,\n              accept: \"video/*\",\n              style: {\n                display: \"none\"\n              },\n              onChange: handleVideoSelectEvent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 679,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"tool-btn\",\n              onClick: () => setShowEmojiPicker(!showEmojiPicker),\n              title: \"Bi\\u1EC3u c\\u1EA3m\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-emoji-smile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 682,\n                columnNumber: 20\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 681,\n              columnNumber: 18\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 665,\n            columnNumber: 15\n          }, this), showEmojiPicker && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"emoji-picker\",\n            children: emojis.map((emoji, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"emoji-btn\",\n              onClick: () => handleEmojiSelect(emoji),\n              children: emoji\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 694,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 692,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSendMessage,\n            className: \"message-form\",\n            children: [console.log('Input state:', {\n              isConnected,\n              loading,\n              selectedContact: !!selectedContact\n            }), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Nh\\u1EADp tin nh\\u1EAFn...\",\n              value: newMessage,\n              onChange: e => setNewMessage(e.target.value),\n              disabled: !isConnected || loading // Disable while loading messages too?\n              ,\n              className: \"message-input\",\n              onKeyDown: e => {\n                if (e.key === 'Enter' && !e.shiftKey) handleSendMessage(e);\n              } // Send on Enter\n              ,\n              style: {\n                pointerEvents: !isConnected || loading ? 'none' : 'auto'\n              } // Add visual feedback\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 704,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"send-btn\",\n              disabled: !isConnected || !newMessage.trim() || loading,\n              title: \"G\\u1EEDi\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-send\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 720,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 714,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 702,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 663,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-chat-selected\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center p-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-chat-dots display-1 text-muted\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 728,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-3\",\n            children: \"Ch\\u1ECDn m\\u1ED9t cu\\u1ED9c tr\\xF2 chuy\\u1EC7n \\u0111\\u1EC3 b\\u1EAFt \\u0111\\u1EA7u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 729,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 727,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 726,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 526,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `sidebar right-sidebar ${selectedContact ? 'active' : ''}`,\n      children: [\" \", selectedContact ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"contact-profile p-3 text-center border-bottom\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"avatar-circle large mx-auto mb-2\",\n            children: selectedContact.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: selectedContact.avatar || \"/placeholder.svg\",\n              alt: \"Avatar\",\n              className: \"avatar-img\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 742,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              children: ((_selectedContact$name2 = selectedContact.name) === null || _selectedContact$name2 === void 0 ? void 0 : _selectedContact$name2.charAt(0)) || \"?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 744,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 740,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"profile-name mb-1\",\n            children: selectedContact.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 747,\n            columnNumber: 15\n          }, this), selectedContact.type === \"group\" && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"group-info\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"badge bg-secondary\",\n              children: [selectedContact.memberCount || 0, \" th\\xE0nh vi\\xEAn\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 750,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 749,\n            columnNumber: 17\n          }, this), selectedContact.type === 'contact' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-sm btn-outline-danger\",\n              onClick: () => handleRemoveFriend(selectedContact.id),\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-person-dash me-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 757,\n                columnNumber: 25\n              }, this), \" X\\xF3a b\\u1EA1n\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 756,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 755,\n            columnNumber: 18\n          }, this), selectedContact.type === 'group' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-sm btn-outline-primary\",\n              onClick: () => handleGroupInfo(selectedContact),\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-info-circle me-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 764,\n                columnNumber: 25\n              }, this), \" Th\\xF4ng tin nh\\xF3m\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 763,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 762,\n            columnNumber: 18\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 739,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"additional-info p-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"media-tabs nav nav-tabs nav-fill mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: `nav-link ${showMedia ? \"active\" : \"\"}`,\n                onClick: toggleMediaView,\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"bi bi-images me-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 785,\n                  columnNumber: 22\n                }, this), \" \\u1EA2nh/Video (\", mediaFiles.length, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 784,\n                columnNumber: 20\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `nav-link ${showFiles ? \"active\" : \"\"}`,\n                onClick: toggleFilesView,\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"bi bi-file-earmark me-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 788,\n                  columnNumber: 22\n                }, this), \" File (\", documents.length, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 787,\n                columnNumber: 20\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 783,\n              columnNumber: 17\n            }, this), showFiles && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"files-list overflow-auto\",\n              style: {\n                maxHeight: 'calc(100vh - 300px)'\n              },\n              children: [\" \", documents.length > 0 ? documents.map(file => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-item d-flex align-items-center p-2 border-bottom\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"file-icon me-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: `bi bi-file-earmark${file.type === \"pdf\" ? \"-pdf text-danger\" : file.type === \"docx\" ? \"-word text-primary\" : \"\"} fs-4`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 799,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 798,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"file-info overflow-hidden\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"file-name text-truncate small fw-bold\",\n                    children: file.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 802,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"file-meta small text-muted\",\n                    children: [file.date, file.size > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"file-size\",\n                      children: [\" \\xB7 \", (file.size / (1024 * 1024)).toFixed(2), \"MB\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 805,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 803,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 801,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: file.url,\n                  download: file.name,\n                  className: \"ms-auto btn btn-sm btn-light\",\n                  title: \"T\\u1EA3i xu\\u1ED1ng\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"bi bi-download\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 809,\n                    columnNumber: 32\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 808,\n                  columnNumber: 28\n                }, this)]\n              }, file.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 797,\n                columnNumber: 25\n              }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"no-content-message text-center text-muted p-3\",\n                children: \"Ch\\u01B0a c\\xF3 file n\\xE0o.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 814,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 794,\n              columnNumber: 19\n            }, this), showMedia && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"media-grid overflow-auto\",\n              style: {\n                maxHeight: 'calc(100vh - 300px)'\n              },\n              children: [\" \", mediaFiles.length > 0 ? mediaFiles.map(file => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"media-item position-relative\",\n                children: file.type === \"image\" ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: file.url || \"/placeholder.svg\",\n                  alt: file.name,\n                  className: \"media-thumbnail\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 826,\n                  columnNumber: 29\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"video-thumbnail\",\n                  children: [/*#__PURE__*/_jsxDEV(\"video\", {\n                    src: file.url,\n                    className: \"media-thumbnail\",\n                    preload: \"metadata\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 829,\n                    columnNumber: 31\n                  }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"play-icon\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi bi-play-fill\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 830,\n                      columnNumber: 58\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 830,\n                    columnNumber: 31\n                  }, this), file.duration && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"video-duration\",\n                    children: [Math.round(file.duration), \"s\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 831,\n                    columnNumber: 49\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 828,\n                  columnNumber: 29\n                }, this)\n              }, file.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 824,\n                columnNumber: 25\n              }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"no-content-message text-center text-muted p-3\",\n                children: \"Ch\\u01B0a c\\xF3 \\u1EA3nh/video n\\xE0o.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 838,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 821,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 782,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 781,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-content-message text-center text-muted p-5\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Ch\\u1ECDn m\\u1ED9t li\\xEAn h\\u1EC7 ho\\u1EB7c nh\\xF3m \\u0111\\u1EC3 xem th\\xF4ng tin.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 847,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 846,\n        columnNumber: 14\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 736,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showProfileModal,\n      onHide: handleCloseProfileModal,\n      centered: true,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"C\\u1EADp nh\\u1EADt h\\u1ED3 s\\u01A1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 855,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 854,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"avatar-circle large mx-auto mb-2 position-relative\",\n            children: [profileData.avatarUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: profileData.avatarUrl,\n              alt: \"Avatar\",\n              className: \"avatar-img\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 861,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              children: ((_profileData$fullName = profileData.fullName) === null || _profileData$fullName === void 0 ? void 0 : _profileData$fullName.charAt(0).toUpperCase()) || ((_user$name2 = user.name) === null || _user$name2 === void 0 ? void 0 : _user$name2.charAt(0).toUpperCase()) || \"U\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 863,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"avatar-edit-button\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-pencil-fill\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 866,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                accept: \"image/*\",\n                style: {\n                  display: \"none\"\n                },\n                onChange: handleAvatarChangeEvent\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 867,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 865,\n              columnNumber: 18\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 859,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 858,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"H\\u1ECD v\\xE0 t\\xEAn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 872,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: profileData.fullName || \"\",\n            onChange: e => setProfileData({\n              ...profileData,\n              fullName: e.target.value\n            }),\n            placeholder: \"Nh\\u1EADp h\\u1ECD v\\xE0 t\\xEAn\",\n            className: \"form-control\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 873,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 871,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Ng\\xE0y sinh\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 882,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: profileData.birthdate || \"\",\n            onChange: e => setProfileData({\n              ...profileData,\n              birthdate: e.target.value\n            }),\n            className: \"form-control\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 883,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 881,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Gi\\u1EDBi t\\xEDnh\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 891,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: profileData.gender || \"\",\n            onChange: e => setProfileData({\n              ...profileData,\n              gender: e.target.value\n            }),\n            className: \"form-select\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Ch\\u1ECDn gi\\u1EDBi t\\xEDnh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 897,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Nam\",\n              children: \"Nam\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 898,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"N\\u1EEF\",\n              children: \"N\\u1EEF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 899,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Kh\\xE1c\",\n              children: \"Kh\\xE1c\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 900,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Kh\\xF4ng chia s\\u1EBB\",\n              children: \"Kh\\xF4ng mu\\u1ED1n n\\xF3i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 901,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 892,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 890,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 857,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-secondary\",\n          onClick: handleCloseProfileModal,\n          children: \"H\\u1EE7y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 906,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-primary\",\n          onClick: handleUpdateProfile,\n          disabled: loading,\n          children: loading ? /*#__PURE__*/_jsxDEV(Spinner, {\n            as: \"span\",\n            animation: \"border\",\n            size: \"sm\",\n            role: \"status\",\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 910,\n            columnNumber: 24\n          }, this) : \"Lưu thay đổi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 909,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 905,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 853,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showAddFriendModal,\n      onHide: handleCloseAddFriendModal,\n      centered: true,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Th\\xEAm b\\u1EA1n m\\u1EDBi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 918,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 917,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Nh\\u1EADp \\u0111\\u1ECBa ch\\u1EC9 email c\\u1EE7a ng\\u01B0\\u1EDDi b\\u1EA1n mu\\u1ED1n k\\u1EBFt b\\u1EA1n:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 921,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: friendEmail,\n            onChange: e => setFriendEmail(e.target.value),\n            placeholder: \"example@email.com\",\n            className: \"form-control\",\n            autoFocus: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 923,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 922,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 920,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-secondary\",\n          onClick: handleCloseAddFriendModal,\n          children: \"H\\u1EE7y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 934,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-primary\",\n          onClick: handleSubmitAddFriend,\n          disabled: loading || !friendEmail.trim(),\n          children: loading ? /*#__PURE__*/_jsxDEV(Spinner, {\n            as: \"span\",\n            animation: \"border\",\n            size: \"sm\",\n            role: \"status\",\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 938,\n            columnNumber: 25\n          }, this) : \"Gửi lời mời\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 937,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 933,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 916,\n      columnNumber: 7\n    }, this), showCreateGroupModal &&\n    /*#__PURE__*/\n    // Conditionally render modal to ensure fresh state if needed\n    _jsxDEV(CreateGroupModal, {\n      show: showCreateGroupModal,\n      onHide: () => setShowCreateGroupModal(false),\n      onGroupCreated: handleGroupCreated,\n      token: token // Pass token from hook\n      ,\n      userId: user.id // Pass userId from hook\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 945,\n      columnNumber: 11\n    }, this), showGroupInfoModal && selectedGroup &&\n    /*#__PURE__*/\n    // Conditionally render and ensure group data exists\n    _jsxDEV(GroupInfoModal, {\n      show: showGroupInfoModal,\n      onHide: () => setShowGroupInfoModal(false),\n      group: selectedGroup // Pass selected group from hook state\n      ,\n      token: token // Pass token from hook\n      ,\n      userId: user.id // Pass userId from hook\n      ,\n      onGroupUpdated: handleGroupUpdated,\n      onLeaveGroup: handleLeaveGroup,\n      onDeleteGroup: handleDeleteGroup\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 956,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 161,\n    columnNumber: 5\n  }, this);\n};\n_s(Home, \"/ojNJn/Da67cm1u+brm8TNK70L0=\", false, function () {\n  return [useChat];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","React","useState","Modal","Spinner","Toast","ToastContainer","useChat","CreateGroupModal","GroupInfoModal","jsxDEV","_jsxDEV","Fragment","_Fragment","Home","_user$name","_selectedContact$name","_selectedContact$name2","_profileData$fullName","_user$name2","user","contacts","groups","selectedContact","messages","newMessage","isConnected","showEmojiPicker","searchQuery","mediaFiles","documents","showMedia","showFiles","activeTab","showProfileModal","profileData","loading","showAddFriendModal","friendEmail","error","showToast","friendRequests","showCreateGroupModal","showGroupInfoModal","selectedGroup","setNewMessage","setShowEmojiPicker","setSearchQuery","setShowProfileModal","setProfileData","setShowAddFriendModal","setFriendEmail","setShowToast","setShowCreateGroupModal","setShowGroupInfoModal","messagesEndRef","fileInputRef","imageInputRef","videoInputRef","handleContactSelect","handleSendMessage","handleSendFile","handleEmojiSelect","handleMessageAction","toggleMediaView","toggleFilesView","handleTabChange","handleProfileClick","handleCloseProfileModal","handleAvatarChange","handleUpdateProfile","handleAddFriend","handleCloseAddFriendModal","handleSubmitAddFriend","handleRespondToFriendRequest","handleRemoveFriend","handleCreateGroup","handleGroupCreated","handleGroupInfo","handleGroupUpdated","handleLeaveGroup","handleDeleteGroup","filteredContacts","filteredGroups","emojis","token","showChangePassword","setShowChangePassword","oldPassword","setOldPassword","newPassword","setNewPassword","confirmPassword","setConfirmPassword","passwordError","setPasswordError","handleSecurityClick","handleChangePassword","e","preventDefault","alert","handleFileSelectEvent","file","target","files","current","value","handleImageSelectEvent","handleVideoSelectEvent","handleAvatarChangeEvent","className","children","position","style","zIndex","onClose","show","delay","autohide","bg","includes","Header","closeButton","fileName","lineNumber","columnNumber","Body","onClick","avatar","src","alt","name","charAt","toUpperCase","title","length","type","placeholder","onChange","animation","variant","map","group","_group$name","id","groupId","memberCount","stopPropagation","contact","_contact$name","lastMessage","maxWidth","display","content","status","unreadCount","size","request","_request$sender","_request$sender2","_request$sender3","_request$sender4","sender","avatarUrl","fullName","email","message","requestId","disabled","filter","c","toLowerCase","_contact$name2","cursor","window","confirm","localStorage","clear","location","href","onSubmit","_message$sender","_message$sender2","_message$fileType","_message$fileType2","isSystemMessage","senderId","isSending","isError","isUnsent","isFile","fileType","fileUrl","download","isImage","maxHeight","borderRadius","isVideo","controls","duration","whiteSpace","wordBreak","time","ref","_fileInputRef$current","click","_imageInputRef$curren","accept","_videoInputRef$curren","emoji","index","console","log","onKeyDown","key","shiftKey","pointerEvents","trim","date","toFixed","url","preload","Math","round","onHide","centered","Title","birthdate","gender","Footer","as","role","autoFocus","onGroupCreated","userId","onGroupUpdated","onLeaveGroup","onDeleteGroup","_c","$RefreshReg$"],"sources":["C:/Users/ADMIN/Desktop/Nhom12_Zalo_Web/FE-WebAppZola/src/pages/Home.jsx"],"sourcesContent":["// src/pages/Home.jsx\n\"use client\" // Keep this if using Next.js App Router\n\nimport React, { useState } from \"react\" // Import React and useState\nimport { Modal, Spinner, Toast, ToastContainer } from \"react-bootstrap\"\nimport \"bootstrap/dist/css/bootstrap.min.css\"\nimport \"bootstrap-icons/font/bootstrap-icons.css\"\nimport \"../styles/home.css\" // Your specific styles\nimport useChat from \"../hooks/useChat\" // Import the custom hook\nimport CreateGroupModal from \"../components/CreateGroupModal\"\nimport GroupInfoModal from \"../components/GroupInfoModal\"\n\n// --- Presentational Component ---\n\nconst Home = () => {\n  const {\n    // State\n    user,\n    contacts, // Use full list for counts or specific checks if needed\n    groups,   // Use full list for counts or specific checks if needed\n    selectedContact,\n    messages,\n    newMessage,\n    isConnected,\n    showEmojiPicker,\n    searchQuery,\n    mediaFiles,\n    documents,\n    showMedia,\n    showFiles,\n    activeTab,\n    showProfileModal,\n    profileData,\n    loading, // Use loading state for spinners etc.\n    showAddFriendModal,\n    friendEmail,\n    error,\n    showToast,\n    friendRequests,\n    showCreateGroupModal,\n    showGroupInfoModal,\n    selectedGroup, // Pass selectedGroup to GroupInfoModal\n\n    // Setters\n    setNewMessage,\n    setShowEmojiPicker,\n    setSearchQuery,\n    setShowProfileModal,\n    setProfileData,\n    setShowAddFriendModal,\n    setFriendEmail,\n    setShowToast,\n    setShowCreateGroupModal,\n    setShowGroupInfoModal,\n\n    // Refs\n    messagesEndRef,\n    fileInputRef,\n    imageInputRef,\n    videoInputRef,\n\n    // Handlers\n    handleContactSelect,\n    handleSendMessage,\n    handleSendFile, // Use the consolidated handler\n    handleEmojiSelect,\n    handleMessageAction,\n    toggleMediaView,\n    toggleFilesView,\n    handleTabChange,\n    handleProfileClick,\n    handleCloseProfileModal,\n    handleAvatarChange, // Pass the file directly\n    handleUpdateProfile,\n    handleAddFriend,\n    handleCloseAddFriendModal,\n    handleSubmitAddFriend,\n    handleRespondToFriendRequest,\n    handleRemoveFriend,\n    handleCreateGroup,\n    handleGroupCreated,\n    handleGroupInfo,\n    handleGroupUpdated,\n    handleLeaveGroup,\n    handleDeleteGroup,\n    // showError, // Not called directly from JSX\n\n    // Derived Data\n    filteredContacts,\n    filteredGroups,\n    emojis,\n    token, // Get token from hook\n  } = useChat()\n\n  const [showChangePassword, setShowChangePassword] = useState(false);\n  const [oldPassword, setOldPassword] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [passwordError, setPasswordError] = useState(\"\");\n\n  const handleSecurityClick = () => {\n    setShowChangePassword(true);\n    setPasswordError(\"\");\n    setOldPassword(\"\");\n    setNewPassword(\"\");\n    setConfirmPassword(\"\");\n  };\n\n  const handleChangePassword = (e) => {\n    e.preventDefault();\n    setPasswordError(\"\");\n    if (!oldPassword || !newPassword || !confirmPassword) {\n      setPasswordError(\"Vui lòng nhập đầy đủ thông tin.\");\n      return;\n    }\n    if (newPassword === oldPassword) {\n      setPasswordError(\"Vui lòng nhập mật khẩu khác với mật khẩu cũ.\");\n      return;\n    }\n    if (newPassword !== confirmPassword) {\n      setPasswordError(\"Mật khẩu mới và xác nhận không khớp.\");\n      return;\n    }\n    // TODO: Gọi API đổi mật khẩu ở đây\n    alert(\"Đổi mật khẩu thành công (demo, chưa gọi API)\");\n    setShowChangePassword(false);\n  };\n\n  // Specific handlers for file inputs that call the main handler\n  const handleFileSelectEvent = (e) => {\n    const file = e.target.files[0]\n    if (file) {\n      handleSendFile(file, \"file\")\n    }\n    if (fileInputRef.current) fileInputRef.current.value = null // Reset input\n  }\n  const handleImageSelectEvent = (e) => {\n    const file = e.target.files[0]\n    if (file) {\n      handleSendFile(file, \"image\")\n    }\n    if (imageInputRef.current) imageInputRef.current.value = null // Reset input\n  }\n  const handleVideoSelectEvent = (e) => {\n    const file = e.target.files[0]\n    if (file) {\n      handleSendFile(file, \"video\")\n    }\n    if (videoInputRef.current) videoInputRef.current.value = null // Reset input\n  }\n  const handleAvatarChangeEvent = (e) => {\n    const file = e.target.files[0]\n    if (file) {\n      handleAvatarChange(file) // Pass file to hook handler\n    }\n    // No need to reset avatar input usually\n     if (e.target) e.target.value = null; // Reset file input\n  }\n\n  return (\n    <div className=\"chat-app\">\n      {/* Toast Notification */}\n      <ToastContainer position=\"top-end\" className=\"p-3\" style={{ zIndex: 1056 }}> {/* Ensure high z-index, top-end is usually better */}\n        <Toast onClose={() => setShowToast(false)} show={showToast} delay={3000} autohide bg={error?.includes(\"thành công\") ? 'success' : 'danger'} > {/* Dynamic background */}\n          <Toast.Header closeButton={true}> {/* Ensure close button shows */}\n            <strong className=\"me-auto\">{error?.includes(\"thành công\") ? 'Thành công' : 'Thông báo'}</strong>\n          </Toast.Header>\n          <Toast.Body className={error?.includes(\"thành công\") ? 'text-white' : ''}>{error}</Toast.Body> {/* White text for success */}\n        </Toast>\n      </ToastContainer>\n\n      {/* Sidebar trái */}\n      <div className=\"sidebar left-sidebar\">\n        <div className=\"user-avatar\" onClick={handleProfileClick}>\n          <div className=\"avatar-circle pointer\">\n            {user.avatar ? (\n              <img src={user.avatar || \"/placeholder.svg\"} alt=\"Avatar\" className=\"avatar-img\" />\n            ) : (\n              <span>{user.name?.charAt(0).toUpperCase() || \"U\"}</span> // Add fallback\n            )}\n          </div>\n        </div>\n        <div className=\"sidebar-taskbar\">\n          <button\n            className={`taskbar-btn ${activeTab === \"chat\" ? \"active\" : \"\"}`}\n            onClick={() => handleTabChange(\"chat\")}\n            title=\"Tin nhắn\"\n          >\n            <i className=\"bi bi-chat\"></i>\n          </button>\n          <button\n            className={`taskbar-btn ${activeTab === \"contacts\" ? \"active\" : \"\"}`}\n            onClick={() => handleTabChange(\"contacts\")}\n            style={{ position: \"relative\" }}\n            title=\"Danh bạ\"\n          >\n            <i className=\"bi bi-people\"></i>\n            {friendRequests.length > 0 && <span className=\"request-badge\">{friendRequests.length}</span>}\n          </button>\n        </div>\n        <div className=\"setting-btn\">\n          <button\n            className={`taskbar-btn ${activeTab === \"settings\" ? \"active\" : \"\"}`}\n            onClick={() => handleTabChange(\"settings\")}\n            title=\"Cài đặt\"\n          >\n            <i className=\"bi bi-gear\"></i>\n          </button>\n        </div>\n      </div>\n\n      {/* Danh sách chat / Danh bạ / Cài đặt */}\n      <div className=\"chat-list-panel\">\n        <div className=\"search-container\">\n          <div className=\"search-input-wrapper\">\n            <i className=\"bi bi-search\"></i>\n            <input\n              type=\"text\"\n              placeholder=\"Tìm kiếm\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"search-input\"\n            />\n          </div>\n          <div className=\"user-buttons\">\n            <button className=\"user-button\" onClick={handleAddFriend} title=\"Thêm bạn\">\n              <i className=\"bi bi-person-plus\"></i>\n            </button>\n            <button className=\"user-button\" onClick={handleCreateGroup} title=\"Tạo nhóm\">\n              <i className=\"bi bi-people-fill\"></i>\n            </button>\n          </div>\n        </div>\n\n        {/* Chat Tab */}\n        {activeTab === \"chat\" && (\n          <div className=\"contact-list\">\n            {loading && contacts.length === 0 && groups.length === 0 ? ( // Show spinner only on initial load\n              <div className=\"d-flex justify-content-center p-3\">\n                 <Spinner animation=\"border\" variant=\"primary\" />\n              </div>\n            ) : (\n              <>\n                {/* Groups */}\n                {filteredGroups.length > 0 && (\n                  <div className=\"groups-section mb-3\">\n                    <div className=\"section-title\">Nhóm ({filteredGroups.length})</div>\n                    {filteredGroups.map((group) => (\n                      <div\n                        key={group.groupId}\n                        className={`contact-item ${\n                          selectedContact?.id === group.groupId && selectedContact?.type === \"group\" ? \"active\" : \"\"\n                        }`}\n                        onClick={() => handleContactSelect(group)}\n                      >\n                        <div className=\"contact-avatar\">\n                          <div className=\"avatar-circle\">\n                            {group.avatar ? (\n                              <img src={group.avatar || \"/placeholder.svg\"} alt=\"Avatar\" className=\"avatar-img\" />\n                            ) : (\n                              <span>{group.name?.charAt(0) || \"G\"}</span>\n                            )}\n                          </div>\n                        </div>\n                        <div className=\"contact-details\">\n                          <div className=\"contact-name\">{group.name}</div>\n                          <div className=\"contact-status small text-muted\">{group.memberCount || 0} thành viên</div>\n                        </div>\n                        {/* Optional: Add quick actions like info button */}\n                         <div className=\"contact-actions ms-auto\" onClick={(e) => e.stopPropagation()}>\n                          <button\n                            className=\"btn btn-sm btn-light\"\n                            onClick={() => handleGroupInfo(group)}\n                            title=\"Thông tin nhóm\"\n                          >\n                            <i className=\"bi bi-info-circle\"></i>\n                          </button>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n\n                {/* Contacts */}\n                {filteredContacts.length > 0 && (\n                  <div className=\"contacts-section\">\n                    <div className=\"section-title\">Bạn bè ({filteredContacts.length})</div>\n                    {filteredContacts.map((contact) => (\n                      <div\n                        key={contact.id}\n                        className={`contact-item ${\n                          selectedContact?.id === contact.id && selectedContact?.type === \"contact\" ? \"active\" : \"\"\n                        }`}\n                        onClick={() => handleContactSelect(contact)}\n                      >\n                        <div className=\"contact-avatar\">\n                          <div className=\"avatar-circle\">\n                            {contact.avatar ? (\n                              <img src={contact.avatar || \"/placeholder.svg\"} alt=\"Avatar\" className=\"avatar-img\" />\n                            ) : (\n                              <span>{contact.name?.charAt(0) || \"C\"}</span>\n                            )}\n                          </div>\n                        </div>\n                        <div className=\"contact-details\">\n                          <div className=\"contact-name\">{contact.name}</div>\n                          {/* Display last message and timestamp, or status */}\n                          <div className=\"contact-last-message small text-muted\">\n                            {contact.lastMessage ? (\n                              <span className=\"text-truncate\" style={{ maxWidth: '150px', display: 'inline-block' }}>\n                                {contact.lastMessage.type === 'text'\n                                  ? contact.lastMessage.content\n                                  : contact.lastMessage.type === 'image' || contact.lastMessage.type === 'imageGroup'\n                                  ? 'Đã gửi ảnh'\n                                  : contact.lastMessage.type === 'video'\n                                  ? 'Đã gửi video'\n                                  : contact.lastMessage.type === 'file'\n                                  ? `Đã gửi file: ${contact.lastMessage.name || ''}`\n                                  : contact.lastMessage.type === 'emoji'\n                                  ? contact.lastMessage.content // Show emoji directly\n                                  : 'Tệp đính kèm'}\n                              </span>\n                            ) : (\n                              <span>{contact.status}</span>\n                            )}\n                          </div>\n                        </div>\n                        {/* Display unread count */}\n                        <div className=\"contact-meta ms-auto\">\n                          {contact.unreadCount > 0 && (\n                            <span className=\"unread-badge\">{contact.unreadCount}</span>\n                          )}\n                        </div>\n                         {/* Optional: Add quick actions like remove friend */}\n                         <div className=\"contact-actions ms-auto\" onClick={(e) => e.stopPropagation()}>\n                          <button\n                            className=\"btn btn-sm btn-light text-danger\"\n                            onClick={() => handleRemoveFriend(contact.id)}\n                            title=\"Xóa bạn\"\n                          >\n                            <i className=\"bi bi-person-dash\"></i>\n                          </button>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n\n                {/* No Results */}\n                {!loading && filteredGroups.length === 0 && filteredContacts.length === 0 && (\n                  <div className=\"no-content-message p-3 text-center text-muted\">\n                    Không tìm thấy cuộc trò chuyện nào.\n                  </div>\n                )}\n              </>\n            )}\n          </div>\n        )}\n\n        {/* Contacts Tab */}\n        {activeTab === \"contacts\" && (\n          <div className=\"contacts-panel\"> {/* Use a different class if needed */}\n            <div className=\"section-title\">Danh bạ</div>\n\n            {/* Friend Requests */}\n            {friendRequests.length > 0 && (\n              <div className=\"friend-requests-section mb-3\">\n                <div className=\"sub-section-title\">Lời mời kết bạn ({friendRequests.length})</div>\n                {loading && friendRequests.length === 0 ? ( // Spinner only if loading and no requests yet\n                   <div className=\"d-flex justify-content-center p-3\">\n                     <Spinner animation=\"border\" variant=\"primary\" size=\"sm\"/>\n                   </div>\n                ) : (\n                  <div className=\"friend-requests-list\">\n                    {friendRequests.map((request) => (\n                      <div\n                        key={request.requestId}\n                        className=\"friend-request-item d-flex justify-content-between align-items-center p-2 border-bottom\"\n                      >\n                        <div className=\"d-flex align-items-center\">\n                          <div className=\"me-2\">\n                            <div className=\"avatar-circle small\">\n                              {request.sender?.avatarUrl ? (\n                                <img\n                                  src={request.sender.avatarUrl || \"/placeholder.svg\"}\n                                  alt=\"Avatar\"\n                                  className=\"avatar-img\"\n                                />\n                              ) : (\n                                <span>{request.sender?.fullName ? request.sender.fullName.charAt(0) : \"?\"}</span>\n                              )}\n                            </div>\n                          </div>\n                          <div>\n                            <div className=\"fw-bold small\">{request.sender?.fullName || request.sender?.email}</div>\n                            <div className=\"text-muted small fst-italic\">{request.message || \"Muốn kết bạn\"}</div>\n                          </div>\n                        </div>\n                        <div className=\"d-flex\">\n                          <button\n                            className=\"btn btn-sm btn-success me-1\"\n                            onClick={() => handleRespondToFriendRequest(request.requestId, \"accept\")}\n                            disabled={loading} // Disable while processing\n                            title=\"Chấp nhận\"\n                          >\n                            <i className=\"bi bi-check-lg\"></i>\n                          </button>\n                          <button\n                            className=\"btn btn-sm btn-outline-danger\"\n                            onClick={() => handleRespondToFriendRequest(request.requestId, \"reject\")}\n                            disabled={loading} // Disable while processing\n                            title=\"Từ chối\"\n                          >\n                             <i className=\"bi bi-x-lg\"></i>\n                          </button>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Friends List */}\n            <div className=\"contacts-list-section\">\n              <div className=\"sub-section-title\">Bạn bè ({contacts.filter(c => c.type === 'contact').length})</div> {/* Use full contacts list for count */}\n              <div className=\"contact-list\">\n                {loading && contacts.filter(c => c.type === 'contact').length === 0 ? ( // Spinner only if loading and no contacts yet\n                   <div className=\"d-flex justify-content-center p-3\">\n                     <Spinner animation=\"border\" variant=\"primary\" />\n                   </div>\n                ) : contacts.filter(c => c.type === 'contact').length > 0 ? (\n                  contacts // Map over the full contacts list, filtering inline\n                    .filter((c) => c.type === \"contact\")\n                    .filter((contact) => contact.name.toLowerCase().includes(searchQuery.toLowerCase())) // Apply search filter here\n                    .map((contact) => (\n                    <div\n                      key={contact.id}\n                      className={`contact-item ${selectedContact?.id === contact.id && selectedContact?.type === 'contact' ? 'active' : ''}`}\n                      onClick={() => { handleContactSelect(contact); handleTabChange('chat'); }} // Switch to chat tab on select\n                    >\n                      <div className=\"contact-avatar\">\n                        <div className=\"avatar-circle\">\n                          {contact.avatar ? (\n                            <img src={contact.avatar || \"/placeholder.svg\"} alt=\"Avatar\" className=\"avatar-img\" />\n                          ) : (\n                            <span>{contact.name?.charAt(0) || \"C\"}</span>\n                          )}\n                        </div>\n                      </div>\n                      <div className=\"contact-details\">\n                        <div className=\"contact-name\">{contact.name}</div>\n                        {/* <div className=\"contact-status\">{contact.status}</div> */}\n                      </div>\n                       <div className=\"contact-actions ms-auto\" onClick={(e) => e.stopPropagation()}>\n                          <button\n                            className=\"btn btn-sm btn-light text-danger\"\n                            onClick={() => handleRemoveFriend(contact.id)}\n                            title=\"Xóa bạn\"\n                          >\n                            <i className=\"bi bi-person-dash\"></i>\n                          </button>\n                        </div>\n                    </div>\n                  ))\n                ) : (\n                  <div className=\"no-content-message p-3 text-center text-muted\">Bạn chưa có bạn bè nào.</div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Settings Tab */}\n        {activeTab === \"settings\" && (\n          <div className=\"settings-section p-3\">\n            <div className=\"section-title\">Cài đặt</div>\n            <div className=\"settings-list\">\n              <div className=\"setting-item p-2 border-bottom d-flex align-items-center\" style={{cursor: 'pointer'}} onClick={handleProfileClick}>\n                <div className=\"setting-icon me-2\"><i className=\"bi bi-person-circle\"></i></div>\n                <div className=\"setting-details\">Hồ sơ</div>\n              </div>\n              <div className=\"setting-item p-2 border-bottom d-flex align-items-center\" style={{cursor: 'pointer'}}>\n                 <div className=\"setting-icon me-2\"><i className=\"bi bi-bell\"></i></div>\n                 <div className=\"setting-details\">Thông báo</div>\n              </div>\n              <div className=\"setting-item p-2 border-bottom d-flex align-items-center\" style={{cursor: 'pointer'}} onClick={handleSecurityClick}>\n                 <div className=\"setting-icon me-2\"><i className=\"bi bi-shield-lock\"></i></div>\n                 <div className=\"setting-details\">Bảo mật</div>\n              </div>\n               <div className=\"setting-item p-2 text-danger d-flex align-items-center\" style={{cursor: 'pointer'}} onClick={() => { if(window.confirm('Bạn có chắc muốn đăng xuất?')) { localStorage.clear(); window.location.href = '/login'; } }}>\n                 <div className=\"setting-icon me-2\"><i className=\"bi bi-box-arrow-right\"></i></div>\n                 <div className=\"setting-details\">Đăng xuất</div>\n              </div>\n            </div>\n            {/* Form đổi mật khẩu */}\n            {showChangePassword && (\n              <div className=\"change-password-form mt-4 p-3 border rounded bg-light\">\n                <h5>Đổi mật khẩu</h5>\n                <form onSubmit={handleChangePassword}>\n                  <div className=\"mb-3\">\n                    <label className=\"form-label\">Mật khẩu cũ</label>\n                    <input type=\"password\" className=\"form-control\" value={oldPassword} onChange={e => setOldPassword(e.target.value)} />\n                  </div>\n                  <div className=\"mb-3\">\n                    <label className=\"form-label\">Mật khẩu mới</label>\n                    <input type=\"password\" className=\"form-control\" value={newPassword} onChange={e => setNewPassword(e.target.value)} />\n                  </div>\n                  <div className=\"mb-3\">\n                    <label className=\"form-label\">Xác nhận mật khẩu mới</label>\n                    <input type=\"password\" className=\"form-control\" value={confirmPassword} onChange={e => setConfirmPassword(e.target.value)} />\n                  </div>\n                  {passwordError && <div className=\"text-danger mb-2\">{passwordError}</div>}\n                  <div className=\"d-flex gap-2\">\n                    <button type=\"submit\" className=\"btn btn-primary\">Đổi mật khẩu</button>\n                    <button type=\"button\" className=\"btn btn-secondary\" onClick={() => setShowChangePassword(false)}>Hủy</button>\n                  </div>\n                </form>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Main Chat Area */}\n      <div className=\"main-chat\">\n        {selectedContact ? (\n          <>\n            <div className=\"chat-header\">\n              <div className=\"chat-contact-info\">\n                <div className=\"contact-avatar me-2\">\n                  <div className=\"avatar-circle\">\n                    {selectedContact.avatar ? (\n                      <img src={selectedContact.avatar || \"/placeholder.svg\"} alt=\"Avatar\" className=\"avatar-img\" />\n                    ) : (\n                      <span>{selectedContact.name?.charAt(0) || \"?\"}</span>\n                    )}\n                  </div>\n                </div>\n                <div>\n                  <div className=\"contact-name\">{selectedContact.name}</div>\n                  <div className=\"active-status small text-muted\">\n                    {selectedContact.type === \"group\"\n                      ? `${selectedContact.memberCount || 0} thành viên`\n                      : selectedContact.status || \"Online\"} {/* Placeholder status */}\n                  </div>\n                </div>\n              </div>\n              <div className=\"chat-actions\">\n                <button className=\"action-btn\" title=\"Gọi thoại (chưa có)\">\n                  <i className=\"bi bi-telephone\"></i>\n                </button>\n                <button className=\"action-btn\" title=\"Gọi video (chưa có)\">\n                  <i className=\"bi bi-camera-video\"></i>\n                </button>\n                {selectedContact.type === \"group\" && (\n                    <button\n                    className=\"action-btn\"\n                    onClick={() => handleGroupInfo(selectedContact)}\n                    title=\"Thông tin nhóm\"\n                    >\n                    <i className=\"bi bi-info-circle\"></i>\n                    </button>\n                )}\n                 {/* Add search in chat button? */}\n              </div>\n            </div>\n\n            <div className=\"messages-container\">\n              {!isConnected && <div className=\"connection-status text-center text-warning p-1 small\">Đang kết nối lại...</div>}\n              {loading && messages.length === 0 && <div className=\"d-flex justify-content-center p-5\"><Spinner animation=\"border\" variant=\"primary\"/></div>} {/* Loading messages */}\n\n              {messages.map((message) => (\n                <div\n                  key={message.id} // Use message ID as key\n                  className={`message ${\n                    message.isSystemMessage ? \"system\" : message.senderId === user.id ? \"sent\" : \"received\"\n                  }`}\n                >\n                  {/* Avatar for received messages */}\n                  {message.senderId !== user.id && !message.isSystemMessage && (\n                    <div className=\"message-avatar\">\n                      <div className=\"avatar-circle small\">\n                        {/* Find sender avatar (might need lookup if group message) */}\n                        {selectedContact?.type === 'contact' && selectedContact?.avatar ? (\n                          <img src={selectedContact.avatar || \"/placeholder.svg\"} alt=\"Avatar\" className=\"avatar-img\" />\n                        ) : selectedContact?.type === 'group' ? (\n                           // Find member avatar in group (complex, maybe skip for now or show initial)\n                           <span>{message.sender?.charAt(0) || '?'}</span>\n                        ) : (\n                          <span>{message.sender?.charAt(0) || \"?\"}</span>\n                        )}\n                      </div>\n                    </div>\n                  )}\n                  <div className={`message-content-wrapper ${message.senderId === user.id ? \"align-items-end\" : \"align-items-start\"}`}>\n                     {/* Sender Name for received group messages */}\n                     {selectedContact?.type === 'group' && message.senderId !== user.id && !message.isSystemMessage && (\n                        <div className=\"message-sender-name small text-muted mb-1\">{message.sender}</div>\n                     )}\n\n                    {message.isSystemMessage ? (\n                      <div className=\"system-message-bubble\">\n                        <div className=\"system-message-content small\">\n                          {/* <i className=\"bi bi-info-circle me-1\"></i> */}\n                          {message.content}\n                        </div>\n                        {/* <div className=\"message-time small\">{message.time}</div> */}\n                      </div>\n                    ) : (\n                      <>\n                        <div className={`message-bubble ${message.isSending ? 'sending' : ''} ${message.isError ? 'error' : ''}`}>\n                          {message.isUnsent ? (\n                            <div className=\"unsent-content fst-italic text-muted\">{message.content}</div>\n                          ) : message.isFile ? (\n                            <div className=\"file-content d-flex align-items-center\">\n                              <i className={`bi bi-file-earmark${message.fileType?.includes('pdf') ? '-pdf' : message.fileType?.includes('word') ? '-word' : ''} fs-4 me-2`}></i>\n                              <div>\n                                <a href={message.fileUrl} download={message.fileName} className=\"text-break\">\n                                  {message.fileName}\n                                </a>\n                                {/* Add file size? */}\n                              </div>\n                            </div>\n                          ) : message.isImage ? (\n                            <div className=\"image-content\">\n                              <img src={message.content || \"/placeholder.svg\"} alt=\"Sent content\" style={{maxWidth: '250px', maxHeight: '300px', borderRadius: '8px'}}/>\n                            </div>\n                          ) : message.isVideo ? (\n                            <div className=\"video-content position-relative\">\n                              <video src={message.content} controls style={{maxWidth: '250px', maxHeight: '300px', borderRadius: '8px'}}></video>\n                              {message.duration && <div className=\"video-duration-overlay\">{message.duration}s</div>}\n                            </div>\n                          ) : (\n                            <div className=\"text-content\" style={{ whiteSpace: 'pre-wrap', wordBreak: 'break-word' }}>{message.content}</div>\n                          )}\n                           {message.isSending && <Spinner animation=\"border\" size=\"sm\" className=\"ms-2 sending-spinner\"/>}\n                           {message.isError && <i className=\"bi bi-exclamation-circle-fill text-danger ms-2\" title=\"Gửi lỗi\"></i>}\n                        </div>\n                        <div className=\"message-time small text-muted mt-1\">{message.time}</div>\n\n                        {/* Message Actions (Delete/Recall) */}\n                        {message.senderId === user.id && !message.isUnsent && !message.isSending && !message.isSystemMessage && (\n                          <div className=\"message-actions\">\n                            <button\n                              className=\"btn btn-sm btn-light\"\n                              onClick={() => handleMessageAction(message.id, \"delete\")}\n                              title=\"Xóa tin nhắn\"\n                            >\n                              <i className=\"bi bi-trash\"></i>\n                            </button>\n                            {/* Add Recall button later */}\n                          </div>\n                        )}\n                      </>\n                    )}\n                  </div>\n                </div>\n              ))}\n              <div ref={messagesEndRef} /> {/* For scrolling */}\n            </div>\n\n            <div className=\"message-input-area\">\n              {/* Input Tools */}\n              <div className=\"input-tools\">\n                <button className=\"tool-btn\" onClick={() => fileInputRef.current?.click()} title=\"Đính kèm file\">\n                  <i className=\"bi bi-paperclip\"></i>\n                </button>\n                <input type=\"file\" ref={fileInputRef} style={{ display: \"none\" }} onChange={handleFileSelectEvent} />\n\n                <button className=\"tool-btn\" onClick={() => imageInputRef.current?.click()} title=\"Gửi hình ảnh\">\n                  <i className=\"bi bi-image\"></i>\n                </button>\n                <input type=\"file\" ref={imageInputRef} accept=\"image/*\" style={{ display: \"none\" }} onChange={handleImageSelectEvent} />\n\n                <button className=\"tool-btn\" onClick={() => videoInputRef.current?.click()} title=\"Gửi video\">\n                  <i className=\"bi bi-camera-video\"></i>\n                </button>\n                <input type=\"file\" ref={videoInputRef} accept=\"video/*\" style={{ display: \"none\" }} onChange={handleVideoSelectEvent} />\n\n                 <button className=\"tool-btn\" onClick={() => setShowEmojiPicker(!showEmojiPicker)} title=\"Biểu cảm\">\n                   <i className=\"bi bi-emoji-smile\"></i>\n                 </button>\n\n                {/* <button className=\"tool-btn\" title=\"Ghi âm (chưa có)\">\n                  <i className=\"bi bi-mic\"></i>\n                </button> */}\n              </div>\n\n              {/* Emoji Picker */}\n              {showEmojiPicker && (\n                <div className=\"emoji-picker\">\n                  {emojis.map((emoji, index) => (\n                    <button key={index} className=\"emoji-btn\" onClick={() => handleEmojiSelect(emoji)}>\n                      {emoji}\n                    </button>\n                  ))}\n                </div>\n              )}\n\n              {/* Message Form */}\n              <form onSubmit={handleSendMessage} className=\"message-form\">\n                {console.log('Input state:', { isConnected, loading, selectedContact: !!selectedContact })}\n                <input\n                  type=\"text\"\n                  placeholder=\"Nhập tin nhắn...\"\n                  value={newMessage}\n                  onChange={(e) => setNewMessage(e.target.value)}\n                  disabled={!isConnected || loading} // Disable while loading messages too?\n                  className=\"message-input\"\n                  onKeyDown={(e) => { if (e.key === 'Enter' && !e.shiftKey) handleSendMessage(e); }} // Send on Enter\n                  style={{ pointerEvents: (!isConnected || loading) ? 'none' : 'auto' }} // Add visual feedback\n                />\n                <button\n                  type=\"submit\"\n                  className=\"send-btn\"\n                  disabled={!isConnected || !newMessage.trim() || loading}\n                  title=\"Gửi\"\n                >\n                  <i className=\"bi bi-send\"></i>\n                </button>\n              </form>\n            </div>\n          </>\n        ) : (\n          <div className=\"no-chat-selected\">\n            <div className=\"text-center p-5\">\n              <i className=\"bi bi-chat-dots display-1 text-muted\"></i>\n              <p className=\"mt-3\">Chọn một cuộc trò chuyện để bắt đầu</p>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Right Sidebar (Contact/Group Info) */}\n      <div className={`sidebar right-sidebar ${selectedContact ? 'active' : ''}`}> {/* Toggle visibility */}\n        {selectedContact ? (\n          <>\n            <div className=\"contact-profile p-3 text-center border-bottom\">\n              <div className=\"avatar-circle large mx-auto mb-2\">\n                {selectedContact.avatar ? (\n                  <img src={selectedContact.avatar || \"/placeholder.svg\"} alt=\"Avatar\" className=\"avatar-img\" />\n                ) : (\n                  <span>{selectedContact.name?.charAt(0) || \"?\"}</span>\n                )}\n              </div>\n              <h5 className=\"profile-name mb-1\">{selectedContact.name}</h5>\n              {selectedContact.type === \"group\" && (\n                <div className=\"group-info\">\n                  <span className=\"badge bg-secondary\">{selectedContact.memberCount || 0} thành viên</span>\n                </div>\n              )}\n               {/* Add more profile actions/info here */}\n               {selectedContact.type === 'contact' && (\n                 <div className=\"mt-2\">\n                    <button className=\"btn btn-sm btn-outline-danger\" onClick={() => handleRemoveFriend(selectedContact.id)}>\n                        <i className=\"bi bi-person-dash me-1\"></i> Xóa bạn\n                    </button>\n                 </div>\n               )}\n                {selectedContact.type === 'group' && (\n                 <div className=\"mt-2\">\n                    <button className=\"btn btn-sm btn-outline-primary\" onClick={() => handleGroupInfo(selectedContact)}>\n                        <i className=\"bi bi-info-circle me-1\"></i> Thông tin nhóm\n                    </button>\n                 </div>\n               )}\n            </div>\n\n            {/* <div className=\"profile-actions p-2 border-bottom\">\n              <div className=\"action-item d-flex align-items-center p-2\">\n                <div className=\"action-icon me-2\"><i className=\"bi bi-bell\"></i></div>\n                <div className=\"action-text\">Tắt thông báo</div>\n              </div>\n               <div className=\"action-item d-flex align-items-center p-2\">\n                 <div className=\"action-icon me-2\"><i className=\"bi bi-pin-angle\"></i></div>\n                 <div className=\"action-text\">Ghim hội thoại</div>\n               </div>\n            </div> */}\n\n            <div className=\"additional-info p-2\">\n              <div className=\"info-section\">\n                <div className=\"media-tabs nav nav-tabs nav-fill mb-2\">\n                   <button className={`nav-link ${showMedia ? \"active\" : \"\"}`} onClick={toggleMediaView}>\n                     <i className=\"bi bi-images me-1\"></i> Ảnh/Video ({mediaFiles.length})\n                   </button>\n                   <button className={`nav-link ${showFiles ? \"active\" : \"\"}`} onClick={toggleFilesView}>\n                     <i className=\"bi bi-file-earmark me-1\"></i> File ({documents.length})\n                   </button>\n                </div>\n\n                {/* Files List */}\n                {showFiles && (\n                  <div className=\"files-list overflow-auto\" style={{maxHeight: 'calc(100vh - 300px)'}}> {/* Adjust maxHeight */}\n                    {documents.length > 0 ? (\n                      documents.map((file) => (\n                        <div key={file.id} className=\"file-item d-flex align-items-center p-2 border-bottom\">\n                          <div className=\"file-icon me-2\">\n                            <i className={`bi bi-file-earmark${file.type === \"pdf\" ? \"-pdf text-danger\" : file.type === \"docx\" ? \"-word text-primary\" : \"\"} fs-4`}></i>\n                          </div>\n                          <div className=\"file-info overflow-hidden\">\n                            <div className=\"file-name text-truncate small fw-bold\">{file.name}</div>\n                            <div className=\"file-meta small text-muted\">\n                              {file.date}\n                              {file.size > 0 && <span className=\"file-size\"> · {(file.size / (1024 * 1024)).toFixed(2)}MB</span>}\n                            </div>\n                          </div>\n                           <a href={file.url} download={file.name} className=\"ms-auto btn btn-sm btn-light\" title=\"Tải xuống\">\n                               <i className=\"bi bi-download\"></i>\n                           </a>\n                        </div>\n                      ))\n                    ) : (\n                      <div className=\"no-content-message text-center text-muted p-3\">Chưa có file nào.</div>\n                    )}\n                  </div>\n                )}\n\n                {/* Media Grid */}\n                {showMedia && (\n                  <div className=\"media-grid overflow-auto\" style={{maxHeight: 'calc(100vh - 300px)'}}> {/* Adjust maxHeight */}\n                    {mediaFiles.length > 0 ? (\n                      mediaFiles.map((file) => (\n                        <div key={file.id} className=\"media-item position-relative\">\n                          {file.type === \"image\" ? (\n                            <img src={file.url || \"/placeholder.svg\"} alt={file.name} className=\"media-thumbnail\" />\n                          ) : (\n                            <div className=\"video-thumbnail\">\n                              <video src={file.url} className=\"media-thumbnail\" preload=\"metadata\"></video> {/* Preload metadata */}\n                              <div className=\"play-icon\"><i className=\"bi bi-play-fill\"></i></div>\n                              {file.duration && <div className=\"video-duration\">{Math.round(file.duration)}s</div>} {/* Round duration */}\n                            </div>\n                          )}\n                           {/* Add overlay for info or download? */}\n                        </div>\n                      ))\n                    ) : (\n                      <div className=\"no-content-message text-center text-muted p-3\">Chưa có ảnh/video nào.</div>\n                    )}\n                  </div>\n                )}\n              </div>\n            </div>\n          </>\n        ) : (\n             <div className=\"no-content-message text-center text-muted p-5\">\n                <p>Chọn một liên hệ hoặc nhóm để xem thông tin.</p>\n             </div>\n        )}\n      </div>\n\n      {/* Modal Profile */}\n      <Modal show={showProfileModal} onHide={handleCloseProfileModal} centered>\n        <Modal.Header closeButton>\n          <Modal.Title>Cập nhật hồ sơ</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"text-center mb-3\">\n             <div className=\"avatar-circle large mx-auto mb-2 position-relative\">\n                {profileData.avatarUrl ? (\n                  <img src={profileData.avatarUrl} alt=\"Avatar\" className=\"avatar-img\" />\n                ) : (\n                  <span>{profileData.fullName?.charAt(0).toUpperCase() || user.name?.charAt(0).toUpperCase() || \"U\"}</span>\n                )}\n                 <label className=\"avatar-edit-button\">\n                    <i className=\"bi bi-pencil-fill\"></i>\n                    <input type=\"file\" accept=\"image/*\" style={{ display: \"none\" }} onChange={handleAvatarChangeEvent} />\n                 </label>\n              </div>\n          </div>\n          <div className=\"mb-3\">\n            <label className=\"form-label\">Họ và tên</label>\n            <input\n              type=\"text\"\n              value={profileData.fullName || \"\"}\n              onChange={(e) => setProfileData({ ...profileData, fullName: e.target.value })}\n              placeholder=\"Nhập họ và tên\"\n              className=\"form-control\"\n            />\n          </div>\n          <div className=\"mb-3\">\n             <label className=\"form-label\">Ngày sinh</label>\n            <input\n              type=\"date\"\n              value={profileData.birthdate || \"\"}\n              onChange={(e) => setProfileData({ ...profileData, birthdate: e.target.value })}\n              className=\"form-control\"\n            />\n          </div>\n          <div className=\"mb-3\">\n             <label className=\"form-label\">Giới tính</label>\n            <select\n              value={profileData.gender || \"\"}\n              onChange={(e) => setProfileData({ ...profileData, gender: e.target.value })}\n              className=\"form-select\"\n            >\n              <option value=\"\">Chọn giới tính</option>\n              <option value=\"Nam\">Nam</option>\n              <option value=\"Nữ\">Nữ</option>\n              <option value=\"Khác\">Khác</option>\n              <option value=\"Không chia sẻ\">Không muốn nói</option>\n            </select>\n          </div>\n        </Modal.Body>\n        <Modal.Footer>\n          <button type=\"button\" className=\"btn btn-secondary\" onClick={handleCloseProfileModal}>\n            Hủy\n          </button>\n          <button type=\"button\" className=\"btn btn-primary\" onClick={handleUpdateProfile} disabled={loading}>\n            {loading ? <Spinner as=\"span\" animation=\"border\" size=\"sm\" role=\"status\" aria-hidden=\"true\" /> : \"Lưu thay đổi\"}\n          </button>\n        </Modal.Footer>\n      </Modal>\n\n      {/* Modal Add Friend */}\n      <Modal show={showAddFriendModal} onHide={handleCloseAddFriendModal} centered>\n        <Modal.Header closeButton>\n          <Modal.Title>Thêm bạn mới</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <p>Nhập địa chỉ email của người bạn muốn kết bạn:</p>\n          <div className=\"mb-3\">\n            <input\n              type=\"email\"\n              value={friendEmail}\n              onChange={(e) => setFriendEmail(e.target.value)}\n              placeholder=\"example@email.com\"\n              className=\"form-control\"\n              autoFocus\n            />\n          </div>\n        </Modal.Body>\n         <Modal.Footer>\n           <button type=\"button\" className=\"btn btn-secondary\" onClick={handleCloseAddFriendModal}>\n             Hủy\n           </button>\n           <button type=\"button\" className=\"btn btn-primary\" onClick={handleSubmitAddFriend} disabled={loading || !friendEmail.trim()}>\n             {loading ? <Spinner as=\"span\" animation=\"border\" size=\"sm\" role=\"status\" aria-hidden=\"true\" /> : \"Gửi lời mời\"}\n           </button>\n         </Modal.Footer>\n      </Modal>\n\n      {/* Modal Create Group */}\n      {showCreateGroupModal && ( // Conditionally render modal to ensure fresh state if needed\n          <CreateGroupModal\n            show={showCreateGroupModal}\n            onHide={() => setShowCreateGroupModal(false)}\n            onGroupCreated={handleGroupCreated}\n            token={token} // Pass token from hook\n            userId={user.id} // Pass userId from hook\n          />\n      )}\n\n      {/* Modal Group Info */}\n      {showGroupInfoModal && selectedGroup && ( // Conditionally render and ensure group data exists\n          <GroupInfoModal\n            show={showGroupInfoModal}\n            onHide={() => setShowGroupInfoModal(false)}\n            group={selectedGroup} // Pass selected group from hook state\n            token={token} // Pass token from hook\n            userId={user.id} // Pass userId from hook\n            onGroupUpdated={handleGroupUpdated}\n            onLeaveGroup={handleLeaveGroup}\n            onDeleteGroup={handleDeleteGroup}\n          />\n       )}\n\n    </div>\n  )\n}\n\nexport default Home\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}