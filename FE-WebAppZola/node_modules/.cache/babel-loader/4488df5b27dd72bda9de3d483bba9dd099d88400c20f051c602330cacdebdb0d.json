{"ast":null,"code":"// src/pages/Home.jsx\n\"use client\";\n\n// Keep this if using Next.js App Router\nvar _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\Nhom12_Zalo_Web\\\\FE-WebAppZola\\\\src\\\\pages\\\\Home.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\"; // Import React and useState\nimport { Modal, Spinner, Toast, ToastContainer } from \"react-bootstrap\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"bootstrap-icons/font/bootstrap-icons.css\";\nimport \"../styles/home.css\"; // Your specific styles\nimport useChat from \"../hooks/useChat\"; // Import the custom hook\nimport CreateGroupModal from \"../components/CreateGroupModal\";\nimport GroupInfoModal from \"../components/GroupInfoModal\";\nimport { API, apiClient } from \"../config/api\";\n\n// --- Presentational Component ---\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  var _user$name, _selectedContact$name, _selectedContact$name2, _profileData$fullName, _user$name2;\n  const {\n    // State\n    user,\n    contacts,\n    // Use full list for counts or specific checks if needed\n    groups,\n    // Use full list for counts or specific checks if needed\n    selectedContact,\n    messages,\n    newMessage,\n    isConnected,\n    showEmojiPicker,\n    searchQuery,\n    mediaFiles,\n    documents,\n    showMedia,\n    showFiles,\n    activeTab,\n    showProfileModal,\n    profileData,\n    loading,\n    // Use loading state for spinners etc.\n    showAddFriendModal,\n    friendEmail,\n    error,\n    showToast,\n    friendRequests,\n    showCreateGroupModal,\n    showGroupInfoModal,\n    selectedGroup,\n    // Pass selectedGroup to GroupInfoModal\n\n    // Setters\n    setNewMessage,\n    setShowEmojiPicker,\n    setSearchQuery,\n    setShowProfileModal,\n    setProfileData,\n    setShowAddFriendModal,\n    setFriendEmail,\n    setShowToast,\n    setShowCreateGroupModal,\n    setShowGroupInfoModal,\n    // Refs\n    messagesEndRef,\n    fileInputRef,\n    imageInputRef,\n    videoInputRef,\n    // Handlers\n    handleContactSelect,\n    handleSendMessage,\n    handleSendFile,\n    // Use the consolidated handler\n    handleEmojiSelect,\n    handleMessageAction,\n    toggleMediaView,\n    toggleFilesView,\n    handleTabChange,\n    handleProfileClick,\n    handleCloseProfileModal,\n    handleAvatarChange,\n    // Pass the file directly\n    handleUpdateProfile,\n    handleAddFriend,\n    handleCloseAddFriendModal,\n    handleSubmitAddFriend,\n    handleRespondToFriendRequest,\n    handleRemoveFriend,\n    handleCreateGroup,\n    handleGroupCreated,\n    handleGroupInfo,\n    handleGroupUpdated,\n    handleLeaveGroup,\n    handleDeleteGroup,\n    // showError, // Not called directly from JSX\n\n    // Derived Data\n    filteredContacts,\n    filteredGroups,\n    emojis,\n    token // Get token from hook\n  } = useChat();\n  const [showChangePassword, setShowChangePassword] = useState(false);\n  const [oldPassword, setOldPassword] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [passwordError, setPasswordError] = useState(\"\");\n  const handleSecurityClick = () => {\n    setShowChangePassword(true);\n    setPasswordError(\"\");\n    setOldPassword(\"\");\n    setNewPassword(\"\");\n    setConfirmPassword(\"\");\n  };\n  const handleChangePassword = async e => {\n    e.preventDefault();\n    setPasswordError(\"\");\n    if (!oldPassword || !newPassword || !confirmPassword) {\n      setPasswordError(\"Vui lòng nhập đầy đủ thông tin.\");\n      return;\n    }\n    if (newPassword === oldPassword) {\n      setPasswordError(\"Vui lòng nhập mật khẩu khác với mật khẩu cũ.\");\n      return;\n    }\n    if (newPassword !== confirmPassword) {\n      setPasswordError(\"Mật khẩu mới và xác nhận không khớp.\");\n      return;\n    }\n    try {\n      await apiClient.put(\"http://localhost:5000/api/users/update-password\", {\n        currentPassword: oldPassword,\n        newPassword: newPassword\n      });\n      alert(\"Đổi mật khẩu thành công!\");\n      setShowChangePassword(false);\n    } catch (error) {\n      setPasswordError(error.message || \"Đổi mật khẩu thất bại.\");\n    }\n  };\n\n  // Specific handlers for file inputs that call the main handler\n  const handleFileSelectEvent = e => {\n    const file = e.target.files[0];\n    if (file) {\n      handleSendFile(file, \"file\");\n    }\n    if (fileInputRef.current) fileInputRef.current.value = null; // Reset input\n  };\n  const handleImageSelectEvent = e => {\n    const file = e.target.files[0];\n    if (file) {\n      handleSendFile(file, \"image\");\n    }\n    if (imageInputRef.current) imageInputRef.current.value = null; // Reset input\n  };\n  const handleVideoSelectEvent = e => {\n    const file = e.target.files[0];\n    if (file) {\n      handleSendFile(file, \"video\");\n    }\n    if (videoInputRef.current) videoInputRef.current.value = null; // Reset input\n  };\n  const handleAvatarChangeEvent = e => {\n    const file = e.target.files[0];\n    if (file) {\n      handleAvatarChange(file); // Pass file to hook handler\n    }\n    // No need to reset avatar input usually\n    if (e.target) e.target.value = null; // Reset file input\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-app\",\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {\n      position: \"top-end\",\n      className: \"p-3\",\n      style: {\n        zIndex: 1056\n      },\n      children: [\" \", /*#__PURE__*/_jsxDEV(Toast, {\n        onClose: () => setShowToast(false),\n        show: showToast,\n        delay: 3000,\n        autohide: true,\n        bg: error !== null && error !== void 0 && error.includes(\"thành công\") ? 'success' : 'danger',\n        children: [\" \", /*#__PURE__*/_jsxDEV(Toast.Header, {\n          closeButton: true,\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            className: \"me-auto\",\n            children: error !== null && error !== void 0 && error.includes(\"thành công\") ? 'Thành công' : 'Thông báo'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Toast.Body, {\n          className: error !== null && error !== void 0 && error.includes(\"thành công\") ? 'text-white' : '',\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar left-sidebar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-avatar\",\n        onClick: handleProfileClick,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"avatar-circle pointer\",\n          children: user.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: user.avatar || \"/placeholder.svg\",\n            alt: \"Avatar\",\n            className: \"avatar-img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            children: ((_user$name = user.name) === null || _user$name === void 0 ? void 0 : _user$name.charAt(0).toUpperCase()) || \"U\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 15\n          }, this) // Add fallback\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar-taskbar\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `taskbar-btn ${activeTab === \"chat\" ? \"active\" : \"\"}`,\n          onClick: () => handleTabChange(\"chat\"),\n          title: \"Tin nh\\u1EAFn\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `taskbar-btn ${activeTab === \"contacts\" ? \"active\" : \"\"}`,\n          onClick: () => handleTabChange(\"contacts\"),\n          style: {\n            position: \"relative\"\n          },\n          title: \"Danh b\\u1EA1\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-people\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), friendRequests.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"request-badge\",\n            children: friendRequests.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 43\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"setting-btn\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `taskbar-btn ${activeTab === \"settings\" ? \"active\" : \"\"}`,\n          onClick: () => handleTabChange(\"settings\"),\n          title: \"C\\xE0i \\u0111\\u1EB7t\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-gear\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-list-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-input-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"T\\xECm ki\\u1EBFm\",\n            value: searchQuery,\n            onChange: e => setSearchQuery(e.target.value),\n            className: \"search-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"user-button\",\n            onClick: handleAddFriend,\n            title: \"Th\\xEAm b\\u1EA1n\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-person-plus\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"user-button\",\n            onClick: handleCreateGroup,\n            title: \"T\\u1EA1o nh\\xF3m\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-people-fill\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this), activeTab === \"chat\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contact-list\",\n        children: loading && contacts.length === 0 && groups.length === 0 ?\n        /*#__PURE__*/\n        // Show spinner only on initial load\n        _jsxDEV(\"div\", {\n          className: \"d-flex justify-content-center p-3\",\n          children: /*#__PURE__*/_jsxDEV(Spinner, {\n            animation: \"border\",\n            variant: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 18\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [filteredGroups.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"groups-section mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"section-title\",\n              children: [\"Nh\\xF3m (\", filteredGroups.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 21\n            }, this), filteredGroups.map(group => {\n              var _group$name;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `contact-item ${(selectedContact === null || selectedContact === void 0 ? void 0 : selectedContact.id) === group.groupId && (selectedContact === null || selectedContact === void 0 ? void 0 : selectedContact.type) === \"group\" ? \"active\" : \"\"}`,\n                onClick: () => handleContactSelect(group),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-avatar\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"avatar-circle\",\n                    children: group.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: group.avatar || \"/placeholder.svg\",\n                      alt: \"Avatar\",\n                      className: \"avatar-img\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 267,\n                      columnNumber: 31\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: ((_group$name = group.name) === null || _group$name === void 0 ? void 0 : _group$name.charAt(0)) || \"G\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 269,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-details\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"contact-name\",\n                    children: group.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 274,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"contact-status small text-muted\",\n                    children: [group.memberCount || 0, \" th\\xE0nh vi\\xEAn\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 275,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-actions ms-auto\",\n                  onClick: e => e.stopPropagation(),\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-sm btn-light\",\n                    onClick: () => handleGroupInfo(group),\n                    title: \"Th\\xF4ng tin nh\\xF3m\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi bi-info-circle\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 284,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 26\n                }, this)]\n              }, group.groupId, true, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 23\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 19\n          }, this), filteredContacts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"contacts-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"section-title\",\n              children: [\"B\\u1EA1n b\\xE8 (\", filteredContacts.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 21\n            }, this), filteredContacts.map(contact => {\n              var _contact$name;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `contact-item ${(selectedContact === null || selectedContact === void 0 ? void 0 : selectedContact.id) === contact.id && (selectedContact === null || selectedContact === void 0 ? void 0 : selectedContact.type) === \"contact\" ? \"active\" : \"\"}`,\n                onClick: () => handleContactSelect(contact),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-avatar\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"avatar-circle\",\n                    children: contact.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: contact.avatar || \"/placeholder.svg\",\n                      alt: \"Avatar\",\n                      className: \"avatar-img\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 307,\n                      columnNumber: 31\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: ((_contact$name = contact.name) === null || _contact$name === void 0 ? void 0 : _contact$name.charAt(0)) || \"C\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 309,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 305,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-details\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"contact-name\",\n                    children: contact.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 314,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"contact-last-message small text-muted\",\n                    children: contact.lastMessage ? /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-truncate\",\n                      style: {\n                        maxWidth: '150px',\n                        display: 'inline-block'\n                      },\n                      children: contact.lastMessage.type === 'text' ? contact.lastMessage.content : contact.lastMessage.type === 'image' || contact.lastMessage.type === 'imageGroup' ? 'Đã gửi ảnh' : contact.lastMessage.type === 'video' ? 'Đã gửi video' : contact.lastMessage.type === 'file' ? `Đã gửi file: ${contact.lastMessage.name || ''}` : contact.lastMessage.type === 'emoji' ? contact.lastMessage.content // Show emoji directly\n                      : 'Tệp đính kèm'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 318,\n                      columnNumber: 31\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: contact.status\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 332,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-meta ms-auto\",\n                  children: contact.unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"unread-badge\",\n                    children: contact.unreadCount\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 339,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-actions ms-auto\",\n                  onClick: e => e.stopPropagation(),\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-sm btn-light text-danger\",\n                    onClick: () => handleRemoveFriend(contact.id),\n                    title: \"X\\xF3a b\\u1EA1n\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi bi-person-dash\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 349,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 344,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 26\n                }, this)]\n              }, contact.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 23\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 19\n          }, this), !loading && filteredGroups.length === 0 && filteredContacts.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"no-content-message p-3 text-center text-muted\",\n            children: \"Kh\\xF4ng t\\xECm th\\u1EA5y cu\\u1ED9c tr\\xF2 chuy\\u1EC7n n\\xE0o.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 11\n      }, this), activeTab === \"contacts\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contacts-panel\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-title\",\n          children: \"Danh b\\u1EA1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 13\n        }, this), friendRequests.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"friend-requests-section mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sub-section-title\",\n            children: [\"L\\u1EDDi m\\u1EDDi k\\u1EBFt b\\u1EA1n (\", friendRequests.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 17\n          }, this), loading && friendRequests.length === 0 ?\n          /*#__PURE__*/\n          // Spinner only if loading and no requests yet\n          _jsxDEV(\"div\", {\n            className: \"d-flex justify-content-center p-3\",\n            children: /*#__PURE__*/_jsxDEV(Spinner, {\n              animation: \"border\",\n              variant: \"primary\",\n              size: \"sm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 22\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 20\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"friend-requests-list\",\n            children: friendRequests.map(request => {\n              var _request$sender, _request$sender2, _request$sender3, _request$sender4;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"friend-request-item d-flex justify-content-between align-items-center p-2 border-bottom\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex align-items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"me-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"avatar-circle small\",\n                      children: (_request$sender = request.sender) !== null && _request$sender !== void 0 && _request$sender.avatarUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: request.sender.avatarUrl || \"/placeholder.svg\",\n                        alt: \"Avatar\",\n                        className: \"avatar-img\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 392,\n                        columnNumber: 33\n                      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: (_request$sender2 = request.sender) !== null && _request$sender2 !== void 0 && _request$sender2.fullName ? request.sender.fullName.charAt(0) : \"?\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 398,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 390,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 389,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"fw-bold small\",\n                      children: ((_request$sender3 = request.sender) === null || _request$sender3 === void 0 ? void 0 : _request$sender3.fullName) || ((_request$sender4 = request.sender) === null || _request$sender4 === void 0 ? void 0 : _request$sender4.email)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 403,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-muted small fst-italic\",\n                      children: request.message || \"Muốn kết bạn\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 404,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 402,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-sm btn-success me-1\",\n                    onClick: () => handleRespondToFriendRequest(request.requestId, \"accept\"),\n                    disabled: loading // Disable while processing\n                    ,\n                    title: \"Ch\\u1EA5p nh\\u1EADn\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi bi-check-lg\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 414,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 408,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-sm btn-outline-danger\",\n                    onClick: () => handleRespondToFriendRequest(request.requestId, \"reject\"),\n                    disabled: loading // Disable while processing\n                    ,\n                    title: \"T\\u1EEB ch\\u1ED1i\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi bi-x-lg\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 422,\n                      columnNumber: 30\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 416,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 25\n                }, this)]\n              }, request.requestId, true, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 23\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"contacts-list-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sub-section-title\",\n            children: [\"B\\u1EA1n b\\xE8 (\", contacts.filter(c => c.type === 'contact').length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"contact-list\",\n            children: loading && contacts.filter(c => c.type === 'contact').length === 0 ?\n            /*#__PURE__*/\n            // Spinner only if loading and no contacts yet\n            _jsxDEV(\"div\", {\n              className: \"d-flex justify-content-center p-3\",\n              children: /*#__PURE__*/_jsxDEV(Spinner, {\n                animation: \"border\",\n                variant: \"primary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 22\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 20\n            }, this) : contacts.filter(c => c.type === 'contact').length > 0 ? contacts // Map over the full contacts list, filtering inline\n            .filter(c => c.type === \"contact\").filter(contact => contact.name.toLowerCase().includes(searchQuery.toLowerCase())) // Apply search filter here\n            .map(contact => {\n              var _contact$name2;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `contact-item ${(selectedContact === null || selectedContact === void 0 ? void 0 : selectedContact.id) === contact.id && (selectedContact === null || selectedContact === void 0 ? void 0 : selectedContact.type) === 'contact' ? 'active' : ''}`,\n                onClick: () => {\n                  handleContactSelect(contact);\n                  handleTabChange('chat');\n                } // Switch to chat tab on select\n                ,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-avatar\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"avatar-circle\",\n                    children: contact.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: contact.avatar || \"/placeholder.svg\",\n                      alt: \"Avatar\",\n                      className: \"avatar-img\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 453,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: ((_contact$name2 = contact.name) === null || _contact$name2 === void 0 ? void 0 : _contact$name2.charAt(0)) || \"C\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 455,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 451,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 450,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-details\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"contact-name\",\n                    children: contact.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 460,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 459,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-actions ms-auto\",\n                  onClick: e => e.stopPropagation(),\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-sm btn-light text-danger\",\n                    onClick: () => handleRemoveFriend(contact.id),\n                    title: \"X\\xF3a b\\u1EA1n\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi bi-person-dash\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 469,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 464,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 463,\n                  columnNumber: 24\n                }, this)]\n              }, contact.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 21\n              }, this);\n            }) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"no-content-message p-3 text-center text-muted\",\n              children: \"B\\u1EA1n ch\\u01B0a c\\xF3 b\\u1EA1n b\\xE8 n\\xE0o.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 11\n      }, this), activeTab === \"settings\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"settings-section p-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-title\",\n          children: \"C\\xE0i \\u0111\\u1EB7t\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"settings-list\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-item p-2 border-bottom d-flex align-items-center\",\n            style: {\n              cursor: 'pointer'\n            },\n            onClick: handleProfileClick,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-icon me-2\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-person-circle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 488,\n                columnNumber: 52\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-details\",\n              children: \"H\\u1ED3 s\\u01A1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 487,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-item p-2 border-bottom d-flex align-items-center\",\n            style: {\n              cursor: 'pointer'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-icon me-2\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-bell\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 53\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-details\",\n              children: \"Th\\xF4ng b\\xE1o\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 18\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-item p-2 border-bottom d-flex align-items-center\",\n            style: {\n              cursor: 'pointer'\n            },\n            onClick: handleSecurityClick,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-icon me-2\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-shield-lock\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 53\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-details\",\n              children: \"B\\u1EA3o m\\u1EADt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 18\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-item p-2 text-danger d-flex align-items-center\",\n            style: {\n              cursor: 'pointer'\n            },\n            onClick: () => {\n              if (window.confirm('Bạn có chắc muốn đăng xuất?')) {\n                localStorage.clear();\n                window.location.href = '/login';\n              }\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-icon me-2\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-box-arrow-right\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 53\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setting-details\",\n              children: \"\\u0110\\u0103ng xu\\u1EA5t\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 18\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 16\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 13\n        }, this), showChangePassword && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"change-password-form mt-4 p-3 border rounded bg-light\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"\\u0110\\u1ED5i m\\u1EADt kh\\u1EA9u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleChangePassword,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"M\\u1EADt kh\\u1EA9u c\\u0169\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                className: \"form-control\",\n                value: oldPassword,\n                onChange: e => setOldPassword(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 511,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"M\\u1EADt kh\\u1EA9u m\\u1EDBi\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 514,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                className: \"form-control\",\n                value: newPassword,\n                onChange: e => setNewPassword(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"X\\xE1c nh\\u1EADn m\\u1EADt kh\\u1EA9u m\\u1EDBi\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                className: \"form-control\",\n                value: confirmPassword,\n                onChange: e => setConfirmPassword(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 519,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 19\n            }, this), passwordError && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-danger mb-2\",\n              children: passwordError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary\",\n                children: \"\\u0110\\u1ED5i m\\u1EADt kh\\u1EA9u\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-secondary\",\n                onClick: () => setShowChangePassword(false),\n                children: \"H\\u1EE7y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 524,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 522,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 508,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-chat\",\n      children: selectedContact ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-contact-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"contact-avatar me-2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"avatar-circle\",\n                children: selectedContact.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: selectedContact.avatar || \"/placeholder.svg\",\n                  alt: \"Avatar\",\n                  className: \"avatar-img\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 542,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: ((_selectedContact$name = selectedContact.name) === null || _selectedContact$name === void 0 ? void 0 : _selectedContact$name.charAt(0)) || \"?\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 544,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 540,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"contact-name\",\n                children: selectedContact.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 549,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"active-status small text-muted\",\n                children: [selectedContact.type === \"group\" ? `${selectedContact.memberCount || 0} thành viên` : selectedContact.status || \"Online\", \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"action-btn\",\n              title: \"G\\u1ECDi tho\\u1EA1i (ch\\u01B0a c\\xF3)\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-telephone\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 559,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"action-btn\",\n              title: \"G\\u1ECDi video (ch\\u01B0a c\\xF3)\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-camera-video\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 562,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 561,\n              columnNumber: 17\n            }, this), selectedContact.type === \"group\" && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"action-btn\",\n              onClick: () => handleGroupInfo(selectedContact),\n              title: \"Th\\xF4ng tin nh\\xF3m\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-info-circle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 570,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 565,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"messages-container\",\n          children: [!isConnected && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"connection-status text-center text-warning p-1 small\",\n            children: \"\\u0110ang k\\u1EBFt n\\u1ED1i l\\u1EA1i...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 578,\n            columnNumber: 32\n          }, this), loading && messages.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-center p-5\",\n            children: /*#__PURE__*/_jsxDEV(Spinner, {\n              animation: \"border\",\n              variant: \"primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 579,\n              columnNumber: 103\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 579,\n            columnNumber: 52\n          }, this), \" \", messages.map(message => {\n            var _message$sender, _message$sender2, _message$fileType, _message$fileType2;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              // Use message ID as key\n              className: `message ${message.isSystemMessage ? \"system\" : message.senderId === user.id ? \"sent\" : \"received\"}`,\n              children: [message.senderId !== user.id && !message.isSystemMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-avatar\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"avatar-circle small\",\n                  children: (selectedContact === null || selectedContact === void 0 ? void 0 : selectedContact.type) === 'contact' && selectedContact !== null && selectedContact !== void 0 && selectedContact.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: selectedContact.avatar || \"/placeholder.svg\",\n                    alt: \"Avatar\",\n                    className: \"avatar-img\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 594,\n                    columnNumber: 27\n                  }, this) : (selectedContact === null || selectedContact === void 0 ? void 0 : selectedContact.type) === 'group' ?\n                  /*#__PURE__*/\n                  // Find member avatar in group (complex, maybe skip for now or show initial)\n                  _jsxDEV(\"span\", {\n                    children: ((_message$sender = message.sender) === null || _message$sender === void 0 ? void 0 : _message$sender.charAt(0)) || '?'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 597,\n                    columnNumber: 28\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: ((_message$sender2 = message.sender) === null || _message$sender2 === void 0 ? void 0 : _message$sender2.charAt(0)) || \"?\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 599,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 591,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 590,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `message-content-wrapper ${message.senderId === user.id ? \"align-items-end\" : \"align-items-start\"}`,\n                children: [(selectedContact === null || selectedContact === void 0 ? void 0 : selectedContact.type) === 'group' && message.senderId !== user.id && !message.isSystemMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"message-sender-name small text-muted mb-1\",\n                  children: message.sender\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 607,\n                  columnNumber: 25\n                }, this), message.isSystemMessage ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"system-message-bubble\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"system-message-content small\",\n                    children: message.content\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 612,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 611,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `message-bubble ${message.isSending ? 'sending' : ''} ${message.isError ? 'error' : ''}`,\n                    children: [message.isUnsent ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"unsent-content fst-italic text-muted\",\n                      children: message.content\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 622,\n                      columnNumber: 29\n                    }, this) : message.isFile ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"file-content d-flex align-items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: `bi bi-file-earmark${(_message$fileType = message.fileType) !== null && _message$fileType !== void 0 && _message$fileType.includes('pdf') ? '-pdf' : (_message$fileType2 = message.fileType) !== null && _message$fileType2 !== void 0 && _message$fileType2.includes('word') ? '-word' : ''} fs-4 me-2`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 625,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: /*#__PURE__*/_jsxDEV(\"a\", {\n                          href: message.fileUrl,\n                          download: message.fileName,\n                          className: \"text-break\",\n                          children: message.fileName\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 627,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 626,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 624,\n                      columnNumber: 29\n                    }, this) : message.isImage ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"image-content\",\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: message.content || \"/placeholder.svg\",\n                        alt: \"Sent content\",\n                        style: {\n                          maxWidth: '250px',\n                          maxHeight: '300px',\n                          borderRadius: '8px'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 635,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 634,\n                      columnNumber: 29\n                    }, this) : message.isVideo ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"video-content position-relative\",\n                      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n                        src: message.content,\n                        controls: true,\n                        style: {\n                          maxWidth: '250px',\n                          maxHeight: '300px',\n                          borderRadius: '8px'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 639,\n                        columnNumber: 31\n                      }, this), message.duration && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"video-duration-overlay\",\n                        children: [message.duration, \"s\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 640,\n                        columnNumber: 52\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 638,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-content\",\n                      style: {\n                        whiteSpace: 'pre-wrap',\n                        wordBreak: 'break-word'\n                      },\n                      children: message.content\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 643,\n                      columnNumber: 29\n                    }, this), message.isSending && /*#__PURE__*/_jsxDEV(Spinner, {\n                      animation: \"border\",\n                      size: \"sm\",\n                      className: \"ms-2 sending-spinner\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 645,\n                      columnNumber: 50\n                    }, this), message.isError && /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi bi-exclamation-circle-fill text-danger ms-2\",\n                      title: \"G\\u1EEDi l\\u1ED7i\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 646,\n                      columnNumber: 48\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 620,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"message-time small text-muted mt-1\",\n                    children: message.time\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 648,\n                    columnNumber: 25\n                  }, this), message.senderId === user.id && !message.isUnsent && !message.isSending && !message.isSystemMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"message-actions\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn btn-sm btn-light\",\n                      onClick: () => handleMessageAction(message.id, \"delete\"),\n                      title: \"X\\xF3a tin nh\\u1EAFn\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"bi bi-trash\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 658,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 653,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 652,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 604,\n                columnNumber: 19\n              }, this)]\n            }, message.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 582,\n              columnNumber: 17\n            }, this);\n          }), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: messagesEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 668,\n            columnNumber: 15\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-input-area\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-tools\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"tool-btn\",\n              onClick: () => {\n                var _fileInputRef$current;\n                return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n              },\n              title: \"\\u0110\\xEDnh k\\xE8m file\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-paperclip\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 675,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 674,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              ref: fileInputRef,\n              style: {\n                display: \"none\"\n              },\n              onChange: handleFileSelectEvent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 677,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"tool-btn\",\n              onClick: () => {\n                var _imageInputRef$curren;\n                return (_imageInputRef$curren = imageInputRef.current) === null || _imageInputRef$curren === void 0 ? void 0 : _imageInputRef$curren.click();\n              },\n              title: \"G\\u1EEDi h\\xECnh \\u1EA3nh\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 680,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 679,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              ref: imageInputRef,\n              accept: \"image/*\",\n              style: {\n                display: \"none\"\n              },\n              onChange: handleImageSelectEvent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 682,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"tool-btn\",\n              onClick: () => {\n                var _videoInputRef$curren;\n                return (_videoInputRef$curren = videoInputRef.current) === null || _videoInputRef$curren === void 0 ? void 0 : _videoInputRef$curren.click();\n              },\n              title: \"G\\u1EEDi video\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-camera-video\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 685,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 684,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              ref: videoInputRef,\n              accept: \"video/*\",\n              style: {\n                display: \"none\"\n              },\n              onChange: handleVideoSelectEvent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 687,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"tool-btn\",\n              onClick: () => setShowEmojiPicker(!showEmojiPicker),\n              title: \"Bi\\u1EC3u c\\u1EA3m\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-emoji-smile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 690,\n                columnNumber: 20\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 689,\n              columnNumber: 18\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 673,\n            columnNumber: 15\n          }, this), showEmojiPicker && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"emoji-picker\",\n            children: emojis.map((emoji, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"emoji-btn\",\n              onClick: () => handleEmojiSelect(emoji),\n              children: emoji\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 702,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 700,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSendMessage,\n            className: \"message-form\",\n            children: [console.log('Input state:', {\n              isConnected,\n              loading,\n              selectedContact: !!selectedContact\n            }), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Nh\\u1EADp tin nh\\u1EAFn...\",\n              value: newMessage,\n              onChange: e => setNewMessage(e.target.value),\n              disabled: !isConnected || loading // Disable while loading messages too?\n              ,\n              className: \"message-input\",\n              onKeyDown: e => {\n                if (e.key === 'Enter' && !e.shiftKey) handleSendMessage(e);\n              } // Send on Enter\n              ,\n              style: {\n                pointerEvents: !isConnected || loading ? 'none' : 'auto'\n              } // Add visual feedback\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 712,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"send-btn\",\n              disabled: !isConnected || !newMessage.trim() || loading,\n              title: \"G\\u1EEDi\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-send\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 728,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 722,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 710,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 671,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-chat-selected\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center p-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-chat-dots display-1 text-muted\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 736,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-3\",\n            children: \"Ch\\u1ECDn m\\u1ED9t cu\\u1ED9c tr\\xF2 chuy\\u1EC7n \\u0111\\u1EC3 b\\u1EAFt \\u0111\\u1EA7u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 737,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 735,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 734,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 534,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `sidebar right-sidebar ${selectedContact ? 'active' : ''}`,\n      children: [\" \", selectedContact ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"contact-profile p-3 text-center border-bottom\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"avatar-circle large mx-auto mb-2\",\n            children: selectedContact.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: selectedContact.avatar || \"/placeholder.svg\",\n              alt: \"Avatar\",\n              className: \"avatar-img\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 750,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              children: ((_selectedContact$name2 = selectedContact.name) === null || _selectedContact$name2 === void 0 ? void 0 : _selectedContact$name2.charAt(0)) || \"?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 752,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 748,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"profile-name mb-1\",\n            children: selectedContact.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 755,\n            columnNumber: 15\n          }, this), selectedContact.type === \"group\" && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"group-info\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"badge bg-secondary\",\n              children: [selectedContact.memberCount || 0, \" th\\xE0nh vi\\xEAn\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 758,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 757,\n            columnNumber: 17\n          }, this), selectedContact.type === 'contact' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-sm btn-outline-danger\",\n              onClick: () => handleRemoveFriend(selectedContact.id),\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-person-dash me-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 765,\n                columnNumber: 25\n              }, this), \" X\\xF3a b\\u1EA1n\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 764,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 763,\n            columnNumber: 18\n          }, this), selectedContact.type === 'group' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-sm btn-outline-primary\",\n              onClick: () => handleGroupInfo(selectedContact),\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-info-circle me-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 772,\n                columnNumber: 25\n              }, this), \" Th\\xF4ng tin nh\\xF3m\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 771,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 770,\n            columnNumber: 18\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 747,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"additional-info p-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"media-tabs nav nav-tabs nav-fill mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: `nav-link ${showMedia ? \"active\" : \"\"}`,\n                onClick: toggleMediaView,\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"bi bi-images me-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 793,\n                  columnNumber: 22\n                }, this), \" \\u1EA2nh/Video (\", mediaFiles.length, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 792,\n                columnNumber: 20\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `nav-link ${showFiles ? \"active\" : \"\"}`,\n                onClick: toggleFilesView,\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"bi bi-file-earmark me-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 796,\n                  columnNumber: 22\n                }, this), \" File (\", documents.length, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 795,\n                columnNumber: 20\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 791,\n              columnNumber: 17\n            }, this), showFiles && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"files-list overflow-auto\",\n              style: {\n                maxHeight: 'calc(100vh - 300px)'\n              },\n              children: [\" \", documents.length > 0 ? documents.map(file => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-item d-flex align-items-center p-2 border-bottom\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"file-icon me-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: `bi bi-file-earmark${file.type === \"pdf\" ? \"-pdf text-danger\" : file.type === \"docx\" ? \"-word text-primary\" : \"\"} fs-4`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 807,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 806,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"file-info overflow-hidden\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"file-name text-truncate small fw-bold\",\n                    children: file.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 810,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"file-meta small text-muted\",\n                    children: [file.date, file.size > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"file-size\",\n                      children: [\" \\xB7 \", (file.size / (1024 * 1024)).toFixed(2), \"MB\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 813,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 811,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 809,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: file.url,\n                  download: file.name,\n                  className: \"ms-auto btn btn-sm btn-light\",\n                  title: \"T\\u1EA3i xu\\u1ED1ng\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"bi bi-download\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 817,\n                    columnNumber: 32\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 816,\n                  columnNumber: 28\n                }, this)]\n              }, file.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 805,\n                columnNumber: 25\n              }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"no-content-message text-center text-muted p-3\",\n                children: \"Ch\\u01B0a c\\xF3 file n\\xE0o.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 822,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 802,\n              columnNumber: 19\n            }, this), showMedia && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"media-grid overflow-auto\",\n              style: {\n                maxHeight: 'calc(100vh - 300px)'\n              },\n              children: [\" \", mediaFiles.length > 0 ? mediaFiles.map(file => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"media-item position-relative\",\n                children: file.type === \"image\" ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: file.url || \"/placeholder.svg\",\n                  alt: file.name,\n                  className: \"media-thumbnail\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 834,\n                  columnNumber: 29\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"video-thumbnail\",\n                  children: [/*#__PURE__*/_jsxDEV(\"video\", {\n                    src: file.url,\n                    className: \"media-thumbnail\",\n                    preload: \"metadata\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 837,\n                    columnNumber: 31\n                  }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"play-icon\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi bi-play-fill\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 838,\n                      columnNumber: 58\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 838,\n                    columnNumber: 31\n                  }, this), file.duration && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"video-duration\",\n                    children: [Math.round(file.duration), \"s\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 839,\n                    columnNumber: 49\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 836,\n                  columnNumber: 29\n                }, this)\n              }, file.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 832,\n                columnNumber: 25\n              }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"no-content-message text-center text-muted p-3\",\n                children: \"Ch\\u01B0a c\\xF3 \\u1EA3nh/video n\\xE0o.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 846,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 829,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 790,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 789,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-content-message text-center text-muted p-5\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Ch\\u1ECDn m\\u1ED9t li\\xEAn h\\u1EC7 ho\\u1EB7c nh\\xF3m \\u0111\\u1EC3 xem th\\xF4ng tin.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 855,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 854,\n        columnNumber: 14\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 744,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showProfileModal,\n      onHide: handleCloseProfileModal,\n      centered: true,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"C\\u1EADp nh\\u1EADt h\\u1ED3 s\\u01A1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 863,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 862,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"avatar-circle large mx-auto mb-2 position-relative\",\n            children: [profileData.avatarUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: profileData.avatarUrl,\n              alt: \"Avatar\",\n              className: \"avatar-img\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 869,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              children: ((_profileData$fullName = profileData.fullName) === null || _profileData$fullName === void 0 ? void 0 : _profileData$fullName.charAt(0).toUpperCase()) || ((_user$name2 = user.name) === null || _user$name2 === void 0 ? void 0 : _user$name2.charAt(0).toUpperCase()) || \"U\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 871,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"avatar-edit-button\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-pencil-fill\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 874,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                accept: \"image/*\",\n                style: {\n                  display: \"none\"\n                },\n                onChange: handleAvatarChangeEvent\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 875,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 873,\n              columnNumber: 18\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 867,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 866,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"H\\u1ECD v\\xE0 t\\xEAn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 880,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: profileData.fullName || \"\",\n            onChange: e => setProfileData({\n              ...profileData,\n              fullName: e.target.value\n            }),\n            placeholder: \"Nh\\u1EADp h\\u1ECD v\\xE0 t\\xEAn\",\n            className: \"form-control\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 881,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 879,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Ng\\xE0y sinh\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 890,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: profileData.birthdate || \"\",\n            onChange: e => setProfileData({\n              ...profileData,\n              birthdate: e.target.value\n            }),\n            className: \"form-control\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 891,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 889,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Gi\\u1EDBi t\\xEDnh\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 899,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: profileData.gender || \"\",\n            onChange: e => setProfileData({\n              ...profileData,\n              gender: e.target.value\n            }),\n            className: \"form-select\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Ch\\u1ECDn gi\\u1EDBi t\\xEDnh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 905,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Nam\",\n              children: \"Nam\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 906,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"N\\u1EEF\",\n              children: \"N\\u1EEF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 907,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Kh\\xE1c\",\n              children: \"Kh\\xE1c\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 908,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Kh\\xF4ng chia s\\u1EBB\",\n              children: \"Kh\\xF4ng mu\\u1ED1n n\\xF3i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 909,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 900,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 898,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 865,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-secondary\",\n          onClick: handleCloseProfileModal,\n          children: \"H\\u1EE7y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 914,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-primary\",\n          onClick: handleUpdateProfile,\n          disabled: loading,\n          children: loading ? /*#__PURE__*/_jsxDEV(Spinner, {\n            as: \"span\",\n            animation: \"border\",\n            size: \"sm\",\n            role: \"status\",\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 918,\n            columnNumber: 24\n          }, this) : \"Lưu thay đổi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 917,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 913,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 861,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showAddFriendModal,\n      onHide: handleCloseAddFriendModal,\n      centered: true,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Th\\xEAm b\\u1EA1n m\\u1EDBi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 926,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 925,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Nh\\u1EADp \\u0111\\u1ECBa ch\\u1EC9 email c\\u1EE7a ng\\u01B0\\u1EDDi b\\u1EA1n mu\\u1ED1n k\\u1EBFt b\\u1EA1n:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 929,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: friendEmail,\n            onChange: e => setFriendEmail(e.target.value),\n            placeholder: \"example@email.com\",\n            className: \"form-control\",\n            autoFocus: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 931,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 930,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 928,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-secondary\",\n          onClick: handleCloseAddFriendModal,\n          children: \"H\\u1EE7y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 942,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-primary\",\n          onClick: handleSubmitAddFriend,\n          disabled: loading || !friendEmail.trim(),\n          children: loading ? /*#__PURE__*/_jsxDEV(Spinner, {\n            as: \"span\",\n            animation: \"border\",\n            size: \"sm\",\n            role: \"status\",\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 946,\n            columnNumber: 25\n          }, this) : \"Gửi lời mời\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 945,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 941,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 924,\n      columnNumber: 7\n    }, this), showCreateGroupModal &&\n    /*#__PURE__*/\n    // Conditionally render modal to ensure fresh state if needed\n    _jsxDEV(CreateGroupModal, {\n      show: showCreateGroupModal,\n      onHide: () => setShowCreateGroupModal(false),\n      onGroupCreated: handleGroupCreated,\n      token: token // Pass token from hook\n      ,\n      userId: user.id // Pass userId from hook\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 953,\n      columnNumber: 11\n    }, this), showGroupInfoModal && selectedGroup &&\n    /*#__PURE__*/\n    // Conditionally render and ensure group data exists\n    _jsxDEV(GroupInfoModal, {\n      show: showGroupInfoModal,\n      onHide: () => setShowGroupInfoModal(false),\n      group: selectedGroup // Pass selected group from hook state\n      ,\n      token: token // Pass token from hook\n      ,\n      userId: user.id // Pass userId from hook\n      ,\n      onGroupUpdated: handleGroupUpdated,\n      onLeaveGroup: handleLeaveGroup,\n      onDeleteGroup: handleDeleteGroup\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 964,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 5\n  }, this);\n};\n_s(Home, \"/ojNJn/Da67cm1u+brm8TNK70L0=\", false, function () {\n  return [useChat];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","React","useState","Modal","Spinner","Toast","ToastContainer","useChat","CreateGroupModal","GroupInfoModal","API","apiClient","jsxDEV","_jsxDEV","Fragment","_Fragment","Home","_user$name","_selectedContact$name","_selectedContact$name2","_profileData$fullName","_user$name2","user","contacts","groups","selectedContact","messages","newMessage","isConnected","showEmojiPicker","searchQuery","mediaFiles","documents","showMedia","showFiles","activeTab","showProfileModal","profileData","loading","showAddFriendModal","friendEmail","error","showToast","friendRequests","showCreateGroupModal","showGroupInfoModal","selectedGroup","setNewMessage","setShowEmojiPicker","setSearchQuery","setShowProfileModal","setProfileData","setShowAddFriendModal","setFriendEmail","setShowToast","setShowCreateGroupModal","setShowGroupInfoModal","messagesEndRef","fileInputRef","imageInputRef","videoInputRef","handleContactSelect","handleSendMessage","handleSendFile","handleEmojiSelect","handleMessageAction","toggleMediaView","toggleFilesView","handleTabChange","handleProfileClick","handleCloseProfileModal","handleAvatarChange","handleUpdateProfile","handleAddFriend","handleCloseAddFriendModal","handleSubmitAddFriend","handleRespondToFriendRequest","handleRemoveFriend","handleCreateGroup","handleGroupCreated","handleGroupInfo","handleGroupUpdated","handleLeaveGroup","handleDeleteGroup","filteredContacts","filteredGroups","emojis","token","showChangePassword","setShowChangePassword","oldPassword","setOldPassword","newPassword","setNewPassword","confirmPassword","setConfirmPassword","passwordError","setPasswordError","handleSecurityClick","handleChangePassword","e","preventDefault","put","currentPassword","alert","message","handleFileSelectEvent","file","target","files","current","value","handleImageSelectEvent","handleVideoSelectEvent","handleAvatarChangeEvent","className","children","position","style","zIndex","onClose","show","delay","autohide","bg","includes","Header","closeButton","fileName","lineNumber","columnNumber","Body","onClick","avatar","src","alt","name","charAt","toUpperCase","title","length","type","placeholder","onChange","animation","variant","map","group","_group$name","id","groupId","memberCount","stopPropagation","contact","_contact$name","lastMessage","maxWidth","display","content","status","unreadCount","size","request","_request$sender","_request$sender2","_request$sender3","_request$sender4","sender","avatarUrl","fullName","email","requestId","disabled","filter","c","toLowerCase","_contact$name2","cursor","window","confirm","localStorage","clear","location","href","onSubmit","_message$sender","_message$sender2","_message$fileType","_message$fileType2","isSystemMessage","senderId","isSending","isError","isUnsent","isFile","fileType","fileUrl","download","isImage","maxHeight","borderRadius","isVideo","controls","duration","whiteSpace","wordBreak","time","ref","_fileInputRef$current","click","_imageInputRef$curren","accept","_videoInputRef$curren","emoji","index","console","log","onKeyDown","key","shiftKey","pointerEvents","trim","date","toFixed","url","preload","Math","round","onHide","centered","Title","birthdate","gender","Footer","as","role","autoFocus","onGroupCreated","userId","onGroupUpdated","onLeaveGroup","onDeleteGroup","_c","$RefreshReg$"],"sources":["C:/Users/ADMIN/Desktop/Nhom12_Zalo_Web/FE-WebAppZola/src/pages/Home.jsx"],"sourcesContent":["// src/pages/Home.jsx\n\"use client\" // Keep this if using Next.js App Router\n\nimport React, { useState } from \"react\" // Import React and useState\nimport { Modal, Spinner, Toast, ToastContainer } from \"react-bootstrap\"\nimport \"bootstrap/dist/css/bootstrap.min.css\"\nimport \"bootstrap-icons/font/bootstrap-icons.css\"\nimport \"../styles/home.css\" // Your specific styles\nimport useChat from \"../hooks/useChat\" // Import the custom hook\nimport CreateGroupModal from \"../components/CreateGroupModal\"\nimport GroupInfoModal from \"../components/GroupInfoModal\"\nimport { API, apiClient } from \"../config/api\"\n\n// --- Presentational Component ---\n\nconst Home = () => {\n  const {\n    // State\n    user,\n    contacts, // Use full list for counts or specific checks if needed\n    groups,   // Use full list for counts or specific checks if needed\n    selectedContact,\n    messages,\n    newMessage,\n    isConnected,\n    showEmojiPicker,\n    searchQuery,\n    mediaFiles,\n    documents,\n    showMedia,\n    showFiles,\n    activeTab,\n    showProfileModal,\n    profileData,\n    loading, // Use loading state for spinners etc.\n    showAddFriendModal,\n    friendEmail,\n    error,\n    showToast,\n    friendRequests,\n    showCreateGroupModal,\n    showGroupInfoModal,\n    selectedGroup, // Pass selectedGroup to GroupInfoModal\n\n    // Setters\n    setNewMessage,\n    setShowEmojiPicker,\n    setSearchQuery,\n    setShowProfileModal,\n    setProfileData,\n    setShowAddFriendModal,\n    setFriendEmail,\n    setShowToast,\n    setShowCreateGroupModal,\n    setShowGroupInfoModal,\n\n    // Refs\n    messagesEndRef,\n    fileInputRef,\n    imageInputRef,\n    videoInputRef,\n\n    // Handlers\n    handleContactSelect,\n    handleSendMessage,\n    handleSendFile, // Use the consolidated handler\n    handleEmojiSelect,\n    handleMessageAction,\n    toggleMediaView,\n    toggleFilesView,\n    handleTabChange,\n    handleProfileClick,\n    handleCloseProfileModal,\n    handleAvatarChange, // Pass the file directly\n    handleUpdateProfile,\n    handleAddFriend,\n    handleCloseAddFriendModal,\n    handleSubmitAddFriend,\n    handleRespondToFriendRequest,\n    handleRemoveFriend,\n    handleCreateGroup,\n    handleGroupCreated,\n    handleGroupInfo,\n    handleGroupUpdated,\n    handleLeaveGroup,\n    handleDeleteGroup,\n    // showError, // Not called directly from JSX\n\n    // Derived Data\n    filteredContacts,\n    filteredGroups,\n    emojis,\n    token, // Get token from hook\n  } = useChat()\n\n  const [showChangePassword, setShowChangePassword] = useState(false);\n  const [oldPassword, setOldPassword] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [passwordError, setPasswordError] = useState(\"\");\n\n  const handleSecurityClick = () => {\n    setShowChangePassword(true);\n    setPasswordError(\"\");\n    setOldPassword(\"\");\n    setNewPassword(\"\");\n    setConfirmPassword(\"\");\n  };\n\n  const handleChangePassword = async (e) => {\n    e.preventDefault();\n    setPasswordError(\"\");\n    if (!oldPassword || !newPassword || !confirmPassword) {\n      setPasswordError(\"Vui lòng nhập đầy đủ thông tin.\");\n      return;\n    }\n    if (newPassword === oldPassword) {\n      setPasswordError(\"Vui lòng nhập mật khẩu khác với mật khẩu cũ.\");\n      return;\n    }\n    if (newPassword !== confirmPassword) {\n      setPasswordError(\"Mật khẩu mới và xác nhận không khớp.\");\n      return;\n    }\n    try {\n      await apiClient.put(\"http://localhost:5000/api/users/update-password\", {\n        currentPassword: oldPassword,\n        newPassword: newPassword,\n      });\n      alert(\"Đổi mật khẩu thành công!\");\n      setShowChangePassword(false);\n    } catch (error) {\n      setPasswordError(error.message || \"Đổi mật khẩu thất bại.\");\n    }\n  };\n\n  // Specific handlers for file inputs that call the main handler\n  const handleFileSelectEvent = (e) => {\n    const file = e.target.files[0]\n    if (file) {\n      handleSendFile(file, \"file\")\n    }\n    if (fileInputRef.current) fileInputRef.current.value = null // Reset input\n  }\n  const handleImageSelectEvent = (e) => {\n    const file = e.target.files[0]\n    if (file) {\n      handleSendFile(file, \"image\")\n    }\n    if (imageInputRef.current) imageInputRef.current.value = null // Reset input\n  }\n  const handleVideoSelectEvent = (e) => {\n    const file = e.target.files[0]\n    if (file) {\n      handleSendFile(file, \"video\")\n    }\n    if (videoInputRef.current) videoInputRef.current.value = null // Reset input\n  }\n  const handleAvatarChangeEvent = (e) => {\n    const file = e.target.files[0]\n    if (file) {\n      handleAvatarChange(file) // Pass file to hook handler\n    }\n    // No need to reset avatar input usually\n     if (e.target) e.target.value = null; // Reset file input\n  }\n\n  return (\n    <div className=\"chat-app\">\n      {/* Toast Notification */}\n      <ToastContainer position=\"top-end\" className=\"p-3\" style={{ zIndex: 1056 }}> {/* Ensure high z-index, top-end is usually better */}\n        <Toast onClose={() => setShowToast(false)} show={showToast} delay={3000} autohide bg={error?.includes(\"thành công\") ? 'success' : 'danger'} > {/* Dynamic background */}\n          <Toast.Header closeButton={true}> {/* Ensure close button shows */}\n            <strong className=\"me-auto\">{error?.includes(\"thành công\") ? 'Thành công' : 'Thông báo'}</strong>\n          </Toast.Header>\n          <Toast.Body className={error?.includes(\"thành công\") ? 'text-white' : ''}>{error}</Toast.Body> {/* White text for success */}\n        </Toast>\n      </ToastContainer>\n\n      {/* Sidebar trái */}\n      <div className=\"sidebar left-sidebar\">\n        <div className=\"user-avatar\" onClick={handleProfileClick}>\n          <div className=\"avatar-circle pointer\">\n            {user.avatar ? (\n              <img src={user.avatar || \"/placeholder.svg\"} alt=\"Avatar\" className=\"avatar-img\" />\n            ) : (\n              <span>{user.name?.charAt(0).toUpperCase() || \"U\"}</span> // Add fallback\n            )}\n          </div>\n        </div>\n        <div className=\"sidebar-taskbar\">\n          <button\n            className={`taskbar-btn ${activeTab === \"chat\" ? \"active\" : \"\"}`}\n            onClick={() => handleTabChange(\"chat\")}\n            title=\"Tin nhắn\"\n          >\n            <i className=\"bi bi-chat\"></i>\n          </button>\n          <button\n            className={`taskbar-btn ${activeTab === \"contacts\" ? \"active\" : \"\"}`}\n            onClick={() => handleTabChange(\"contacts\")}\n            style={{ position: \"relative\" }}\n            title=\"Danh bạ\"\n          >\n            <i className=\"bi bi-people\"></i>\n            {friendRequests.length > 0 && <span className=\"request-badge\">{friendRequests.length}</span>}\n          </button>\n        </div>\n        <div className=\"setting-btn\">\n          <button\n            className={`taskbar-btn ${activeTab === \"settings\" ? \"active\" : \"\"}`}\n            onClick={() => handleTabChange(\"settings\")}\n            title=\"Cài đặt\"\n          >\n            <i className=\"bi bi-gear\"></i>\n          </button>\n        </div>\n      </div>\n\n      {/* Danh sách chat / Danh bạ / Cài đặt */}\n      <div className=\"chat-list-panel\">\n        <div className=\"search-container\">\n          <div className=\"search-input-wrapper\">\n            <i className=\"bi bi-search\"></i>\n            <input\n              type=\"text\"\n              placeholder=\"Tìm kiếm\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"search-input\"\n            />\n          </div>\n          <div className=\"user-buttons\">\n            <button className=\"user-button\" onClick={handleAddFriend} title=\"Thêm bạn\">\n              <i className=\"bi bi-person-plus\"></i>\n            </button>\n            <button className=\"user-button\" onClick={handleCreateGroup} title=\"Tạo nhóm\">\n              <i className=\"bi bi-people-fill\"></i>\n            </button>\n          </div>\n        </div>\n\n        {/* Chat Tab */}\n        {activeTab === \"chat\" && (\n          <div className=\"contact-list\">\n            {loading && contacts.length === 0 && groups.length === 0 ? ( // Show spinner only on initial load\n              <div className=\"d-flex justify-content-center p-3\">\n                 <Spinner animation=\"border\" variant=\"primary\" />\n              </div>\n            ) : (\n              <>\n                {/* Groups */}\n                {filteredGroups.length > 0 && (\n                  <div className=\"groups-section mb-3\">\n                    <div className=\"section-title\">Nhóm ({filteredGroups.length})</div>\n                    {filteredGroups.map((group) => (\n                      <div\n                        key={group.groupId}\n                        className={`contact-item ${\n                          selectedContact?.id === group.groupId && selectedContact?.type === \"group\" ? \"active\" : \"\"\n                        }`}\n                        onClick={() => handleContactSelect(group)}\n                      >\n                        <div className=\"contact-avatar\">\n                          <div className=\"avatar-circle\">\n                            {group.avatar ? (\n                              <img src={group.avatar || \"/placeholder.svg\"} alt=\"Avatar\" className=\"avatar-img\" />\n                            ) : (\n                              <span>{group.name?.charAt(0) || \"G\"}</span>\n                            )}\n                          </div>\n                        </div>\n                        <div className=\"contact-details\">\n                          <div className=\"contact-name\">{group.name}</div>\n                          <div className=\"contact-status small text-muted\">{group.memberCount || 0} thành viên</div>\n                        </div>\n                        {/* Optional: Add quick actions like info button */}\n                         <div className=\"contact-actions ms-auto\" onClick={(e) => e.stopPropagation()}>\n                          <button\n                            className=\"btn btn-sm btn-light\"\n                            onClick={() => handleGroupInfo(group)}\n                            title=\"Thông tin nhóm\"\n                          >\n                            <i className=\"bi bi-info-circle\"></i>\n                          </button>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n\n                {/* Contacts */}\n                {filteredContacts.length > 0 && (\n                  <div className=\"contacts-section\">\n                    <div className=\"section-title\">Bạn bè ({filteredContacts.length})</div>\n                    {filteredContacts.map((contact) => (\n                      <div\n                        key={contact.id}\n                        className={`contact-item ${\n                          selectedContact?.id === contact.id && selectedContact?.type === \"contact\" ? \"active\" : \"\"\n                        }`}\n                        onClick={() => handleContactSelect(contact)}\n                      >\n                        <div className=\"contact-avatar\">\n                          <div className=\"avatar-circle\">\n                            {contact.avatar ? (\n                              <img src={contact.avatar || \"/placeholder.svg\"} alt=\"Avatar\" className=\"avatar-img\" />\n                            ) : (\n                              <span>{contact.name?.charAt(0) || \"C\"}</span>\n                            )}\n                          </div>\n                        </div>\n                        <div className=\"contact-details\">\n                          <div className=\"contact-name\">{contact.name}</div>\n                          {/* Display last message and timestamp, or status */}\n                          <div className=\"contact-last-message small text-muted\">\n                            {contact.lastMessage ? (\n                              <span className=\"text-truncate\" style={{ maxWidth: '150px', display: 'inline-block' }}>\n                                {contact.lastMessage.type === 'text'\n                                  ? contact.lastMessage.content\n                                  : contact.lastMessage.type === 'image' || contact.lastMessage.type === 'imageGroup'\n                                  ? 'Đã gửi ảnh'\n                                  : contact.lastMessage.type === 'video'\n                                  ? 'Đã gửi video'\n                                  : contact.lastMessage.type === 'file'\n                                  ? `Đã gửi file: ${contact.lastMessage.name || ''}`\n                                  : contact.lastMessage.type === 'emoji'\n                                  ? contact.lastMessage.content // Show emoji directly\n                                  : 'Tệp đính kèm'}\n                              </span>\n                            ) : (\n                              <span>{contact.status}</span>\n                            )}\n                          </div>\n                        </div>\n                        {/* Display unread count */}\n                        <div className=\"contact-meta ms-auto\">\n                          {contact.unreadCount > 0 && (\n                            <span className=\"unread-badge\">{contact.unreadCount}</span>\n                          )}\n                        </div>\n                         {/* Optional: Add quick actions like remove friend */}\n                         <div className=\"contact-actions ms-auto\" onClick={(e) => e.stopPropagation()}>\n                          <button\n                            className=\"btn btn-sm btn-light text-danger\"\n                            onClick={() => handleRemoveFriend(contact.id)}\n                            title=\"Xóa bạn\"\n                          >\n                            <i className=\"bi bi-person-dash\"></i>\n                          </button>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n\n                {/* No Results */}\n                {!loading && filteredGroups.length === 0 && filteredContacts.length === 0 && (\n                  <div className=\"no-content-message p-3 text-center text-muted\">\n                    Không tìm thấy cuộc trò chuyện nào.\n                  </div>\n                )}\n              </>\n            )}\n          </div>\n        )}\n\n        {/* Contacts Tab */}\n        {activeTab === \"contacts\" && (\n          <div className=\"contacts-panel\"> {/* Use a different class if needed */}\n            <div className=\"section-title\">Danh bạ</div>\n\n            {/* Friend Requests */}\n            {friendRequests.length > 0 && (\n              <div className=\"friend-requests-section mb-3\">\n                <div className=\"sub-section-title\">Lời mời kết bạn ({friendRequests.length})</div>\n                {loading && friendRequests.length === 0 ? ( // Spinner only if loading and no requests yet\n                   <div className=\"d-flex justify-content-center p-3\">\n                     <Spinner animation=\"border\" variant=\"primary\" size=\"sm\"/>\n                   </div>\n                ) : (\n                  <div className=\"friend-requests-list\">\n                    {friendRequests.map((request) => (\n                      <div\n                        key={request.requestId}\n                        className=\"friend-request-item d-flex justify-content-between align-items-center p-2 border-bottom\"\n                      >\n                        <div className=\"d-flex align-items-center\">\n                          <div className=\"me-2\">\n                            <div className=\"avatar-circle small\">\n                              {request.sender?.avatarUrl ? (\n                                <img\n                                  src={request.sender.avatarUrl || \"/placeholder.svg\"}\n                                  alt=\"Avatar\"\n                                  className=\"avatar-img\"\n                                />\n                              ) : (\n                                <span>{request.sender?.fullName ? request.sender.fullName.charAt(0) : \"?\"}</span>\n                              )}\n                            </div>\n                          </div>\n                          <div>\n                            <div className=\"fw-bold small\">{request.sender?.fullName || request.sender?.email}</div>\n                            <div className=\"text-muted small fst-italic\">{request.message || \"Muốn kết bạn\"}</div>\n                          </div>\n                        </div>\n                        <div className=\"d-flex\">\n                          <button\n                            className=\"btn btn-sm btn-success me-1\"\n                            onClick={() => handleRespondToFriendRequest(request.requestId, \"accept\")}\n                            disabled={loading} // Disable while processing\n                            title=\"Chấp nhận\"\n                          >\n                            <i className=\"bi bi-check-lg\"></i>\n                          </button>\n                          <button\n                            className=\"btn btn-sm btn-outline-danger\"\n                            onClick={() => handleRespondToFriendRequest(request.requestId, \"reject\")}\n                            disabled={loading} // Disable while processing\n                            title=\"Từ chối\"\n                          >\n                             <i className=\"bi bi-x-lg\"></i>\n                          </button>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Friends List */}\n            <div className=\"contacts-list-section\">\n              <div className=\"sub-section-title\">Bạn bè ({contacts.filter(c => c.type === 'contact').length})</div> {/* Use full contacts list for count */}\n              <div className=\"contact-list\">\n                {loading && contacts.filter(c => c.type === 'contact').length === 0 ? ( // Spinner only if loading and no contacts yet\n                   <div className=\"d-flex justify-content-center p-3\">\n                     <Spinner animation=\"border\" variant=\"primary\" />\n                   </div>\n                ) : contacts.filter(c => c.type === 'contact').length > 0 ? (\n                  contacts // Map over the full contacts list, filtering inline\n                    .filter((c) => c.type === \"contact\")\n                    .filter((contact) => contact.name.toLowerCase().includes(searchQuery.toLowerCase())) // Apply search filter here\n                    .map((contact) => (\n                    <div\n                      key={contact.id}\n                      className={`contact-item ${selectedContact?.id === contact.id && selectedContact?.type === 'contact' ? 'active' : ''}`}\n                      onClick={() => { handleContactSelect(contact); handleTabChange('chat'); }} // Switch to chat tab on select\n                    >\n                      <div className=\"contact-avatar\">\n                        <div className=\"avatar-circle\">\n                          {contact.avatar ? (\n                            <img src={contact.avatar || \"/placeholder.svg\"} alt=\"Avatar\" className=\"avatar-img\" />\n                          ) : (\n                            <span>{contact.name?.charAt(0) || \"C\"}</span>\n                          )}\n                        </div>\n                      </div>\n                      <div className=\"contact-details\">\n                        <div className=\"contact-name\">{contact.name}</div>\n                        {/* <div className=\"contact-status\">{contact.status}</div> */}\n                      </div>\n                       <div className=\"contact-actions ms-auto\" onClick={(e) => e.stopPropagation()}>\n                          <button\n                            className=\"btn btn-sm btn-light text-danger\"\n                            onClick={() => handleRemoveFriend(contact.id)}\n                            title=\"Xóa bạn\"\n                          >\n                            <i className=\"bi bi-person-dash\"></i>\n                          </button>\n                        </div>\n                    </div>\n                  ))\n                ) : (\n                  <div className=\"no-content-message p-3 text-center text-muted\">Bạn chưa có bạn bè nào.</div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Settings Tab */}\n        {activeTab === \"settings\" && (\n          <div className=\"settings-section p-3\">\n            <div className=\"section-title\">Cài đặt</div>\n            <div className=\"settings-list\">\n              <div className=\"setting-item p-2 border-bottom d-flex align-items-center\" style={{cursor: 'pointer'}} onClick={handleProfileClick}>\n                <div className=\"setting-icon me-2\"><i className=\"bi bi-person-circle\"></i></div>\n                <div className=\"setting-details\">Hồ sơ</div>\n              </div>\n              <div className=\"setting-item p-2 border-bottom d-flex align-items-center\" style={{cursor: 'pointer'}}>\n                 <div className=\"setting-icon me-2\"><i className=\"bi bi-bell\"></i></div>\n                 <div className=\"setting-details\">Thông báo</div>\n              </div>\n              <div className=\"setting-item p-2 border-bottom d-flex align-items-center\" style={{cursor: 'pointer'}} onClick={handleSecurityClick}>\n                 <div className=\"setting-icon me-2\"><i className=\"bi bi-shield-lock\"></i></div>\n                 <div className=\"setting-details\">Bảo mật</div>\n              </div>\n               <div className=\"setting-item p-2 text-danger d-flex align-items-center\" style={{cursor: 'pointer'}} onClick={() => { if(window.confirm('Bạn có chắc muốn đăng xuất?')) { localStorage.clear(); window.location.href = '/login'; } }}>\n                 <div className=\"setting-icon me-2\"><i className=\"bi bi-box-arrow-right\"></i></div>\n                 <div className=\"setting-details\">Đăng xuất</div>\n              </div>\n            </div>\n            {/* Form đổi mật khẩu */}\n            {showChangePassword && (\n              <div className=\"change-password-form mt-4 p-3 border rounded bg-light\">\n                <h5>Đổi mật khẩu</h5>\n                <form onSubmit={handleChangePassword}>\n                  <div className=\"mb-3\">\n                    <label className=\"form-label\">Mật khẩu cũ</label>\n                    <input type=\"password\" className=\"form-control\" value={oldPassword} onChange={e => setOldPassword(e.target.value)} />\n                  </div>\n                  <div className=\"mb-3\">\n                    <label className=\"form-label\">Mật khẩu mới</label>\n                    <input type=\"password\" className=\"form-control\" value={newPassword} onChange={e => setNewPassword(e.target.value)} />\n                  </div>\n                  <div className=\"mb-3\">\n                    <label className=\"form-label\">Xác nhận mật khẩu mới</label>\n                    <input type=\"password\" className=\"form-control\" value={confirmPassword} onChange={e => setConfirmPassword(e.target.value)} />\n                  </div>\n                  {passwordError && <div className=\"text-danger mb-2\">{passwordError}</div>}\n                  <div className=\"d-flex gap-2\">\n                    <button type=\"submit\" className=\"btn btn-primary\">Đổi mật khẩu</button>\n                    <button type=\"button\" className=\"btn btn-secondary\" onClick={() => setShowChangePassword(false)}>Hủy</button>\n                  </div>\n                </form>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Main Chat Area */}\n      <div className=\"main-chat\">\n        {selectedContact ? (\n          <>\n            <div className=\"chat-header\">\n              <div className=\"chat-contact-info\">\n                <div className=\"contact-avatar me-2\">\n                  <div className=\"avatar-circle\">\n                    {selectedContact.avatar ? (\n                      <img src={selectedContact.avatar || \"/placeholder.svg\"} alt=\"Avatar\" className=\"avatar-img\" />\n                    ) : (\n                      <span>{selectedContact.name?.charAt(0) || \"?\"}</span>\n                    )}\n                  </div>\n                </div>\n                <div>\n                  <div className=\"contact-name\">{selectedContact.name}</div>\n                  <div className=\"active-status small text-muted\">\n                    {selectedContact.type === \"group\"\n                      ? `${selectedContact.memberCount || 0} thành viên`\n                      : selectedContact.status || \"Online\"} {/* Placeholder status */}\n                  </div>\n                </div>\n              </div>\n              <div className=\"chat-actions\">\n                <button className=\"action-btn\" title=\"Gọi thoại (chưa có)\">\n                  <i className=\"bi bi-telephone\"></i>\n                </button>\n                <button className=\"action-btn\" title=\"Gọi video (chưa có)\">\n                  <i className=\"bi bi-camera-video\"></i>\n                </button>\n                {selectedContact.type === \"group\" && (\n                    <button\n                    className=\"action-btn\"\n                    onClick={() => handleGroupInfo(selectedContact)}\n                    title=\"Thông tin nhóm\"\n                    >\n                    <i className=\"bi bi-info-circle\"></i>\n                    </button>\n                )}\n                 {/* Add search in chat button? */}\n              </div>\n            </div>\n\n            <div className=\"messages-container\">\n              {!isConnected && <div className=\"connection-status text-center text-warning p-1 small\">Đang kết nối lại...</div>}\n              {loading && messages.length === 0 && <div className=\"d-flex justify-content-center p-5\"><Spinner animation=\"border\" variant=\"primary\"/></div>} {/* Loading messages */}\n\n              {messages.map((message) => (\n                <div\n                  key={message.id} // Use message ID as key\n                  className={`message ${\n                    message.isSystemMessage ? \"system\" : message.senderId === user.id ? \"sent\" : \"received\"\n                  }`}\n                >\n                  {/* Avatar for received messages */}\n                  {message.senderId !== user.id && !message.isSystemMessage && (\n                    <div className=\"message-avatar\">\n                      <div className=\"avatar-circle small\">\n                        {/* Find sender avatar (might need lookup if group message) */}\n                        {selectedContact?.type === 'contact' && selectedContact?.avatar ? (\n                          <img src={selectedContact.avatar || \"/placeholder.svg\"} alt=\"Avatar\" className=\"avatar-img\" />\n                        ) : selectedContact?.type === 'group' ? (\n                           // Find member avatar in group (complex, maybe skip for now or show initial)\n                           <span>{message.sender?.charAt(0) || '?'}</span>\n                        ) : (\n                          <span>{message.sender?.charAt(0) || \"?\"}</span>\n                        )}\n                      </div>\n                    </div>\n                  )}\n                  <div className={`message-content-wrapper ${message.senderId === user.id ? \"align-items-end\" : \"align-items-start\"}`}>\n                     {/* Sender Name for received group messages */}\n                     {selectedContact?.type === 'group' && message.senderId !== user.id && !message.isSystemMessage && (\n                        <div className=\"message-sender-name small text-muted mb-1\">{message.sender}</div>\n                     )}\n\n                    {message.isSystemMessage ? (\n                      <div className=\"system-message-bubble\">\n                        <div className=\"system-message-content small\">\n                          {/* <i className=\"bi bi-info-circle me-1\"></i> */}\n                          {message.content}\n                        </div>\n                        {/* <div className=\"message-time small\">{message.time}</div> */}\n                      </div>\n                    ) : (\n                      <>\n                        <div className={`message-bubble ${message.isSending ? 'sending' : ''} ${message.isError ? 'error' : ''}`}>\n                          {message.isUnsent ? (\n                            <div className=\"unsent-content fst-italic text-muted\">{message.content}</div>\n                          ) : message.isFile ? (\n                            <div className=\"file-content d-flex align-items-center\">\n                              <i className={`bi bi-file-earmark${message.fileType?.includes('pdf') ? '-pdf' : message.fileType?.includes('word') ? '-word' : ''} fs-4 me-2`}></i>\n                              <div>\n                                <a href={message.fileUrl} download={message.fileName} className=\"text-break\">\n                                  {message.fileName}\n                                </a>\n                                {/* Add file size? */}\n                              </div>\n                            </div>\n                          ) : message.isImage ? (\n                            <div className=\"image-content\">\n                              <img src={message.content || \"/placeholder.svg\"} alt=\"Sent content\" style={{maxWidth: '250px', maxHeight: '300px', borderRadius: '8px'}}/>\n                            </div>\n                          ) : message.isVideo ? (\n                            <div className=\"video-content position-relative\">\n                              <video src={message.content} controls style={{maxWidth: '250px', maxHeight: '300px', borderRadius: '8px'}}></video>\n                              {message.duration && <div className=\"video-duration-overlay\">{message.duration}s</div>}\n                            </div>\n                          ) : (\n                            <div className=\"text-content\" style={{ whiteSpace: 'pre-wrap', wordBreak: 'break-word' }}>{message.content}</div>\n                          )}\n                           {message.isSending && <Spinner animation=\"border\" size=\"sm\" className=\"ms-2 sending-spinner\"/>}\n                           {message.isError && <i className=\"bi bi-exclamation-circle-fill text-danger ms-2\" title=\"Gửi lỗi\"></i>}\n                        </div>\n                        <div className=\"message-time small text-muted mt-1\">{message.time}</div>\n\n                        {/* Message Actions (Delete/Recall) */}\n                        {message.senderId === user.id && !message.isUnsent && !message.isSending && !message.isSystemMessage && (\n                          <div className=\"message-actions\">\n                            <button\n                              className=\"btn btn-sm btn-light\"\n                              onClick={() => handleMessageAction(message.id, \"delete\")}\n                              title=\"Xóa tin nhắn\"\n                            >\n                              <i className=\"bi bi-trash\"></i>\n                            </button>\n                            {/* Add Recall button later */}\n                          </div>\n                        )}\n                      </>\n                    )}\n                  </div>\n                </div>\n              ))}\n              <div ref={messagesEndRef} /> {/* For scrolling */}\n            </div>\n\n            <div className=\"message-input-area\">\n              {/* Input Tools */}\n              <div className=\"input-tools\">\n                <button className=\"tool-btn\" onClick={() => fileInputRef.current?.click()} title=\"Đính kèm file\">\n                  <i className=\"bi bi-paperclip\"></i>\n                </button>\n                <input type=\"file\" ref={fileInputRef} style={{ display: \"none\" }} onChange={handleFileSelectEvent} />\n\n                <button className=\"tool-btn\" onClick={() => imageInputRef.current?.click()} title=\"Gửi hình ảnh\">\n                  <i className=\"bi bi-image\"></i>\n                </button>\n                <input type=\"file\" ref={imageInputRef} accept=\"image/*\" style={{ display: \"none\" }} onChange={handleImageSelectEvent} />\n\n                <button className=\"tool-btn\" onClick={() => videoInputRef.current?.click()} title=\"Gửi video\">\n                  <i className=\"bi bi-camera-video\"></i>\n                </button>\n                <input type=\"file\" ref={videoInputRef} accept=\"video/*\" style={{ display: \"none\" }} onChange={handleVideoSelectEvent} />\n\n                 <button className=\"tool-btn\" onClick={() => setShowEmojiPicker(!showEmojiPicker)} title=\"Biểu cảm\">\n                   <i className=\"bi bi-emoji-smile\"></i>\n                 </button>\n\n                {/* <button className=\"tool-btn\" title=\"Ghi âm (chưa có)\">\n                  <i className=\"bi bi-mic\"></i>\n                </button> */}\n              </div>\n\n              {/* Emoji Picker */}\n              {showEmojiPicker && (\n                <div className=\"emoji-picker\">\n                  {emojis.map((emoji, index) => (\n                    <button key={index} className=\"emoji-btn\" onClick={() => handleEmojiSelect(emoji)}>\n                      {emoji}\n                    </button>\n                  ))}\n                </div>\n              )}\n\n              {/* Message Form */}\n              <form onSubmit={handleSendMessage} className=\"message-form\">\n                {console.log('Input state:', { isConnected, loading, selectedContact: !!selectedContact })}\n                <input\n                  type=\"text\"\n                  placeholder=\"Nhập tin nhắn...\"\n                  value={newMessage}\n                  onChange={(e) => setNewMessage(e.target.value)}\n                  disabled={!isConnected || loading} // Disable while loading messages too?\n                  className=\"message-input\"\n                  onKeyDown={(e) => { if (e.key === 'Enter' && !e.shiftKey) handleSendMessage(e); }} // Send on Enter\n                  style={{ pointerEvents: (!isConnected || loading) ? 'none' : 'auto' }} // Add visual feedback\n                />\n                <button\n                  type=\"submit\"\n                  className=\"send-btn\"\n                  disabled={!isConnected || !newMessage.trim() || loading}\n                  title=\"Gửi\"\n                >\n                  <i className=\"bi bi-send\"></i>\n                </button>\n              </form>\n            </div>\n          </>\n        ) : (\n          <div className=\"no-chat-selected\">\n            <div className=\"text-center p-5\">\n              <i className=\"bi bi-chat-dots display-1 text-muted\"></i>\n              <p className=\"mt-3\">Chọn một cuộc trò chuyện để bắt đầu</p>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Right Sidebar (Contact/Group Info) */}\n      <div className={`sidebar right-sidebar ${selectedContact ? 'active' : ''}`}> {/* Toggle visibility */}\n        {selectedContact ? (\n          <>\n            <div className=\"contact-profile p-3 text-center border-bottom\">\n              <div className=\"avatar-circle large mx-auto mb-2\">\n                {selectedContact.avatar ? (\n                  <img src={selectedContact.avatar || \"/placeholder.svg\"} alt=\"Avatar\" className=\"avatar-img\" />\n                ) : (\n                  <span>{selectedContact.name?.charAt(0) || \"?\"}</span>\n                )}\n              </div>\n              <h5 className=\"profile-name mb-1\">{selectedContact.name}</h5>\n              {selectedContact.type === \"group\" && (\n                <div className=\"group-info\">\n                  <span className=\"badge bg-secondary\">{selectedContact.memberCount || 0} thành viên</span>\n                </div>\n              )}\n               {/* Add more profile actions/info here */}\n               {selectedContact.type === 'contact' && (\n                 <div className=\"mt-2\">\n                    <button className=\"btn btn-sm btn-outline-danger\" onClick={() => handleRemoveFriend(selectedContact.id)}>\n                        <i className=\"bi bi-person-dash me-1\"></i> Xóa bạn\n                    </button>\n                 </div>\n               )}\n                {selectedContact.type === 'group' && (\n                 <div className=\"mt-2\">\n                    <button className=\"btn btn-sm btn-outline-primary\" onClick={() => handleGroupInfo(selectedContact)}>\n                        <i className=\"bi bi-info-circle me-1\"></i> Thông tin nhóm\n                    </button>\n                 </div>\n               )}\n            </div>\n\n            {/* <div className=\"profile-actions p-2 border-bottom\">\n              <div className=\"action-item d-flex align-items-center p-2\">\n                <div className=\"action-icon me-2\"><i className=\"bi bi-bell\"></i></div>\n                <div className=\"action-text\">Tắt thông báo</div>\n              </div>\n               <div className=\"action-item d-flex align-items-center p-2\">\n                 <div className=\"action-icon me-2\"><i className=\"bi bi-pin-angle\"></i></div>\n                 <div className=\"action-text\">Ghim hội thoại</div>\n               </div>\n            </div> */}\n\n            <div className=\"additional-info p-2\">\n              <div className=\"info-section\">\n                <div className=\"media-tabs nav nav-tabs nav-fill mb-2\">\n                   <button className={`nav-link ${showMedia ? \"active\" : \"\"}`} onClick={toggleMediaView}>\n                     <i className=\"bi bi-images me-1\"></i> Ảnh/Video ({mediaFiles.length})\n                   </button>\n                   <button className={`nav-link ${showFiles ? \"active\" : \"\"}`} onClick={toggleFilesView}>\n                     <i className=\"bi bi-file-earmark me-1\"></i> File ({documents.length})\n                   </button>\n                </div>\n\n                {/* Files List */}\n                {showFiles && (\n                  <div className=\"files-list overflow-auto\" style={{maxHeight: 'calc(100vh - 300px)'}}> {/* Adjust maxHeight */}\n                    {documents.length > 0 ? (\n                      documents.map((file) => (\n                        <div key={file.id} className=\"file-item d-flex align-items-center p-2 border-bottom\">\n                          <div className=\"file-icon me-2\">\n                            <i className={`bi bi-file-earmark${file.type === \"pdf\" ? \"-pdf text-danger\" : file.type === \"docx\" ? \"-word text-primary\" : \"\"} fs-4`}></i>\n                          </div>\n                          <div className=\"file-info overflow-hidden\">\n                            <div className=\"file-name text-truncate small fw-bold\">{file.name}</div>\n                            <div className=\"file-meta small text-muted\">\n                              {file.date}\n                              {file.size > 0 && <span className=\"file-size\"> · {(file.size / (1024 * 1024)).toFixed(2)}MB</span>}\n                            </div>\n                          </div>\n                           <a href={file.url} download={file.name} className=\"ms-auto btn btn-sm btn-light\" title=\"Tải xuống\">\n                               <i className=\"bi bi-download\"></i>\n                           </a>\n                        </div>\n                      ))\n                    ) : (\n                      <div className=\"no-content-message text-center text-muted p-3\">Chưa có file nào.</div>\n                    )}\n                  </div>\n                )}\n\n                {/* Media Grid */}\n                {showMedia && (\n                  <div className=\"media-grid overflow-auto\" style={{maxHeight: 'calc(100vh - 300px)'}}> {/* Adjust maxHeight */}\n                    {mediaFiles.length > 0 ? (\n                      mediaFiles.map((file) => (\n                        <div key={file.id} className=\"media-item position-relative\">\n                          {file.type === \"image\" ? (\n                            <img src={file.url || \"/placeholder.svg\"} alt={file.name} className=\"media-thumbnail\" />\n                          ) : (\n                            <div className=\"video-thumbnail\">\n                              <video src={file.url} className=\"media-thumbnail\" preload=\"metadata\"></video> {/* Preload metadata */}\n                              <div className=\"play-icon\"><i className=\"bi bi-play-fill\"></i></div>\n                              {file.duration && <div className=\"video-duration\">{Math.round(file.duration)}s</div>} {/* Round duration */}\n                            </div>\n                          )}\n                           {/* Add overlay for info or download? */}\n                        </div>\n                      ))\n                    ) : (\n                      <div className=\"no-content-message text-center text-muted p-3\">Chưa có ảnh/video nào.</div>\n                    )}\n                  </div>\n                )}\n              </div>\n            </div>\n          </>\n        ) : (\n             <div className=\"no-content-message text-center text-muted p-5\">\n                <p>Chọn một liên hệ hoặc nhóm để xem thông tin.</p>\n             </div>\n        )}\n      </div>\n\n      {/* Modal Profile */}\n      <Modal show={showProfileModal} onHide={handleCloseProfileModal} centered>\n        <Modal.Header closeButton>\n          <Modal.Title>Cập nhật hồ sơ</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"text-center mb-3\">\n             <div className=\"avatar-circle large mx-auto mb-2 position-relative\">\n                {profileData.avatarUrl ? (\n                  <img src={profileData.avatarUrl} alt=\"Avatar\" className=\"avatar-img\" />\n                ) : (\n                  <span>{profileData.fullName?.charAt(0).toUpperCase() || user.name?.charAt(0).toUpperCase() || \"U\"}</span>\n                )}\n                 <label className=\"avatar-edit-button\">\n                    <i className=\"bi bi-pencil-fill\"></i>\n                    <input type=\"file\" accept=\"image/*\" style={{ display: \"none\" }} onChange={handleAvatarChangeEvent} />\n                 </label>\n              </div>\n          </div>\n          <div className=\"mb-3\">\n            <label className=\"form-label\">Họ và tên</label>\n            <input\n              type=\"text\"\n              value={profileData.fullName || \"\"}\n              onChange={(e) => setProfileData({ ...profileData, fullName: e.target.value })}\n              placeholder=\"Nhập họ và tên\"\n              className=\"form-control\"\n            />\n          </div>\n          <div className=\"mb-3\">\n             <label className=\"form-label\">Ngày sinh</label>\n            <input\n              type=\"date\"\n              value={profileData.birthdate || \"\"}\n              onChange={(e) => setProfileData({ ...profileData, birthdate: e.target.value })}\n              className=\"form-control\"\n            />\n          </div>\n          <div className=\"mb-3\">\n             <label className=\"form-label\">Giới tính</label>\n            <select\n              value={profileData.gender || \"\"}\n              onChange={(e) => setProfileData({ ...profileData, gender: e.target.value })}\n              className=\"form-select\"\n            >\n              <option value=\"\">Chọn giới tính</option>\n              <option value=\"Nam\">Nam</option>\n              <option value=\"Nữ\">Nữ</option>\n              <option value=\"Khác\">Khác</option>\n              <option value=\"Không chia sẻ\">Không muốn nói</option>\n            </select>\n          </div>\n        </Modal.Body>\n        <Modal.Footer>\n          <button type=\"button\" className=\"btn btn-secondary\" onClick={handleCloseProfileModal}>\n            Hủy\n          </button>\n          <button type=\"button\" className=\"btn btn-primary\" onClick={handleUpdateProfile} disabled={loading}>\n            {loading ? <Spinner as=\"span\" animation=\"border\" size=\"sm\" role=\"status\" aria-hidden=\"true\" /> : \"Lưu thay đổi\"}\n          </button>\n        </Modal.Footer>\n      </Modal>\n\n      {/* Modal Add Friend */}\n      <Modal show={showAddFriendModal} onHide={handleCloseAddFriendModal} centered>\n        <Modal.Header closeButton>\n          <Modal.Title>Thêm bạn mới</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <p>Nhập địa chỉ email của người bạn muốn kết bạn:</p>\n          <div className=\"mb-3\">\n            <input\n              type=\"email\"\n              value={friendEmail}\n              onChange={(e) => setFriendEmail(e.target.value)}\n              placeholder=\"example@email.com\"\n              className=\"form-control\"\n              autoFocus\n            />\n          </div>\n        </Modal.Body>\n         <Modal.Footer>\n           <button type=\"button\" className=\"btn btn-secondary\" onClick={handleCloseAddFriendModal}>\n             Hủy\n           </button>\n           <button type=\"button\" className=\"btn btn-primary\" onClick={handleSubmitAddFriend} disabled={loading || !friendEmail.trim()}>\n             {loading ? <Spinner as=\"span\" animation=\"border\" size=\"sm\" role=\"status\" aria-hidden=\"true\" /> : \"Gửi lời mời\"}\n           </button>\n         </Modal.Footer>\n      </Modal>\n\n      {/* Modal Create Group */}\n      {showCreateGroupModal && ( // Conditionally render modal to ensure fresh state if needed\n          <CreateGroupModal\n            show={showCreateGroupModal}\n            onHide={() => setShowCreateGroupModal(false)}\n            onGroupCreated={handleGroupCreated}\n            token={token} // Pass token from hook\n            userId={user.id} // Pass userId from hook\n          />\n      )}\n\n      {/* Modal Group Info */}\n      {showGroupInfoModal && selectedGroup && ( // Conditionally render and ensure group data exists\n          <GroupInfoModal\n            show={showGroupInfoModal}\n            onHide={() => setShowGroupInfoModal(false)}\n            group={selectedGroup} // Pass selected group from hook state\n            token={token} // Pass token from hook\n            userId={user.id} // Pass userId from hook\n            onGroupUpdated={handleGroupUpdated}\n            onLeaveGroup={handleLeaveGroup}\n            onDeleteGroup={handleDeleteGroup}\n          />\n       )}\n\n    </div>\n  )\n}\n\nexport default Home\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}